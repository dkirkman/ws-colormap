module.exports=function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=6)}([function(t,n,e){"use strict";e.r(n);var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var u=r+i>>>1;t(n[u],e)<0?r=u+1:i=u}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var u=r+i>>>1;t(n[u],e)>0?i=u:r=u+1}return r}}};var u=i(r),o=u.right,a=u.left,f=o,c=function(t,n){null==n&&(n=l);for(var e=0,r=t.length-1,i=t[0],u=new Array(r<0?0:r);e<r;)u[e]=n(i,i=t[++e]);return u};function l(t,n){return[t,n]}var s=function(t,n,e){var r,i,u,o,a=t.length,f=n.length,c=new Array(a*f);for(null==e&&(e=l),r=u=0;r<a;++r)for(o=t[r],i=0;i<f;++i,++u)c[u]=e(o,n[i]);return c},h=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,n){var e,r,i=t.length,u=0,o=-1,a=0,f=0;if(null==n)for(;++o<i;)isNaN(e=d(t[o]))||(f+=(r=e-a)*(e-(a+=r/++u)));else for(;++o<i;)isNaN(e=d(n(t[o],o,t)))||(f+=(r=e-a)*(e-(a+=r/++u)));if(u>1)return f/(u-1)},b=function(t,n){var e=p(t,n);return e?Math.sqrt(e):e},g=function(t,n){var e,r,i,u=t.length,o=-1;if(null==n){for(;++o<u;)if(null!=(e=t[o])&&e>=e)for(r=i=e;++o<u;)null!=(e=t[o])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++o<u;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=i=e;++o<u;)null!=(e=n(t[o],o,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},v=Array.prototype,y=v.slice,_=v.map,m=function(t){return function(){return t}},x=function(t){return t},w=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),u=new Array(i);++r<i;)u[r]=t+r*e;return u},M=Math.sqrt(50),k=Math.sqrt(10),N=Math.sqrt(2),A=function(t,n,e){var r,i,u,o,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=S(t,n,e))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),u=new Array(i=Math.ceil(n-t+1));++a<i;)u[a]=(t+a)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),u=new Array(i=Math.ceil(t-n+1));++a<i;)u[a]=(t-a)/o;return r&&u.reverse(),u};function S(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=M?10:u>=k?5:u>=N?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=M?10:u>=k?5:u>=N?2:1)}function E(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=M?i*=10:u>=k?i*=5:u>=N&&(i*=2),n<t?-i:i}var T=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},C=function(){var t=x,n=g,e=T;function r(r){var i,u,o=r.length,a=new Array(o);for(i=0;i<o;++i)a[i]=t(r[i],i,r);var c=n(a),l=c[0],s=c[1],h=e(a,l,s);Array.isArray(h)||(h=E(l,s,h),h=w(Math.ceil(l/h)*h,Math.floor(s/h)*h,h));for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>s;)h.pop(),--d;var p,b=new Array(d+1);for(i=0;i<=d;++i)(p=b[i]=[]).x0=i>0?h[i-1]:l,p.x1=i<d?h[i]:s;for(i=0;i<o;++i)l<=(u=a[i])&&u<=s&&b[f(h,u,0,d)].push(r[i]);return b}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:m(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:m([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?m(y.call(t)):m(t),r):e},r},P=function(t,n,e){if(null==e&&(e=d),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,u=Math.floor(i),o=+e(t[u],u,t);return o+(+e(t[u+1],u+1,t)-o)*(i-u)}},z=function(t,n,e){return t=_.call(t,d).sort(r),Math.ceil((e-n)/(2*(P(t,.75)-P(t,.25))*Math.pow(t.length,-1/3)))},R=function(t,n,e){return Math.ceil((e-n)/(3.5*b(t)*Math.pow(t.length,-1/3)))},O=function(t,n){var e,r,i=t.length,u=-1;if(null==n){for(;++u<i;)if(null!=(e=t[u])&&e>=e)for(r=e;++u<i;)null!=(e=t[u])&&e>r&&(r=e)}else for(;++u<i;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=e;++u<i;)null!=(e=n(t[u],u,t))&&e>r&&(r=e);return r},L=function(t,n){var e,r=t.length,i=r,u=-1,o=0;if(null==n)for(;++u<r;)isNaN(e=d(t[u]))?--i:o+=e;else for(;++u<r;)isNaN(e=d(n(t[u],u,t)))?--i:o+=e;if(i)return o/i},q=function(t,n){var e,i=t.length,u=-1,o=[];if(null==n)for(;++u<i;)isNaN(e=d(t[u]))||o.push(e);else for(;++u<i;)isNaN(e=d(n(t[u],u,t)))||o.push(e);return P(o.sort(r),.5)},D=function(t){for(var n,e,r,i=t.length,u=-1,o=0;++u<i;)o+=t[u].length;for(e=new Array(o);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--o]=r[n];return e},U=function(t,n){var e,r,i=t.length,u=-1;if(null==n){for(;++u<i;)if(null!=(e=t[u])&&e>=e)for(r=e;++u<i;)null!=(e=t[u])&&r>e&&(r=e)}else for(;++u<i;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=e;++u<i;)null!=(e=n(t[u],u,t))&&r>e&&(r=e);return r},B=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},Y=function(t,n){if(e=t.length){var e,i,u=0,o=0,a=t[o];for(null==n&&(n=r);++u<e;)(n(i=t[u],a)<0||0!==n(a,a))&&(a=i,o=u);return 0===n(a,a)?o:void 0}},j=function(t,n,e){for(var r,i,u=(null==e?t.length:e)-(n=null==n?0:+n);u;)i=Math.random()*u--|0,r=t[u+n],t[u+n]=t[i+n],t[i+n]=r;return t},I=function(t,n){var e,r=t.length,i=-1,u=0;if(null==n)for(;++i<r;)(e=+t[i])&&(u+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(u+=e);return u},F=function(t){if(!(i=t.length))return[];for(var n=-1,e=U(t,H),r=new Array(e);++n<e;)for(var i,u=-1,o=r[n]=new Array(i);++u<i;)o[u]=t[u][n];return r};function H(t){return t.length}var G=function(){return F(arguments)},X=Array.prototype.slice,V=function(t){return t},$=1,W=2,Z=3,Q=4,K=1e-6;function J(t){return"translate("+(t+.5)+",0)"}function tt(t){return"translate(0,"+(t+.5)+")"}function nt(){return!this.__axis}function et(t,n){var e=[],r=null,i=null,u=6,o=6,a=3,f=t===$||t===Q?-1:1,c=t===Q||t===W?"x":"y",l=t===$||t===Z?J:tt;function s(s){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):V:i,p=Math.max(u,0)+a,b=n.range(),g=+b[0]+.5,v=+b[b.length-1]+.5,y=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),_=s.selection?s.selection():s,m=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),k=x.select("line"),N=x.select("text");m=m.merge(m.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(M),k=k.merge(M.append("line").attr("stroke","#000").attr(c+"2",f*u)),N=N.merge(M.append("text").attr("fill","#000").attr(c,f*p).attr("dy",t===$?"0em":t===Z?"0.71em":"0.32em")),s!==_&&(m=m.transition(s),x=x.transition(s),k=k.transition(s),N=N.transition(s),w=w.transition(s).attr("opacity",K).attr("transform",function(t){return isFinite(t=y(t))?l(t):this.getAttribute("transform")}),M.attr("opacity",K).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:y(t))})),w.remove(),m.attr("d",t===Q||t==W?"M"+f*o+","+g+"H0.5V"+v+"H"+f*o:"M"+g+","+f*o+"V0.5H"+v+"V"+f*o),x.attr("opacity",1).attr("transform",function(t){return l(y(t))}),k.attr(c+"2",f*u),N.attr(c,f*p).text(d),_.filter(nt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===W?"start":t===Q?"end":"middle"),_.each(function(){this.__axis=y})}return s.scale=function(t){return arguments.length?(n=t,s):n},s.ticks=function(){return e=X.call(arguments),s},s.tickArguments=function(t){return arguments.length?(e=null==t?[]:X.call(t),s):e.slice()},s.tickValues=function(t){return arguments.length?(r=null==t?null:X.call(t),s):r&&r.slice()},s.tickFormat=function(t){return arguments.length?(i=t,s):i},s.tickSize=function(t){return arguments.length?(u=o=+t,s):u},s.tickSizeInner=function(t){return arguments.length?(u=+t,s):u},s.tickSizeOuter=function(t){return arguments.length?(o=+t,s):o},s.tickPadding=function(t){return arguments.length?(a=+t,s):a},s}function rt(t){return et($,t)}function it(t){return et(W,t)}function ut(t){return et(Z,t)}function ot(t){return et(Q,t)}var at={value:function(){}};function ft(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new ct(r)}function ct(t){this._=t}function lt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function st(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=at,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}ct.prototype=ft.prototype={constructor:ct,on:function(t,n){var e,r,i=this._,u=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),o=-1,a=u.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=u[o]).type)i[e]=st(i[e],t.name,n);else if(null==n)for(e in i)i[e]=st(i[e],t.name,null);return this}for(;++o<a;)if((e=(t=u[o]).type)&&(e=lt(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ct(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),u=0;u<e;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=0,e=(r=this._[t]).length;u<e;++u)r[u].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,u=r.length;i<u;++i)r[i].value.apply(n,e)}};var ht=ft,dt="http://www.w3.org/1999/xhtml",pt={svg:"http://www.w3.org/2000/svg",xhtml:dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bt=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),pt.hasOwnProperty(n)?{space:pt[n],local:t}:t};var gt=function(t){var n=bt(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===dt&&n.documentElement.namespaceURI===dt?n.createElement(t):n.createElementNS(e,t)}})(n)};function vt(){}var yt=function(t){return null==t?vt:function(){return this.querySelector(t)}};function _t(){return[]}var mt=function(t){return null==t?_t:function(){return this.querySelectorAll(t)}},xt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var wt=document.documentElement;if(!wt.matches){var Mt=wt.webkitMatchesSelector||wt.msMatchesSelector||wt.mozMatchesSelector||wt.oMatchesSelector;xt=function(t){return function(){return Mt.call(this,t)}}}}var kt=xt,Nt=function(t){return new Array(t.length)};function At(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}At.prototype={constructor:At,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var St="$";function Et(t,n,e,r,i,u){for(var o,a=0,f=n.length,c=u.length;a<c;++a)(o=n[a])?(o.__data__=u[a],r[a]=o):e[a]=new At(t,u[a]);for(;a<f;++a)(o=n[a])&&(i[a]=o)}function Tt(t,n,e,r,i,u,o){var a,f,c,l={},s=n.length,h=u.length,d=new Array(s);for(a=0;a<s;++a)(f=n[a])&&(d[a]=c=St+o.call(f,f.__data__,a,n),c in l?i[a]=f:l[c]=f);for(a=0;a<h;++a)(f=l[c=St+o.call(t,u[a],a,u)])?(r[a]=f,f.__data__=u[a],l[c]=null):e[a]=new At(t,u[a]);for(a=0;a<s;++a)(f=n[a])&&l[d[a]]===f&&(i[a]=f)}function Ct(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var Pt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function zt(t,n){return t.style.getPropertyValue(n)||Pt(t).getComputedStyle(t,null).getPropertyValue(n)}function Rt(t){return t.trim().split(/^|\s+/)}function Ot(t){return t.classList||new Lt(t)}function Lt(t){this._node=t,this._names=Rt(t.getAttribute("class")||"")}function qt(t,n){for(var e=Ot(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Dt(t,n){for(var e=Ot(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}Lt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ut(){this.textContent=""}function Bt(){this.innerHTML=""}function Yt(){this.nextSibling&&this.parentNode.appendChild(this)}function jt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function It(){return null}function Ft(){var t=this.parentNode;t&&t.removeChild(this)}function Ht(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Gt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Xt={},Vt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Xt={mouseenter:"mouseover",mouseleave:"mouseout"}));function $t(t,n,e){return t=Wt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Wt(t,n,e){return function(r){var i=Vt;Vt=r;try{t.call(this,this.__data__,n,e)}finally{Vt=i}}}function Zt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,u=n.length;r<u;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Qt(t,n,e){var r=Xt.hasOwnProperty(t.type)?$t:Wt;return function(i,u,o){var a,f=this.__on,c=r(n,u,o);if(f)for(var l=0,s=f.length;l<s;++l)if((a=f[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=e),void(a.value=n);this.addEventListener(t.type,c,e),a={type:t.type,name:t.name,value:n,listener:c,capture:e},f?f.push(a):this.__on=[a]}}function Kt(t,n,e,r){var i=Vt;t.sourceEvent=Vt,Vt=t;try{return n.apply(e,r)}finally{Vt=i}}function Jt(t,n,e){var r=Pt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var tn=[null];function nn(t,n){this._groups=t,this._parents=n}function en(){return new nn([[document.documentElement]],tn)}nn.prototype=en.prototype={constructor:nn,select:function(t){"function"!=typeof t&&(t=yt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,o,a=n[i],f=a.length,c=r[i]=new Array(f),l=0;l<f;++l)(u=a[l])&&(o=t.call(u,u.__data__,l,a))&&("__data__"in u&&(o.__data__=u.__data__),c[l]=o);return new nn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=mt(t));for(var n=this._groups,e=n.length,r=[],i=[],u=0;u<e;++u)for(var o,a=n[u],f=a.length,c=0;c<f;++c)(o=a[c])&&(r.push(t.call(o,o.__data__,c,a)),i.push(o));return new nn(r,i)},filter:function(t){"function"!=typeof t&&(t=kt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,o=n[i],a=o.length,f=r[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&f.push(u);return new nn(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e,r=n?Tt:Et,i=this._parents,u=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var o=u.length,a=new Array(o),f=new Array(o),c=new Array(o),l=0;l<o;++l){var s=i[l],h=u[l],d=h.length,p=t.call(s,s&&s.__data__,l,i),b=p.length,g=f[l]=new Array(b),v=a[l]=new Array(b);r(s,h,g,v,c[l]=new Array(d),p,n);for(var y,_,m=0,x=0;m<b;++m)if(y=g[m]){for(m>=x&&(x=m+1);!(_=v[x])&&++x<b;);y._next=_||null}}return(a=new nn(a,i))._enter=f,a._exit=c,a},enter:function(){return new nn(this._enter||this._groups.map(Nt),this._parents)},exit:function(){return new nn(this._exit||this._groups.map(Nt),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,u=Math.min(r,i),o=new Array(r),a=0;a<u;++a)for(var f,c=n[a],l=e[a],s=c.length,h=o[a]=new Array(s),d=0;d<s;++d)(f=c[d]||l[d])&&(h[d]=f);for(;a<r;++a)o[a]=n[a];return new nn(o,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],u=i.length-1,o=i[u];--u>=0;)(r=i[u])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Ct);for(var e=this._groups,r=e.length,i=new Array(r),u=0;u<r;++u){for(var o,a=e[u],f=a.length,c=i[u]=new Array(f),l=0;l<f;++l)(o=a[l])&&(c[l]=o);c.sort(n)}return new nn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,u=r.length;i<u;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,u=n[e],o=0,a=u.length;o<a;++o)(i=u[o])&&t.call(i,i.__data__,o,u);return this},attr:function(t,n){var e=bt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):zt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Rt(t+"");if(arguments.length<2){for(var r=Ot(this.node()),i=-1,u=e.length;++i<u;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?qt:Dt)(this,t)}}:n?function(t){return function(){qt(this,t)}}:function(t){return function(){Dt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Ut:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Bt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Yt)},lower:function(){return this.each(jt)},append:function(t){var n="function"==typeof t?t:gt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:gt(t),r=null==n?It:"function"==typeof n?n:yt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ft)},clone:function(t){return this.select(t?Gt:Ht)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,u=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),o=u.length;if(!(arguments.length<2)){for(a=n?Qt:Zt,null==e&&(e=!1),r=0;r<o;++r)this.each(a(u[r],n,e));return this}var a=this.node().__on;if(a)for(var f,c=0,l=a.length;c<l;++c)for(r=0,f=a[c];r<o;++r)if((i=u[r]).type===f.type&&i.name===f.name)return f.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Jt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Jt(this,t,n)}})(t,n))}};var rn=en,un=function(t){return"string"==typeof t?new nn([[document.querySelector(t)]],[document.documentElement]):new nn([[t]],tn)},on=function(t){return un(gt(t).call(document.documentElement))},an=0;function fn(){return new cn}function cn(){this._="@"+(++an).toString(36)}cn.prototype=fn.prototype={constructor:cn,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ln=function(){for(var t,n=Vt;t=n.sourceEvent;)n=t;return n},sn=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},hn=function(t){var n=ln();return n.changedTouches&&(n=n.changedTouches[0]),sn(t,n)},dn=function(t){return"string"==typeof t?new nn([document.querySelectorAll(t)],[document.documentElement]):new nn([null==t?[]:t],tn)},pn=function(t,n,e){arguments.length<3&&(e=n,n=ln().changedTouches);for(var r,i=0,u=n?n.length:0;i<u;++i)if((r=n[i]).identifier===e)return sn(t,r);return null},bn=function(t,n){null==n&&(n=ln().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=sn(t,n[e]);return i};function gn(){Vt.stopImmediatePropagation()}var vn=function(){Vt.preventDefault(),Vt.stopImmediatePropagation()},yn=function(t){var n=t.document.documentElement,e=un(t).on("dragstart.drag",vn,!0);"onselectstart"in n?e.on("selectstart.drag",vn,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function _n(t,n){var e=t.document.documentElement,r=un(t).on("dragstart.drag",null);n&&(r.on("click.drag",vn,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var mn=function(t){return function(){return t}};function xn(t,n,e,r,i,u,o,a,f,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=u,this.y=o,this.dx=a,this.dy=f,this._=c}function wn(){return!Vt.button}function Mn(){return this.parentNode}function kn(t){return null==t?{x:Vt.x,y:Vt.y}:t}function Nn(){return"ontouchstart"in this}xn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var An=function(){var t,n,e,r,i=wn,u=Mn,o=kn,a=Nn,f={},c=ht("start","drag","end"),l=0,s=0;function h(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",g).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var o=_("mouse",u.apply(this,arguments),hn,this,arguments);o&&(un(Vt.view).on("mousemove.drag",p,!0).on("mouseup.drag",b,!0),yn(Vt.view),gn(),e=!1,t=Vt.clientX,n=Vt.clientY,o("start"))}}function p(){if(vn(),!e){var r=Vt.clientX-t,i=Vt.clientY-n;e=r*r+i*i>s}f.mouse("drag")}function b(){un(Vt.view).on("mousemove.drag mouseup.drag",null),_n(Vt.view,e),vn(),f.mouse("end")}function g(){if(i.apply(this,arguments)){var t,n,e=Vt.changedTouches,r=u.apply(this,arguments),o=e.length;for(t=0;t<o;++t)(n=_(e[t].identifier,r,pn,this,arguments))&&(gn(),n("start"))}}function v(){var t,n,e=Vt.changedTouches,r=e.length;for(t=0;t<r;++t)(n=f[e[t].identifier])&&(vn(),n("drag"))}function y(){var t,n,e=Vt.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=f[e[t].identifier])&&(gn(),n("end"))}function _(t,n,e,r,i){var u,a,s,d=e(n,t),p=c.copy();if(Kt(new xn(h,"beforestart",u,t,l,d[0],d[1],0,0,p),function(){return null!=(Vt.subject=u=o.apply(r,i))&&(a=u.x-d[0]||0,s=u.y-d[1]||0,!0)}))return function o(c){var b,g=d;switch(c){case"start":f[t]=o,b=l++;break;case"end":delete f[t],--l;case"drag":d=e(n,t),b=l}Kt(new xn(h,c,u,t,b,d[0]+a,d[1]+s,d[0]-g[0],d[1]-g[1],p),p.apply,p,[c,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:mn(!!t),h):i},h.container=function(t){return arguments.length?(u="function"==typeof t?t:mn(t),h):u},h.subject=function(t){return arguments.length?(o="function"==typeof t?t:mn(t),h):o},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:mn(!!t),h):a},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(s=(t=+t)*t,h):Math.sqrt(s)},h},Sn=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function En(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Tn(){}var Cn="\\s*([+-]?\\d+)\\s*",Pn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rn=/^#([0-9a-f]{3})$/,On=/^#([0-9a-f]{6})$/,Ln=new RegExp("^rgb\\("+[Cn,Cn,Cn]+"\\)$"),qn=new RegExp("^rgb\\("+[zn,zn,zn]+"\\)$"),Dn=new RegExp("^rgba\\("+[Cn,Cn,Cn,Pn]+"\\)$"),Un=new RegExp("^rgba\\("+[zn,zn,zn,Pn]+"\\)$"),Bn=new RegExp("^hsl\\("+[Pn,zn,zn]+"\\)$"),Yn=new RegExp("^hsla\\("+[Pn,zn,zn,Pn]+"\\)$"),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function In(t){var n;return t=(t+"").trim().toLowerCase(),(n=Rn.exec(t))?new Vn((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=On.exec(t))?Fn(parseInt(n[1],16)):(n=Ln.exec(t))?new Vn(n[1],n[2],n[3],1):(n=qn.exec(t))?new Vn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Dn.exec(t))?Hn(n[1],n[2],n[3],n[4]):(n=Un.exec(t))?Hn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Bn.exec(t))?$n(n[1],n[2]/100,n[3]/100,1):(n=Yn.exec(t))?$n(n[1],n[2]/100,n[3]/100,n[4]):jn.hasOwnProperty(t)?Fn(jn[t]):"transparent"===t?new Vn(NaN,NaN,NaN,0):null}function Fn(t){return new Vn(t>>16&255,t>>8&255,255&t,1)}function Hn(t,n,e,r){return r<=0&&(t=n=e=NaN),new Vn(t,n,e,r)}function Gn(t){return t instanceof Tn||(t=In(t)),t?new Vn((t=t.rgb()).r,t.g,t.b,t.opacity):new Vn}function Xn(t,n,e,r){return 1===arguments.length?Gn(t):new Vn(t,n,e,null==r?1:r)}function Vn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function $n(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Zn(t,n,e,r)}function Wn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof Tn||(t=In(t)),!t)return new Zn;if(t instanceof Zn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),u=Math.max(n,e,r),o=NaN,a=u-i,f=(u+i)/2;return a?(o=n===u?(e-r)/a+6*(e<r):e===u?(r-n)/a+2:(n-e)/a+4,a/=f<.5?u+i:2-u-i,o*=60):a=f>0&&f<1?0:o,new Zn(o,a,f,t.opacity)}(t):new Zn(t,n,e,null==r?1:r)}function Zn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Qn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Sn(Tn,In,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Sn(Vn,Xn,En(Tn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Sn(Zn,Wn,En(Tn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Vn(Qn(t>=240?t-240:t+120,i,r),Qn(t,i,r),Qn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Kn=Math.PI/180,Jn=180/Math.PI,te=.96422,ne=1,ee=.82521,re=4/29,ie=6/29,ue=3*ie*ie,oe=ie*ie*ie;function ae(t){if(t instanceof le)return new le(t.l,t.a,t.b,t.opacity);if(t instanceof ye){if(isNaN(t.h))return new le(t.l,0,0,t.opacity);var n=t.h*Kn;return new le(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Vn||(t=Gn(t));var e,r,i=pe(t.r),u=pe(t.g),o=pe(t.b),a=se((.2225045*i+.7168786*u+.0606169*o)/ne);return i===u&&u===o?e=r=a:(e=se((.4360747*i+.3850649*u+.1430804*o)/te),r=se((.0139322*i+.0971045*u+.7141733*o)/ee)),new le(116*a-16,500*(e-a),200*(a-r),t.opacity)}function fe(t,n){return new le(t,0,0,null==n?1:n)}function ce(t,n,e,r){return 1===arguments.length?ae(t):new le(t,n,e,null==r?1:r)}function le(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function se(t){return t>oe?Math.pow(t,1/3):t/ue+re}function he(t){return t>ie?t*t*t:ue*(t-re)}function de(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function pe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function be(t){if(t instanceof ye)return new ye(t.h,t.c,t.l,t.opacity);if(t instanceof le||(t=ae(t)),0===t.a&&0===t.b)return new ye(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Jn;return new ye(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ge(t,n,e,r){return 1===arguments.length?be(t):new ye(e,n,t,null==r?1:r)}function ve(t,n,e,r){return 1===arguments.length?be(t):new ye(t,n,e,null==r?1:r)}function ye(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}Sn(le,ce,En(Tn,{brighter:function(t){return new le(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new le(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Vn(de(3.1338561*(n=te*he(n))-1.6168667*(t=ne*he(t))-.4906146*(e=ee*he(e))),de(-.9787684*n+1.9161415*t+.033454*e),de(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Sn(ye,ve,En(Tn,{brighter:function(t){return new ye(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ye(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ae(this).rgb()}}));var _e=-.29227,me=-.90649,xe=1.97294,we=xe*me,Me=1.78277*xe,ke=1.78277*_e- -.14861*me;function Ne(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ae)return new Ae(t.h,t.s,t.l,t.opacity);t instanceof Vn||(t=Gn(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(ke*r+we*n-Me*e)/(ke+we-Me),u=r-i,o=(xe*(e-i)-_e*u)/me,a=Math.sqrt(o*o+u*u)/(xe*i*(1-i)),f=a?Math.atan2(o,u)*Jn-120:NaN;return new Ae(f<0?f+360:f,a,i,t.opacity)}(t):new Ae(t,n,e,null==r?1:r)}function Ae(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Se(t,n,e,r,i){var u=t*t,o=u*t;return((1-3*t+3*u-o)*n+(4-6*u+3*o)*e+(1+3*t+3*u-3*o)*r+o*i)/6}Sn(Ae,Ne,En(Tn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ae(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ae(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Kn,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Vn(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(_e*r+me*i)),255*(n+e*(xe*r)),this.opacity)}}));var Ee=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],u=t[r+1],o=r>0?t[r-1]:2*i-u,a=r<n-1?t[r+2]:2*u-i;return Se((e-r/n)*n,o,i,u,a)}},Te=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],u=t[r%n],o=t[(r+1)%n],a=t[(r+2)%n];return Se((e-r/n)*n,i,u,o,a)}},Ce=function(t){return function(){return t}};function Pe(t,n){return function(e){return t+e*n}}function ze(t,n){var e=n-t;return e?Pe(t,e>180||e<-180?e-360*Math.round(e/360):e):Ce(isNaN(t)?n:t)}function Re(t){return 1==(t=+t)?Oe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Ce(isNaN(n)?e:n)}}function Oe(t,n){var e=n-t;return e?Pe(t,e):Ce(isNaN(t)?n:t)}var Le=function t(n){var e=Re(n);function r(t,n){var r=e((t=Xn(t)).r,(n=Xn(n)).r),i=e(t.g,n.g),u=e(t.b,n.b),o=Oe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=u(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function qe(t){return function(n){var e,r,i=n.length,u=new Array(i),o=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Xn(n[e]),u[e]=r.r||0,o[e]=r.g||0,a[e]=r.b||0;return u=t(u),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=u(t),r.g=o(t),r.b=a(t),r+""}}}var De=qe(Ee),Ue=qe(Te),Be=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,u=new Array(i),o=new Array(r);for(e=0;e<i;++e)u[e]=Ze(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=u[e](t);return o}},Ye=function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}},je=function(t,n){return n-=t=+t,function(e){return t+n*e}},Ie=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Ze(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,He=new RegExp(Fe.source,"g");var Ge,Xe,Ve,$e,We=function(t,n){var e,r,i,u=Fe.lastIndex=He.lastIndex=0,o=-1,a=[],f=[];for(t+="",n+="";(e=Fe.exec(t))&&(r=He.exec(n));)(i=r.index)>u&&(i=n.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,f.push({i:o,x:je(e,r)})),u=He.lastIndex;return u<n.length&&(i=n.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?f[0]?function(t){return function(n){return t(n)+""}}(f[0].x):function(t){return function(){return t}}(n):(n=f.length,function(t){for(var e,r=0;r<n;++r)a[(e=f[r]).i]=e.x(t);return a.join("")})},Ze=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Ce(n):("number"===r?je:"string"===r?(e=In(n))?(n=e,Le):We:n instanceof In?Le:n instanceof Date?Ye:Array.isArray(n)?Be:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Ie:je)(t,n)},Qe=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},Ke=180/Math.PI,Je={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},tr=function(t,n,e,r,i,u){var o,a,f;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(f=t*e+n*r)&&(e-=t*f,r-=n*f),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,f/=a),t*r<n*e&&(t=-t,n=-n,f=-f,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(n,t)*Ke,skewX:Math.atan(f)*Ke,scaleX:o,scaleY:a}};function nr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(u,o){var a=[],f=[];return u=t(u),o=t(o),function(t,r,i,u,o,a){if(t!==i||r!==u){var f=o.push("translate(",null,n,null,e);a.push({i:f-4,x:je(t,i)},{i:f-2,x:je(r,u)})}else(i||u)&&o.push("translate("+i+n+u+e)}(u.translateX,u.translateY,o.translateX,o.translateY,a,f),function(t,n,e,u){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),u.push({i:e.push(i(e)+"rotate(",null,r)-2,x:je(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(u.rotate,o.rotate,a,f),function(t,n,e,u){t!==n?u.push({i:e.push(i(e)+"skewX(",null,r)-2,x:je(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(u.skewX,o.skewX,a,f),function(t,n,e,r,u,o){if(t!==e||n!==r){var a=u.push(i(u)+"scale(",null,",",null,")");o.push({i:a-4,x:je(t,e)},{i:a-2,x:je(n,r)})}else 1===e&&1===r||u.push(i(u)+"scale("+e+","+r+")")}(u.scaleX,u.scaleY,o.scaleX,o.scaleY,a,f),u=o=null,function(t){for(var n,e=-1,r=f.length;++e<r;)a[(n=f[e]).i]=n.x(t);return a.join("")}}}var er=nr(function(t){return"none"===t?Je:(Ge||(Ge=document.createElement("DIV"),Xe=document.documentElement,Ve=document.defaultView),Ge.style.transform=t,t=Ve.getComputedStyle(Xe.appendChild(Ge),null).getPropertyValue("transform"),Xe.removeChild(Ge),t=t.slice(7,-1).split(","),tr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),rr=nr(function(t){return null==t?Je:($e||($e=document.createElementNS("http://www.w3.org/2000/svg","g")),$e.setAttribute("transform",t),(t=$e.transform.baseVal.consolidate())?(t=t.matrix,tr(t.a,t.b,t.c,t.d,t.e,t.f)):Je)},", ",")",")"),ir=Math.SQRT2;function ur(t){return((t=Math.exp(t))+1/t)/2}var or=function(t,n){var e,r,i=t[0],u=t[1],o=t[2],a=n[0],f=n[1],c=n[2],l=a-i,s=f-u,h=l*l+s*s;if(h<1e-12)r=Math.log(c/o)/ir,e=function(t){return[i+t*l,u+t*s,o*Math.exp(ir*t*r)]};else{var d=Math.sqrt(h),p=(c*c-o*o+4*h)/(2*o*2*d),b=(c*c-o*o-4*h)/(2*c*2*d),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(b*b+1)-b);r=(v-g)/ir,e=function(t){var n,e=t*r,a=ur(g),f=o/(2*d)*(a*(n=ir*e+g,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+f*l,u+f*s,o*a/ur(ir*e+g)]}}return e.duration=1e3*r,e};function ar(t){return function(n,e){var r=t((n=Wn(n)).h,(e=Wn(e)).h),i=Oe(n.s,e.s),u=Oe(n.l,e.l),o=Oe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=u(t),n.opacity=o(t),n+""}}}var fr=ar(ze),cr=ar(Oe);function lr(t,n){var e=Oe((t=ce(t)).l,(n=ce(n)).l),r=Oe(t.a,n.a),i=Oe(t.b,n.b),u=Oe(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=u(n),t+""}}function sr(t){return function(n,e){var r=t((n=ve(n)).h,(e=ve(e)).h),i=Oe(n.c,e.c),u=Oe(n.l,e.l),o=Oe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=u(t),n.opacity=o(t),n+""}}}var hr=sr(ze),dr=sr(Oe);function pr(t){return function n(e){function r(n,r){var i=t((n=Ne(n)).h,(r=Ne(r)).h),u=Oe(n.s,r.s),o=Oe(n.l,r.l),a=Oe(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=u(t),n.l=o(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}var br,gr,vr=pr(ze),yr=pr(Oe),_r=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},mr=0,xr=0,wr=0,Mr=1e3,kr=0,Nr=0,Ar=0,Sr="object"==typeof performance&&performance.now?performance:Date,Er="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Tr(){return Nr||(Er(Cr),Nr=Sr.now()+Ar)}function Cr(){Nr=0}function Pr(){this._call=this._time=this._next=null}function zr(t,n,e){var r=new Pr;return r.restart(t,n,e),r}function Rr(){Tr(),++mr;for(var t,n=br;n;)(t=Nr-n._time)>=0&&n._call.call(null,t),n=n._next;--mr}function Or(){Nr=(kr=Sr.now())+Ar,mr=xr=0;try{Rr()}finally{mr=0,function(){var t,n,e=br,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:br=n);gr=t,qr(r)}(),Nr=0}}function Lr(){var t=Sr.now(),n=t-kr;n>Mr&&(Ar-=n,kr=t)}function qr(t){mr||(xr&&(xr=clearTimeout(xr)),t-Nr>24?(t<1/0&&(xr=setTimeout(Or,t-Sr.now()-Ar)),wr&&(wr=clearInterval(wr))):(wr||(kr=Sr.now(),wr=setInterval(Lr,Mr)),mr=1,Er(Or)))}Pr.prototype=zr.prototype={constructor:Pr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Tr():+e)+(null==n?0:+n),this._next||gr===this||(gr?gr._next=this:br=this,gr=this),this._call=t,this._time=e,qr()},stop:function(){this._call&&(this._call=null,this._time=1/0,qr())}};var Dr=function(t,n,e){var r=new Pr;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},Ur=function(t,n,e){var r=new Pr,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Tr():+e,r.restart(function u(o){o+=i,r.restart(u,i+=n,e),t(o)},n,e),r)},Br=ht("start","end","interrupt"),Yr=[],jr=0,Ir=1,Fr=2,Hr=3,Gr=4,Xr=5,Vr=6,$r=function(t,n,e,r,i,u){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function u(f){var c,l,s,h;if(e.state!==Ir)return a();for(c in i)if((h=i[c]).name===e.name){if(h.state===Hr)return Dr(u);h.state===Gr?(h.state=Vr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=Vr,h.timer.stop(),delete i[c])}if(Dr(function(){e.state===Hr&&(e.state=Gr,e.timer.restart(o,e.delay,e.time),o(f))}),e.state=Fr,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Fr){for(e.state=Hr,r=new Array(s=e.tween.length),c=0,l=-1;c<s;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function o(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=Xr,1),u=-1,o=r.length;++u<o;)r[u].call(null,i);e.state===Xr&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=Vr,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=zr(function(t){e.state=Ir,e.timer.restart(u,e.delay,e.time),e.delay<=t&&u(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:Br,tween:Yr,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:jr})};function Wr(t,n){var e=Qr(t,n);if(e.state>jr)throw new Error("too late; already scheduled");return e}function Zr(t,n){var e=Qr(t,n);if(e.state>Fr)throw new Error("too late; already started");return e}function Qr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Kr=function(t,n){var e,r,i,u=t.__transition,o=!0;if(u){for(i in n=null==n?null:n+"",u)(e=u[i]).name===n?(r=e.state>Fr&&e.state<Xr,e.state=Vr,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete u[i]):o=!1;o&&delete t.__transition}};function Jr(t,n,e){var r=t._id;return t.each(function(){var t=Zr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Qr(t,r).value[n]}}var ti=function(t,n){var e;return("number"==typeof n?je:n instanceof In?Le:(e=In(n))?(n=e,Le):We)(t,n)};var ni=rn.prototype.constructor;var ei=0;function ri(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ii(t){return rn().transition(t)}function ui(){return++ei}var oi=rn.prototype;function ai(t){return+t}function fi(t){return t*t}function ci(t){return t*(2-t)}function li(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function si(t){return t*t*t}function hi(t){return--t*t*t+1}function di(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}ri.prototype=ii.prototype={constructor:ri,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=yt(t));for(var r=this._groups,i=r.length,u=new Array(i),o=0;o<i;++o)for(var a,f,c=r[o],l=c.length,s=u[o]=new Array(l),h=0;h<l;++h)(a=c[h])&&(f=t.call(a,a.__data__,h,c))&&("__data__"in a&&(f.__data__=a.__data__),s[h]=f,$r(s[h],n,e,h,s,Qr(a,e)));return new ri(u,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,u=[],o=[],a=0;a<i;++a)for(var f,c=r[a],l=c.length,s=0;s<l;++s)if(f=c[s]){for(var h,d=t.call(f,f.__data__,s,c),p=Qr(f,e),b=0,g=d.length;b<g;++b)(h=d[b])&&$r(h,n,e,b,d,p);u.push(d),o.push(f)}return new ri(u,o,n,e)},filter:function(t){"function"!=typeof t&&(t=kt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,o=n[i],a=o.length,f=r[i]=[],c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&f.push(u);return new ri(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,u=Math.min(r,i),o=new Array(r),a=0;a<u;++a)for(var f,c=n[a],l=e[a],s=c.length,h=o[a]=new Array(s),d=0;d<s;++d)(f=c[d]||l[d])&&(h[d]=f);for(;a<r;++a)o[a]=n[a];return new ri(o,this._parents,this._name,this._id)},selection:function(){return new ni(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ui(),r=this._groups,i=r.length,u=0;u<i;++u)for(var o,a=r[u],f=a.length,c=0;c<f;++c)if(o=a[c]){var l=Qr(o,n);$r(o,t,e,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ri(r,this._parents,t,e)},call:oi.call,nodes:oi.nodes,node:oi.node,size:oi.size,empty:oi.empty,each:oi.each,on:function(t,n){var e=this._id;return arguments.length<2?Qr(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,u=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Wr:Zr;return function(){var o=u(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(n,e),o.on=i}}(e,t,n))},attr:function(t,n){var e=bt(t),r="transform"===e?rr:ti;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,u;return function(){var o,a=e(this);if(null!=a)return(o=this.getAttributeNS(t.space,t.local))===a?null:o===r&&a===i?u:u=n(r=o,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,u;return function(){var o,a=e(this);if(null!=a)return(o=this.getAttribute(t))===a?null:o===r&&a===i?u:u=n(r=o,i=a);this.removeAttribute(t)}})(e,r,Jr(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var u=this.getAttributeNS(t.space,t.local);return u===e?null:u===r?i:i=n(r=u,e)}}:function(t,n,e){var r,i;return function(){var u=this.getAttribute(t);return u===e?null:u===r?i:i=n(r=u,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=bt(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?er:ti;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var u=zt(this,t),o=(this.style.removeProperty(t),zt(this,t));return u===o?null:u===e&&o===r?i:i=n(e=u,r=o)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,u;return function(){var o=zt(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=zt(this,t)),o===a?null:o===r&&a===i?u:u=n(r=o,i=a)}}(t,r,Jr(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var u=zt(this,t);return u===e?null:u===r?i:i=n(r=u,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Jr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Qr(this.node(),e).tween,u=0,o=i.length;u<o;++u)if((r=i[u]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Zr(this,t),u=i.tween;if(u!==e)for(var o=0,a=(r=e=u).length;o<a;++o)if(r[o].name===n){(r=r.slice()).splice(o,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var u=Zr(this,t),o=u.tween;if(o!==r){i=(r=o).slice();for(var a={name:n,value:e},f=0,c=i.length;f<c;++f)if(i[f].name===n){i[f]=a;break}f===c&&i.push(a)}u.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Wr(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Wr(this,t).delay=n}})(n,t)):Qr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Zr(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Zr(this,t).duration=n}})(n,t)):Qr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Zr(this,t).ease=n}}(n,t)):Qr(this.node(),n).ease}};var pi=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),bi=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),gi=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),vi=Math.PI,yi=vi/2;function _i(t){return 1-Math.cos(t*yi)}function mi(t){return Math.sin(t*yi)}function xi(t){return(1-Math.cos(vi*t))/2}function wi(t){return Math.pow(2,10*t-10)}function Mi(t){return 1-Math.pow(2,-10*t)}function ki(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ni(t){return 1-Math.sqrt(1-t*t)}function Ai(t){return Math.sqrt(1- --t*t)}function Si(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ei=4/11,Ti=6/11,Ci=8/11,Pi=.75,zi=9/11,Ri=10/11,Oi=.9375,Li=21/22,qi=63/64,Di=1/Ei/Ei;function Ui(t){return 1-Bi(1-t)}function Bi(t){return(t=+t)<Ei?Di*t*t:t<Ci?Di*(t-=Ti)*t+Pi:t<Ri?Di*(t-=zi)*t+Oi:Di*(t-=Li)*t+qi}function Yi(t){return((t*=2)<=1?1-Bi(1-t):Bi(t-1)+1)/2}var ji=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),Ii=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Fi=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),Hi=2*Math.PI,Gi=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Hi);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*Hi)},i.period=function(e){return t(n,e)},i}(1,.3),Xi=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Hi);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*Hi)},i.period=function(e){return t(n,e)},i}(1,.3),Vi=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=Hi);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*Hi)},i.period=function(e){return t(n,e)},i}(1,.3),$i={time:null,delay:0,duration:250,ease:di};function Wi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return $i.time=Tr(),$i;return e}rn.prototype.interrupt=function(t){return this.each(function(){Kr(this,t)})},rn.prototype.transition=function(t){var n,e;t instanceof ri?(n=t._id,t=t._name):(n=ui(),(e=$i).time=Tr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var o,a=r[u],f=a.length,c=0;c<f;++c)(o=a[c])&&$r(o,t,n,c,a,e||Wi(o,n));return new ri(r,this._parents,t,n)};var Zi=[null],Qi=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>Ir&&e.name===n)return new ri([[t]],Zi,n,+r);return null},Ki=function(t){return function(){return t}},Ji=function(t,n,e){this.target=t,this.type=n,this.selection=e};function tu(){Vt.stopImmediatePropagation()}var nu=function(){Vt.preventDefault(),Vt.stopImmediatePropagation()},eu={name:"drag"},ru={name:"space"},iu={name:"handle"},uu={name:"center"},ou={name:"x",handles:["e","w"].map(pu),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},au={name:"y",handles:["n","s"].map(pu),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},fu={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(pu),input:function(t){return t},output:function(t){return t}},cu={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},lu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},su={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},hu={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},du={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function pu(t){return{type:t}}function bu(){return!Vt.button}function gu(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function vu(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function yu(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function _u(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function mu(){return Mu(ou)}function xu(){return Mu(au)}var wu=function(){return Mu(fu)};function Mu(t){var n,e=gu,r=bu,i=ht(o,"start","brush","end"),u=6;function o(n){var e=n.property("__brush",s).selectAll(".overlay").data([pu("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cu.overlay).merge(e).each(function(){var t=vu(this).extent;un(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),n.selectAll(".selection").data([pu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cu.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return cu[t.type]}),n.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",l)}function a(){var t=un(this),n=vu(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,n){return t.__brush.emitter||new c(t,n)}function c(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function l(){if(Vt.touches){if(Vt.changedTouches.length<Vt.touches.length)return nu()}else if(n)return;if(r.apply(this,arguments)){var e,i,u,o,c,l,s,h,d,p,b,g,v,y=this,_=Vt.target.__data__.type,m="selection"===(Vt.metaKey?_="overlay":_)?eu:Vt.altKey?uu:iu,x=t===au?null:hu[_],w=t===ou?null:du[_],M=vu(y),k=M.extent,N=M.selection,A=k[0][0],S=k[0][1],E=k[1][0],T=k[1][1],C=x&&w&&Vt.shiftKey,P=hn(y),z=P,R=f(y,arguments).beforestart();"overlay"===_?M.selection=N=[[e=t===au?A:P[0],u=t===ou?S:P[1]],[c=t===au?E:e,s=t===ou?T:u]]:(e=N[0][0],u=N[0][1],c=N[1][0],s=N[1][1]),i=e,o=u,l=c,h=s;var O=un(y).attr("pointer-events","none"),L=O.selectAll(".overlay").attr("cursor",cu[_]);if(Vt.touches)O.on("touchmove.brush",D,!0).on("touchend.brush touchcancel.brush",B,!0);else{var q=un(Vt.view).on("keydown.brush",function(){switch(Vt.keyCode){case 16:C=x&&w;break;case 18:m===iu&&(x&&(c=l-d*x,e=i+d*x),w&&(s=h-p*w,u=o+p*w),m=uu,U());break;case 32:m!==iu&&m!==uu||(x<0?c=l-d:x>0&&(e=i-d),w<0?s=h-p:w>0&&(u=o-p),m=ru,L.attr("cursor",cu.selection),U());break;default:return}nu()},!0).on("keyup.brush",function(){switch(Vt.keyCode){case 16:C&&(g=v=C=!1,U());break;case 18:m===uu&&(x<0?c=l:x>0&&(e=i),w<0?s=h:w>0&&(u=o),m=iu,U());break;case 32:m===ru&&(Vt.altKey?(x&&(c=l-d*x,e=i+d*x),w&&(s=h-p*w,u=o+p*w),m=uu):(x<0?c=l:x>0&&(e=i),w<0?s=h:w>0&&(u=o),m=iu),L.attr("cursor",cu[_]),U());break;default:return}nu()},!0).on("mousemove.brush",D,!0).on("mouseup.brush",B,!0);yn(Vt.view)}tu(),Kr(y),a.call(y),R.start()}function D(){var t=hn(y);!C||g||v||(Math.abs(t[0]-z[0])>Math.abs(t[1]-z[1])?v=!0:g=!0),z=t,b=!0,nu(),U()}function U(){var t;switch(d=z[0]-P[0],p=z[1]-P[1],m){case ru:case eu:x&&(d=Math.max(A-e,Math.min(E-c,d)),i=e+d,l=c+d),w&&(p=Math.max(S-u,Math.min(T-s,p)),o=u+p,h=s+p);break;case iu:x<0?(d=Math.max(A-e,Math.min(E-e,d)),i=e+d,l=c):x>0&&(d=Math.max(A-c,Math.min(E-c,d)),i=e,l=c+d),w<0?(p=Math.max(S-u,Math.min(T-u,p)),o=u+p,h=s):w>0&&(p=Math.max(S-s,Math.min(T-s,p)),o=u,h=s+p);break;case uu:x&&(i=Math.max(A,Math.min(E,e-d*x)),l=Math.max(A,Math.min(E,c+d*x))),w&&(o=Math.max(S,Math.min(T,u-p*w)),h=Math.max(S,Math.min(T,s+p*w)))}l<i&&(x*=-1,t=e,e=c,c=t,t=i,i=l,l=t,_ in lu&&L.attr("cursor",cu[_=lu[_]])),h<o&&(w*=-1,t=u,u=s,s=t,t=o,o=h,h=t,_ in su&&L.attr("cursor",cu[_=su[_]])),M.selection&&(N=M.selection),g&&(i=N[0][0],l=N[1][0]),v&&(o=N[0][1],h=N[1][1]),N[0][0]===i&&N[0][1]===o&&N[1][0]===l&&N[1][1]===h||(M.selection=[[i,o],[l,h]],a.call(y),R.brush())}function B(){if(tu(),Vt.touches){if(Vt.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else _n(Vt.view,b),q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),L.attr("cursor",cu.overlay),M.selection&&(N=M.selection),yu(N)&&(M.selection=null,a.call(y)),R.end()}}function s(){var n=this.__brush||{selection:null};return n.extent=e.apply(this,arguments),n.dim=t,n}return o.move=function(n,e){n.selection?n.on("start.brush",function(){f(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){f(this,arguments).end()}).tween("brush",function(){var n=this,r=n.__brush,i=f(n,arguments),u=r.selection,o=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),c=Ze(u,o);function l(t){r.selection=1===t&&yu(o)?null:c(t),a.call(n),i.brush()}return u&&o?l:l(1)}):n.each(function(){var n=arguments,r=this.__brush,i=t.input("function"==typeof e?e.apply(this,n):e,r.extent),u=f(this,n).beforestart();Kr(this),r.selection=null==i||yu(i)?null:i,a.call(this),u.start().brush().end()})},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Kt(new Ji(o,n,t.output(this.state.selection)),i.apply,i,[n,this.that,this.args])}},o.extent=function(t){return arguments.length?(e="function"==typeof t?t:Ki([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),o):e},o.filter=function(t){return arguments.length?(r="function"==typeof t?t:Ki(!!t),o):r},o.handleSize=function(t){return arguments.length?(u=+t,o):u},o.on=function(){var t=i.on.apply(i,arguments);return t===i?o:t},o}var ku=Math.cos,Nu=Math.sin,Au=Math.PI,Su=Au/2,Eu=2*Au,Tu=Math.max;var Cu=function(){var t=0,n=null,e=null,r=null;function i(i){var u,o,a,f,c,l,s=i.length,h=[],d=w(s),p=[],b=[],g=b.groups=new Array(s),v=new Array(s*s);for(u=0,c=-1;++c<s;){for(o=0,l=-1;++l<s;)o+=i[c][l];h.push(o),p.push(w(s)),u+=o}for(n&&d.sort(function(t,e){return n(h[t],h[e])}),e&&p.forEach(function(t,n){t.sort(function(t,r){return e(i[n][t],i[n][r])})}),f=(u=Tu(0,Eu-t*s)/u)?t:Eu/s,o=0,c=-1;++c<s;){for(a=o,l=-1;++l<s;){var y=d[c],_=p[y][l],m=i[y][_],x=o,M=o+=m*u;v[_*s+y]={index:y,subindex:_,startAngle:x,endAngle:M,value:m}}g[y]={index:y,startAngle:a,endAngle:o,value:h[y]},o+=f}for(c=-1;++c<s;)for(l=c-1;++l<s;){var k=v[l*s+c],N=v[c*s+l];(k.value||N.value)&&b.push(k.value<N.value?{source:N,target:k}:{source:k,target:N})}return r?b.sort(r):b}return i.padAngle=function(n){return arguments.length?(t=Tu(0,n),i):t},i.sortGroups=function(t){return arguments.length?(n=t,i):n},i.sortSubgroups=function(t){return arguments.length?(e=t,i):e},i.sortChords=function(t){return arguments.length?(null==t?r=null:(n=t,r=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,i):r&&r._;var n},i},Pu=Array.prototype.slice,zu=function(t){return function(){return t}},Ru=Math.PI,Ou=2*Ru,Lu=Ou-1e-6;function qu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Du(){return new qu}qu.prototype=Du.prototype={constructor:qu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,u){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+u)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var u=this._x1,o=this._y1,a=e-t,f=r-n,c=u-t,l=o-n,s=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(s>1e-6)if(Math.abs(l*a-f*c)>1e-6&&i){var h=e-u,d=r-o,p=a*a+f*f,b=h*h+d*d,g=Math.sqrt(p),v=Math.sqrt(s),y=i*Math.tan((Ru-Math.acos((p+s-b)/(2*g*v)))/2),_=y/v,m=y/g;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*c)+","+(n+_*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+m*a)+","+(this._y1=n+m*f)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,u){t=+t,n=+n;var o=(e=+e)*Math.cos(r),a=e*Math.sin(r),f=t+o,c=n+a,l=1^u,s=u?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+c:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+f+","+c),e&&(s<0&&(s=s%Ou+Ou),s>Lu?this._+="A"+e+","+e+",0,1,"+l+","+(t-o)+","+(n-a)+"A"+e+","+e+",0,1,"+l+","+(this._x1=f)+","+(this._y1=c):s>1e-6&&(this._+="A"+e+","+e+",0,"+ +(s>=Ru)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Uu=Du;function Bu(t){return t.source}function Yu(t){return t.target}function ju(t){return t.radius}function Iu(t){return t.startAngle}function Fu(t){return t.endAngle}var Hu=function(){var t=Bu,n=Yu,e=ju,r=Iu,i=Fu,u=null;function o(){var o,a=Pu.call(arguments),f=t.apply(this,a),c=n.apply(this,a),l=+e.apply(this,(a[0]=f,a)),s=r.apply(this,a)-Su,h=i.apply(this,a)-Su,d=l*ku(s),p=l*Nu(s),b=+e.apply(this,(a[0]=c,a)),g=r.apply(this,a)-Su,v=i.apply(this,a)-Su;if(u||(u=o=Uu()),u.moveTo(d,p),u.arc(0,0,l,s,h),s===g&&h===v||(u.quadraticCurveTo(0,0,b*ku(g),b*Nu(g)),u.arc(0,0,b,g,v)),u.quadraticCurveTo(0,0,d,p),u.closePath(),o)return u=null,o+""||null}return o.radius=function(t){return arguments.length?(e="function"==typeof t?t:zu(+t),o):e},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:zu(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:zu(+t),o):i},o.source=function(n){return arguments.length?(t=n,o):t},o.target=function(t){return arguments.length?(n=t,o):n},o.context=function(t){return arguments.length?(u=null==t?null:t,o):u},o};function Gu(){}function Xu(t,n){var e=new Gu;if(t instanceof Gu)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,u=t.length;if(null==n)for(;++i<u;)e.set(i,t[i]);else for(;++i<u;)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}Gu.prototype=Xu.prototype={constructor:Gu,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Vu=Xu,$u=function(){var t,n,e,r=[],i=[];function u(e,i,o,a){if(i>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var f,c,l,s=-1,h=e.length,d=r[i++],p=Vu(),b=o();++s<h;)(l=p.get(f=d(c=e[s])+""))?l.push(c):p.set(f,[c]);return p.each(function(t,n){a(b,n,u(t,i,o,a))}),b}return e={object:function(t){return u(t,0,Wu,Zu)},map:function(t){return u(t,0,Qu,Ku)},entries:function(t){return function t(e,u){if(++u>r.length)return e;var o,a=i[u-1];return null!=n&&u>=r.length?o=e.entries():(o=[],e.each(function(n,e){o.push({key:e,values:t(n,u)})})),null!=a?o.sort(function(t,n){return a(t.key,n.key)}):o}(u(t,0,Qu,Ku),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return i[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}};function Wu(){return{}}function Zu(t,n,e){t[n]=e}function Qu(){return Vu()}function Ku(t,n,e){t.set(n,e)}function Ju(){}var to=Vu.prototype;function no(t,n){var e=new Ju;if(t instanceof Ju)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}Ju.prototype=no.prototype={constructor:Ju,has:to.has,add:function(t){return this["$"+(t+="")]=t,this},remove:to.remove,clear:to.clear,values:to.keys,size:to.size,empty:to.empty,each:to.each};var eo=no,ro=function(t){var n=[];for(var e in t)n.push(e);return n},io=function(t){var n=[];for(var e in t)n.push(t[e]);return n},uo=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},oo=Array.prototype.slice,ao=function(t,n){return t-n},fo=function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r},co=function(t){return function(){return t}},lo=function(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=so(t,n[r]))return e;return 0};function so(t,n){for(var e=n[0],r=n[1],i=-1,u=0,o=t.length,a=o-1;u<o;a=u++){var f=t[u],c=f[0],l=f[1],s=t[a],h=s[0],d=s[1];if(ho(f,s,n))return 0;l>r!=d>r&&e<(h-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function ho(t,n,e){var r,i,u,o;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],u=e[r],o=n[r],i<=u&&u<=o||o<=u&&u<=i)}var po=function(){},bo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],go=function(){var t=1,n=1,e=T,r=a;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(ao);else{var r=g(t),i=r[0],o=r[1];n=E(i,o,n),n=w(Math.floor(i/n)*n,Math.floor(o/n)*n,n)}return n.map(function(n){return u(t,n)})}function u(e,i){var u=[],a=[];return function(e,r,i){var u,a,f,c,l,s,h=new Array,d=new Array;u=a=-1,c=e[0]>=r,bo[c<<1].forEach(p);for(;++u<t-1;)f=c,c=e[u+1]>=r,bo[f|c<<1].forEach(p);bo[c<<0].forEach(p);for(;++a<n-1;){for(u=-1,c=e[a*t+t]>=r,l=e[a*t]>=r,bo[c<<1|l<<2].forEach(p);++u<t-1;)f=c,c=e[a*t+t+u+1]>=r,s=l,l=e[a*t+u+1]>=r,bo[f|c<<1|l<<2|s<<3].forEach(p);bo[c|l<<3].forEach(p)}u=-1,l=e[a*t]>=r,bo[l<<2].forEach(p);for(;++u<t-1;)s=l,l=e[a*t+u+1]>=r,bo[l<<2|s<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+u,t[0][1]+a],f=[t[1][0]+u,t[1][1]+a],c=o(r),l=o(f);(n=d[c])?(e=h[l])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(f),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(f),d[n.end=l]=n):(n=h[l])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(f),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[l]={start:c,end:l,ring:[r,f]}}bo[l<<3].forEach(p)}(e,i,function(t){r(t,e,i),fo(t)>0?u.push([t]):a.push(t)}),a.forEach(function(t){for(var n,e=0,r=u.length;e<r;++e)if(-1!==lo((n=u[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:i,coordinates:u}}function o(n){return 2*n[0]+n[1]*(t+1)*4}function a(e,r,i){e.forEach(function(e){var u,o=e[0],a=e[1],f=0|o,c=0|a,l=r[c*t+f];o>0&&o<t&&f===o&&(u=r[c*t+f-1],e[0]=o+(i-u)/(l-u)-.5),a>0&&a<n&&c===a&&(u=r[(c-1)*t+f],e[1]=a+(i-u)/(l-u)-.5)})}return i.contour=u,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),u=Math.ceil(e[1]);if(!(r>0&&u>0))throw new Error("invalid size");return t=r,n=u,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?co(oo.call(t)):co(t),i):e},i.smooth=function(t){return arguments.length?(r=t?a:po,i):r===a},i};function vo(t,n,e){for(var r=t.width,i=t.height,u=1+(e<<1),o=0;o<i;++o)for(var a=0,f=0;a<r+e;++a)a<r&&(f+=t.data[a+o*r]),a>=e&&(a>=u&&(f-=t.data[a-u+o*r]),n.data[a-e+o*r]=f/Math.min(a+1,r-1+u-a,u))}function yo(t,n,e){for(var r=t.width,i=t.height,u=1+(e<<1),o=0;o<r;++o)for(var a=0,f=0;a<i+e;++a)a<i&&(f+=t.data[o+a*r]),a>=e&&(a>=u&&(f-=t.data[o+(a-u)*r]),n.data[o+(a-e)*r]=f/Math.min(a+1,i-1+u-a,u))}function _o(t){return t[0]}function mo(t){return t[1]}var xo=function(){var t=_o,n=mo,e=960,r=500,i=20,u=2,o=3*i,a=e+2*o>>u,f=r+2*o>>u,c=co(20);function l(e){var r=new Float32Array(a*f),l=new Float32Array(a*f);e.forEach(function(e,i,c){var l=t(e,i,c)+o>>u,s=n(e,i,c)+o>>u;l>=0&&l<a&&s>=0&&s<f&&++r[l+s*a]}),vo({width:a,height:f,data:r},{width:a,height:f,data:l},i>>u),yo({width:a,height:f,data:l},{width:a,height:f,data:r},i>>u),vo({width:a,height:f,data:r},{width:a,height:f,data:l},i>>u),yo({width:a,height:f,data:l},{width:a,height:f,data:r},i>>u),vo({width:a,height:f,data:r},{width:a,height:f,data:l},i>>u),yo({width:a,height:f,data:l},{width:a,height:f,data:r},i>>u);var h=c(r);if(!Array.isArray(h)){var d=O(r);h=E(0,d,h),(h=w(0,Math.floor(d/h)*h,h)).shift()}return go().thresholds(h).size([a,f])(r).map(s)}function s(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(h),t}function h(t){t.forEach(d)}function d(t){t.forEach(p)}function p(t){t[0]=t[0]*Math.pow(2,u)-o,t[1]=t[1]*Math.pow(2,u)-o}function b(){return a=e+2*(o=3*i)>>u,f=r+2*o>>u,l}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:co(+n),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:co(+t),l):n},l.size=function(t){if(!arguments.length)return[e,r];var n=Math.ceil(t[0]),i=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return e=n,r=i,b()},l.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),b()},l.thresholds=function(t){return arguments.length?(c="function"==typeof t?t:Array.isArray(t)?co(oo.call(t)):co(t),l):c},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return i=Math.round((Math.sqrt(4*t*t+1)-1)/2),b()},l},wo={},Mo={},ko=34,No=10,Ao=13;function So(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var Eo=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],u=t.length,o=0,a=0,f=u<=0,c=!1;function l(){if(f)return Mo;if(c)return c=!1,wo;var n,r,i=o;if(t.charCodeAt(i)===ko){for(;o++<u&&t.charCodeAt(o)!==ko||t.charCodeAt(++o)===ko;);return(n=o)>=u?f=!0:(r=t.charCodeAt(o++))===No?c=!0:r===Ao&&(c=!0,t.charCodeAt(o)===No&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}for(;o<u;){if((r=t.charCodeAt(n=o++))===No)c=!0;else if(r===Ao)c=!0,t.charCodeAt(o)===No&&++o;else if(r!==e)continue;return t.slice(i,n)}return f=!0,t.slice(i,u)}for(t.charCodeAt(u-1)===No&&--u,t.charCodeAt(u-1)===Ao&&--u;(r=l())!==Mo;){for(var s=[];r!==wo&&r!==Mo;)s.push(r),r=l();n&&null==(s=n(s,a++))||i.push(s)}return i}function i(n){return n.map(u).join(t)}function u(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,u=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=So(t);return function(r,i){return n(e(r),i,t)}}(t,n):So(t)});return u.columns=i||[],u},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(u).join(t)].concat(n.map(function(n){return e.map(function(t){return u(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},To=Eo(","),Co=To.parse,Po=To.parseRows,zo=To.format,Ro=To.formatRows,Oo=Eo("\t"),Lo=Oo.parse,qo=Oo.parseRows,Do=Oo.format,Uo=Oo.formatRows;function Bo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var Yo=function(t,n){return fetch(t,n).then(Bo)};function jo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var Io=function(t,n){return fetch(t,n).then(jo)};function Fo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Ho=function(t,n){return fetch(t,n).then(Fo)};function Go(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Ho(n,e).then(function(n){return t(n,r)})}}function Xo(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Eo(t);return Ho(n,e).then(function(t){return i.parse(t,r)})}var Vo=Go(Co),$o=Go(Lo),Wo=function(t,n){return new Promise(function(e,r){var i=new Image;for(var u in n)i[u]=n[u];i.onerror=r,i.onload=function(){e(i)},i.src=t})};function Zo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var Qo=function(t,n){return fetch(t,n).then(Zo)};function Ko(t){return function(n,e){return Ho(n,e).then(function(n){return(new DOMParser).parseFromString(n,t)})}}var Jo=Ko("application/xml"),ta=Ko("text/html"),na=Ko("image/svg+xml"),ea=function(t,n){var e;function r(){var r,i,u=e.length,o=0,a=0;for(r=0;r<u;++r)o+=(i=e[r]).x,a+=i.y;for(o=o/u-t,a=a/u-n,r=0;r<u;++r)(i=e[r]).x-=o,i.y-=a}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},ra=function(t){return function(){return t}},ia=function(){return 1e-6*(Math.random()-.5)};function ua(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,u,o,a,f,c,l,s,h,d=t._root,p={data:r},b=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(u=(b+v)/2))?b=u:v=u,(l=e>=(o=(g+y)/2))?g=o:y=o,i=d,!(d=d[s=l<<1|c]))return i[s]=p,t;if(a=+t._x.call(null,d.data),f=+t._y.call(null,d.data),n===a&&e===f)return p.next=d,i?i[s]=p:t._root=p,t;do{i=i?i[s]=new Array(4):t._root=new Array(4),(c=n>=(u=(b+v)/2))?b=u:v=u,(l=e>=(o=(g+y)/2))?g=o:y=o}while((s=l<<1|c)==(h=(f>=o)<<1|a>=u));return i[h]=d,i[s]=p,t}var oa=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function aa(t){return t[0]}function fa(t){return t[1]}function ca(t,n,e){var r=new la(null==n?aa:n,null==e?fa:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function la(t,n,e,r,i,u){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=u,this._root=void 0}function sa(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var ha=ca.prototype=la.prototype;function da(t){return t.x+t.vx}function pa(t){return t.y+t.vy}ha.copy=function(){var t,n,e=new la(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=sa(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=sa(n));return e},ha.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return ua(this.cover(n,e),n,e,t)},ha.addAll=function(t){var n,e,r,i,u=t.length,o=new Array(u),a=new Array(u),f=1/0,c=1/0,l=-1/0,s=-1/0;for(e=0;e<u;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(o[e]=r,a[e]=i,r<f&&(f=r),r>l&&(l=r),i<c&&(c=i),i>s&&(s=i));for(l<f&&(f=this._x0,l=this._x1),s<c&&(c=this._y0,s=this._y1),this.cover(f,c).cover(l,s),e=0;e<u;++e)ua(this,o[e],a[e],t[e]);return this},ha.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,u=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,u=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>u))return this;var o,a,f=i-e,c=this._root;switch(a=(n<(r+u)/2)<<1|t<(e+i)/2){case 0:do{(o=new Array(4))[a]=c,c=o}while(u=r+(f*=2),t>(i=e+f)||n>u);break;case 1:do{(o=new Array(4))[a]=c,c=o}while(u=r+(f*=2),(e=i-f)>t||n>u);break;case 2:do{(o=new Array(4))[a]=c,c=o}while(r=u-(f*=2),t>(i=e+f)||r>n);break;case 3:do{(o=new Array(4))[a]=c,c=o}while(r=u-(f*=2),(e=i-f)>t||r>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=u,this},ha.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},ha.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ha.find=function(t,n,e){var r,i,u,o,a,f,c,l=this._x0,s=this._y0,h=this._x1,d=this._y1,p=[],b=this._root;for(b&&p.push(new oa(b,l,s,h,d)),null==e?e=1/0:(l=t-e,s=n-e,h=t+e,d=n+e,e*=e);f=p.pop();)if(!(!(b=f.node)||(i=f.x0)>h||(u=f.y0)>d||(o=f.x1)<l||(a=f.y1)<s))if(b.length){var g=(i+o)/2,v=(u+a)/2;p.push(new oa(b[3],g,v,o,a),new oa(b[2],i,v,g,a),new oa(b[1],g,u,o,v),new oa(b[0],i,u,g,v)),(c=(n>=v)<<1|t>=g)&&(f=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=f)}else{var y=t-+this._x.call(null,b.data),_=n-+this._y.call(null,b.data),m=y*y+_*_;if(m<e){var x=Math.sqrt(e=m);l=t-x,s=n-x,h=t+x,d=n+x,r=b.data}}return r},ha.remove=function(t){if(isNaN(u=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,r,i,u,o,a,f,c,l,s,h,d=this._root,p=this._x0,b=this._y0,g=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=u>=(a=(p+g)/2))?p=a:g=a,(l=o>=(f=(b+v)/2))?b=f:v=f,n=d,!(d=d[s=l<<1|c]))return this;if(!d.length)break;(n[s+1&3]||n[s+2&3]||n[s+3&3])&&(e=n,h=s)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[s]=i:delete n[s],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},ha.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},ha.root=function(){return this._root},ha.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},ha.visit=function(t){var n,e,r,i,u,o,a=[],f=this._root;for(f&&a.push(new oa(f,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(f=n.node,r=n.x0,i=n.y0,u=n.x1,o=n.y1)&&f.length){var c=(r+u)/2,l=(i+o)/2;(e=f[3])&&a.push(new oa(e,c,l,u,o)),(e=f[2])&&a.push(new oa(e,r,l,c,o)),(e=f[1])&&a.push(new oa(e,c,i,u,l)),(e=f[0])&&a.push(new oa(e,r,i,c,l))}return this},ha.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new oa(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var u,o=n.x0,a=n.y0,f=n.x1,c=n.y1,l=(o+f)/2,s=(a+c)/2;(u=i[0])&&e.push(new oa(u,o,a,l,s)),(u=i[1])&&e.push(new oa(u,l,a,f,s)),(u=i[2])&&e.push(new oa(u,o,s,l,c)),(u=i[3])&&e.push(new oa(u,l,s,f,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},ha.x=function(t){return arguments.length?(this._x=t,this):this._x},ha.y=function(t){return arguments.length?(this._y=t,this):this._y};var ba=function(t){var n,e,r=1,i=1;function u(){for(var t,u,a,f,c,l,s,h=n.length,d=0;d<i;++d)for(u=ca(n,da,pa).visitAfter(o),t=0;t<h;++t)a=n[t],l=e[a.index],s=l*l,f=a.x+a.vx,c=a.y+a.vy,u.visit(p);function p(t,n,e,i,u){var o=t.data,h=t.r,d=l+h;if(!o)return n>f+d||i<f-d||e>c+d||u<c-d;if(o.index>a.index){var p=f-o.x-o.vx,b=c-o.y-o.vy,g=p*p+b*b;g<d*d&&(0===p&&(g+=(p=ia())*p),0===b&&(g+=(b=ia())*b),g=(d-(g=Math.sqrt(g)))/g*r,a.vx+=(p*=g)*(d=(h*=h)/(s+h)),a.vy+=(b*=g)*d,o.vx-=p*(d=1-d),o.vy-=b*d)}}}function o(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function a(){if(n){var r,i,u=n.length;for(e=new Array(u),r=0;r<u;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=ra(null==t?1:+t)),u.initialize=function(t){n=t,a()},u.iterations=function(t){return arguments.length?(i=+t,u):i},u.strength=function(t){return arguments.length?(r=+t,u):r},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:ra(+n),a(),u):t},u};function ga(t){return t.index}function va(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var ya=function(t){var n,e,r,i,u,o=ga,a=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=ra(30),c=1;function l(r){for(var i=0,o=t.length;i<c;++i)for(var a,f,l,s,h,d,p,b=0;b<o;++b)f=(a=t[b]).source,s=(l=a.target).x+l.vx-f.x-f.vx||ia(),h=l.y+l.vy-f.y-f.vy||ia(),s*=d=((d=Math.sqrt(s*s+h*h))-e[b])/d*r*n[b],h*=d,l.vx-=s*(p=u[b]),l.vy-=h*p,f.vx+=s*(p=1-p),f.vy+=h*p}function s(){if(r){var a,f,c=r.length,l=t.length,s=Vu(r,o);for(a=0,i=new Array(c);a<l;++a)(f=t[a]).index=a,"object"!=typeof f.source&&(f.source=va(s,f.source)),"object"!=typeof f.target&&(f.target=va(s,f.target)),i[f.source.index]=(i[f.source.index]||0)+1,i[f.target.index]=(i[f.target.index]||0)+1;for(a=0,u=new Array(l);a<l;++a)f=t[a],u[a]=i[f.source.index]/(i[f.source.index]+i[f.target.index]);n=new Array(l),h(),e=new Array(l),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+a(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,s()},l.links=function(n){return arguments.length?(t=n,s(),l):t},l.id=function(t){return arguments.length?(o=t,l):o},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(a="function"==typeof t?t:ra(+t),h(),l):a},l.distance=function(t){return arguments.length?(f="function"==typeof t?t:ra(+t),d(),l):f},l};function _a(t){return t.x}function ma(t){return t.y}var xa,wa=10,Ma=Math.PI*(3-Math.sqrt(5)),ka=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),u=0,o=.6,a=Vu(),f=zr(l),c=ht("tick","end");function l(){s(),c.call("tick",n),e<r&&(f.stop(),c.call("end",n))}function s(){var n,r,f=t.length;for(e+=(u-e)*i,a.each(function(t){t(e)}),n=0;n<f;++n)null==(r=t[n]).fx?r.x+=r.vx*=o:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=o:(r.y=r.fy,r.vy=0)}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,isNaN(n.x)||isNaN(n.y)){var i=wa*Math.sqrt(e),u=e*Ma;n.x=i*Math.cos(u),n.y=i*Math.sin(u)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:s,restart:function(){return f.restart(l),n},stop:function(){return f.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),a.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(u=+t,n):u},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return arguments.length>1?(null==e?a.remove(t):a.set(t,d(e)),n):a.get(t)},find:function(n,e,r){var i,u,o,a,f,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(i=n-(a=t[c]).x)*i+(u=e-a.y)*u)<r&&(f=a,r=o);return f},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}},Na=function(){var t,n,e,r,i=ra(-30),u=1,o=1/0,a=.81;function f(r){var i,u=t.length,o=ca(t,_a,ma).visitAfter(l);for(e=r,i=0;i<u;++i)n=t[i],o.visit(s)}function c(){if(t){var n,e,u=t.length;for(r=new Array(u),n=0;n<u;++n)e=t[n],r[e.index]=+i(e,n,t)}}function l(t){var n,e,i,u,o,a=0,f=0;if(t.length){for(i=u=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(a+=n.value,f+=e,i+=e*n.x,u+=e*n.y);t.x=i/f,t.y=u/f}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=r[n.data.index]}while(n=n.next)}t.value=a}function s(t,i,f,c){if(!t.value)return!0;var l=t.x-n.x,s=t.y-n.y,h=c-i,d=l*l+s*s;if(h*h/a<d)return d<o&&(0===l&&(d+=(l=ia())*l),0===s&&(d+=(s=ia())*s),d<u&&(d=Math.sqrt(u*d)),n.vx+=l*t.value*e/d,n.vy+=s*t.value*e/d),!0;if(!(t.length||d>=o)){(t.data!==n||t.next)&&(0===l&&(d+=(l=ia())*l),0===s&&(d+=(s=ia())*s),d<u&&(d=Math.sqrt(u*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=l*h,n.vy+=s*h)}while(t=t.next)}}return f.initialize=function(n){t=n,c()},f.strength=function(t){return arguments.length?(i="function"==typeof t?t:ra(+t),c(),f):i},f.distanceMin=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f.distanceMax=function(t){return arguments.length?(o=t*t,f):Math.sqrt(o)},f.theta=function(t){return arguments.length?(a=t*t,f):Math.sqrt(a)},f},Aa=function(t,n,e){var r,i,u,o=ra(.1);function a(t){for(var o=0,a=r.length;o<a;++o){var f=r[o],c=f.x-n||1e-6,l=f.y-e||1e-6,s=Math.sqrt(c*c+l*l),h=(u[o]-s)*i[o]*t/s;f.vx+=c*h,f.vy+=l*h}}function f(){if(r){var n,e=r.length;for(i=new Array(e),u=new Array(e),n=0;n<e;++n)u[n]=+t(r[n],n,r),i[n]=isNaN(u[n])?0:+o(r[n],n,r)}}return"function"!=typeof t&&(t=ra(+t)),null==n&&(n=0),null==e&&(e=0),a.initialize=function(t){r=t,f()},a.strength=function(t){return arguments.length?(o="function"==typeof t?t:ra(+t),f(),a):o},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:ra(+n),f(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(e=+t,a):e},a},Sa=function(t){var n,e,r,i=ra(.1);function u(t){for(var i,u=0,o=n.length;u<o;++u)(i=n[u]).vx+=(r[u]-i.x)*e[u]*t}function o(){if(n){var u,o=n.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+t(n[u],u,n))?0:+i(n[u],u,n)}}return"function"!=typeof t&&(t=ra(null==t?0:+t)),u.initialize=function(t){n=t,o()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:ra(+t),o(),u):i},u.x=function(n){return arguments.length?(t="function"==typeof n?n:ra(+n),o(),u):t},u},Ea=function(t){var n,e,r,i=ra(.1);function u(t){for(var i,u=0,o=n.length;u<o;++u)(i=n[u]).vy+=(r[u]-i.y)*e[u]*t}function o(){if(n){var u,o=n.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+t(n[u],u,n))?0:+i(n[u],u,n)}}return"function"!=typeof t&&(t=ra(null==t?0:+t)),u.initialize=function(t){n=t,o()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:ra(+t),o(),u):i},u.y=function(n){return arguments.length?(t="function"==typeof n?n:ra(+n),o(),u):t},u},Ta=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Ca=function(t){return(t=Ta(Math.abs(t)))?t[1]:NaN},Pa=function(t,n){var e=Ta(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},za={"":function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,u=-1;i<r;++i)switch(t[i]){case".":u=e=i;break;case"0":0===u&&(u=i),e=i;break;case"e":break t;default:u>0&&(u=0)}return u>0?t.slice(0,u)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Pa(100*t,n)},r:Pa,s:function(t,n){var e=Ta(t,n);if(!e)return t+"";var r=e[0],i=e[1],u=i-(xa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return u===o?r:u>o?r+new Array(u-o+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+Ta(t,Math.max(0,n+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ra=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Oa(t){return new La(t)}function La(t){if(!(n=Ra.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",u=n[4]||"",o=!!n[5],a=n[6]&&+n[6],f=!!n[7],c=n[8]&&+n[8].slice(1),l=n[9]||"";"n"===l?(f=!0,l="g"):za[l]||(l=""),(o||"0"===e&&"="===r)&&(o=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=u,this.zero=o,this.width=a,this.comma=f,this.precision=c,this.type=l}Oa.prototype=La.prototype,La.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var qa,Da,Ua,Ba=function(t){return t},Ya=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],ja=function(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,u=[],o=0,a=n[0],f=0;i>0&&a>0&&(f+a+1>r&&(a=Math.max(1,r-f)),u.push(t.substring(i-=a,i+a)),!((f+=a+1)>r));)a=n[o=(o+1)%n.length];return u.reverse().join(e)}):Ba,i=t.currency,u=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Ba,a=t.percent||"%";function f(t){var n=(t=Oa(t)).fill,e=t.align,f=t.sign,c=t.symbol,l=t.zero,s=t.width,h=t.comma,d=t.precision,p=t.type,b="$"===c?i[0]:"#"===c&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===c?i[1]:/[%p]/.test(p)?a:"",v=za[p],y=!p||/[defgprs%]/.test(p);function _(t){var i,a,c,_=b,m=g;if("c"===p)m=v(t)+m,t="";else{var x=(t=+t)<0;if(t=v(Math.abs(t),d),x&&0==+t&&(x=!1),_=(x?"("===f?f:"-":"-"===f||"("===f?"":f)+_,m=("s"===p?Ya[8+xa/3]:"")+m+(x&&"("===f?")":""),y)for(i=-1,a=t.length;++i<a;)if(48>(c=t.charCodeAt(i))||c>57){m=(46===c?u+t.slice(i+1):t.slice(i))+m,t=t.slice(0,i);break}}h&&!l&&(t=r(t,1/0));var w=_.length+t.length+m.length,M=w<s?new Array(s-w+1).join(n):"";switch(h&&l&&(t=r(M+t,M.length?s-m.length:1/0),M=""),e){case"<":t=_+t+m+M;break;case"=":t=_+M+t+m;break;case"^":t=M.slice(0,w=M.length>>1)+_+t+m+M.slice(w);break;default:t=M+_+t+m}return o(t)}return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,n){var e=f(((t=Oa(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ca(n)/3))),i=Math.pow(10,-r),u=Ya[8+r/3];return function(t){return e(i*t)+u}}}};function Ia(t){return qa=ja(t),Da=qa.format,Ua=qa.formatPrefix,qa}Ia({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Fa=function(t){return Math.max(0,-Ca(Math.abs(t)))},Ha=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ca(n)/3)))-Ca(Math.abs(t)))},Ga=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ca(n)-Ca(t))+1},Xa=function(){return new Va};function Va(){this.reset()}Va.prototype={constructor:Va,reset:function(){this.s=this.t=0},add:function(t){Wa($a,t,this.t),Wa(this,$a.s,this.s),this.s?this.t+=$a.t:this.s=$a.t},valueOf:function(){return this.s}};var $a=new Va;function Wa(t,n,e){var r=t.s=n+e,i=r-n,u=r-i;t.t=n-u+(e-i)}var Za=1e-6,Qa=Math.PI,Ka=Qa/2,Ja=Qa/4,tf=2*Qa,nf=180/Qa,ef=Qa/180,rf=Math.abs,uf=Math.atan,of=Math.atan2,af=Math.cos,ff=Math.ceil,cf=Math.exp,lf=(Math.floor,Math.log),sf=Math.pow,hf=Math.sin,df=Math.sign||function(t){return t>0?1:t<0?-1:0},pf=Math.sqrt,bf=Math.tan;function gf(t){return t>1?0:t<-1?Qa:Math.acos(t)}function vf(t){return t>1?Ka:t<-1?-Ka:Math.asin(t)}function yf(t){return(t=hf(t/2))*t}function _f(){}function mf(t,n){t&&wf.hasOwnProperty(t.type)&&wf[t.type](t,n)}var xf={Feature:function(t,n){mf(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)mf(e[r].geometry,n)}},wf={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Mf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mf(e[r],n,0)},Polygon:function(t,n){kf(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)kf(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)mf(e[r],n)}};function Mf(t,n,e){var r,i=-1,u=t.length-e;for(n.lineStart();++i<u;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function kf(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Mf(t[e],n,1);n.polygonEnd()}var Nf,Af,Sf,Ef,Tf,Cf=function(t,n){t&&xf.hasOwnProperty(t.type)?xf[t.type](t,n):mf(t,n)},Pf=Xa(),zf=Xa(),Rf={point:_f,lineStart:_f,lineEnd:_f,polygonStart:function(){Pf.reset(),Rf.lineStart=Of,Rf.lineEnd=Lf},polygonEnd:function(){var t=+Pf;zf.add(t<0?tf+t:t),this.lineStart=this.lineEnd=this.point=_f},sphere:function(){zf.add(tf)}};function Of(){Rf.point=qf}function Lf(){Df(Nf,Af)}function qf(t,n){Rf.point=Df,Nf=t,Af=n,Sf=t*=ef,Ef=af(n=(n*=ef)/2+Ja),Tf=hf(n)}function Df(t,n){n=(n*=ef)/2+Ja;var e=(t*=ef)-Sf,r=e>=0?1:-1,i=r*e,u=af(n),o=hf(n),a=Tf*o,f=Ef*u+a*af(i),c=a*r*hf(i);Pf.add(of(c,f)),Sf=t,Ef=u,Tf=o}var Uf=function(t){return zf.reset(),Cf(t,Rf),2*zf};function Bf(t){return[of(t[1],t[0]),vf(t[2])]}function Yf(t){var n=t[0],e=t[1],r=af(e);return[r*af(n),r*hf(n),hf(e)]}function jf(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function If(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Ff(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Hf(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Gf(t){var n=pf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Xf,Vf,$f,Wf,Zf,Qf,Kf,Jf,tc,nc,ec=Xa(),rc={point:ic,lineStart:oc,lineEnd:ac,polygonStart:function(){rc.point=fc,rc.lineStart=cc,rc.lineEnd=lc,ec.reset(),Rf.polygonStart()},polygonEnd:function(){Rf.polygonEnd(),rc.point=ic,rc.lineStart=oc,rc.lineEnd=ac,Pf<0?(Xf=-($f=180),Vf=-(Wf=90)):ec>Za?Wf=90:ec<-Za&&(Vf=-90),nc[0]=Xf,nc[1]=$f}};function ic(t,n){tc.push(nc=[Xf=t,$f=t]),n<Vf&&(Vf=n),n>Wf&&(Wf=n)}function uc(t,n){var e=Yf([t*ef,n*ef]);if(Jf){var r=If(Jf,e),i=If([r[1],-r[0],0],r);Gf(i),i=Bf(i);var u,o=t-Zf,a=o>0?1:-1,f=i[0]*nf*a,c=rf(o)>180;c^(a*Zf<f&&f<a*t)?(u=i[1]*nf)>Wf&&(Wf=u):c^(a*Zf<(f=(f+360)%360-180)&&f<a*t)?(u=-i[1]*nf)<Vf&&(Vf=u):(n<Vf&&(Vf=n),n>Wf&&(Wf=n)),c?t<Zf?sc(Xf,t)>sc(Xf,$f)&&($f=t):sc(t,$f)>sc(Xf,$f)&&(Xf=t):$f>=Xf?(t<Xf&&(Xf=t),t>$f&&($f=t)):t>Zf?sc(Xf,t)>sc(Xf,$f)&&($f=t):sc(t,$f)>sc(Xf,$f)&&(Xf=t)}else tc.push(nc=[Xf=t,$f=t]);n<Vf&&(Vf=n),n>Wf&&(Wf=n),Jf=e,Zf=t}function oc(){rc.point=uc}function ac(){nc[0]=Xf,nc[1]=$f,rc.point=ic,Jf=null}function fc(t,n){if(Jf){var e=t-Zf;ec.add(rf(e)>180?e+(e>0?360:-360):e)}else Qf=t,Kf=n;Rf.point(t,n),uc(t,n)}function cc(){Rf.lineStart()}function lc(){fc(Qf,Kf),Rf.lineEnd(),rf(ec)>Za&&(Xf=-($f=180)),nc[0]=Xf,nc[1]=$f,Jf=null}function sc(t,n){return(n-=t)<0?n+360:n}function hc(t,n){return t[0]-n[0]}function dc(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var pc,bc,gc,vc,yc,_c,mc,xc,wc,Mc,kc,Nc,Ac,Sc,Ec,Tc,Cc=function(t){var n,e,r,i,u,o,a;if(Wf=$f=-(Xf=Vf=1/0),tc=[],Cf(t,rc),e=tc.length){for(tc.sort(hc),n=1,u=[r=tc[0]];n<e;++n)dc(r,(i=tc[n])[0])||dc(r,i[1])?(sc(r[0],i[1])>sc(r[0],r[1])&&(r[1]=i[1]),sc(i[0],r[1])>sc(r[0],r[1])&&(r[0]=i[0])):u.push(r=i);for(o=-1/0,n=0,r=u[e=u.length-1];n<=e;r=i,++n)i=u[n],(a=sc(r[1],i[0]))>o&&(o=a,Xf=i[0],$f=r[1])}return tc=nc=null,Xf===1/0||Vf===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xf,Vf],[$f,Wf]]},Pc={sphere:_f,point:zc,lineStart:Oc,lineEnd:Dc,polygonStart:function(){Pc.lineStart=Uc,Pc.lineEnd=Bc},polygonEnd:function(){Pc.lineStart=Oc,Pc.lineEnd=Dc}};function zc(t,n){t*=ef;var e=af(n*=ef);Rc(e*af(t),e*hf(t),hf(n))}function Rc(t,n,e){gc+=(t-gc)/++pc,vc+=(n-vc)/pc,yc+=(e-yc)/pc}function Oc(){Pc.point=Lc}function Lc(t,n){t*=ef;var e=af(n*=ef);Sc=e*af(t),Ec=e*hf(t),Tc=hf(n),Pc.point=qc,Rc(Sc,Ec,Tc)}function qc(t,n){t*=ef;var e=af(n*=ef),r=e*af(t),i=e*hf(t),u=hf(n),o=of(pf((o=Ec*u-Tc*i)*o+(o=Tc*r-Sc*u)*o+(o=Sc*i-Ec*r)*o),Sc*r+Ec*i+Tc*u);bc+=o,_c+=o*(Sc+(Sc=r)),mc+=o*(Ec+(Ec=i)),xc+=o*(Tc+(Tc=u)),Rc(Sc,Ec,Tc)}function Dc(){Pc.point=zc}function Uc(){Pc.point=Yc}function Bc(){jc(Nc,Ac),Pc.point=zc}function Yc(t,n){Nc=t,Ac=n,t*=ef,n*=ef,Pc.point=jc;var e=af(n);Sc=e*af(t),Ec=e*hf(t),Tc=hf(n),Rc(Sc,Ec,Tc)}function jc(t,n){t*=ef;var e=af(n*=ef),r=e*af(t),i=e*hf(t),u=hf(n),o=Ec*u-Tc*i,a=Tc*r-Sc*u,f=Sc*i-Ec*r,c=pf(o*o+a*a+f*f),l=vf(c),s=c&&-l/c;wc+=s*o,Mc+=s*a,kc+=s*f,bc+=l,_c+=l*(Sc+(Sc=r)),mc+=l*(Ec+(Ec=i)),xc+=l*(Tc+(Tc=u)),Rc(Sc,Ec,Tc)}var Ic=function(t){pc=bc=gc=vc=yc=_c=mc=xc=wc=Mc=kc=0,Cf(t,Pc);var n=wc,e=Mc,r=kc,i=n*n+e*e+r*r;return i<1e-12&&(n=_c,e=mc,r=xc,bc<Za&&(n=gc,e=vc,r=yc),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[of(e,n)*nf,vf(r/pf(i))*nf]},Fc=function(t){return function(){return t}},Hc=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function Gc(t,n){return[t>Qa?t-tf:t<-Qa?t+tf:t,n]}function Xc(t,n,e){return(t%=tf)?n||e?Hc($c(t),Wc(n,e)):$c(t):n||e?Wc(n,e):Gc}function Vc(t){return function(n,e){return[(n+=t)>Qa?n-tf:n<-Qa?n+tf:n,e]}}function $c(t){var n=Vc(t);return n.invert=Vc(-t),n}function Wc(t,n){var e=af(t),r=hf(t),i=af(n),u=hf(n);function o(t,n){var o=af(n),a=af(t)*o,f=hf(t)*o,c=hf(n),l=c*e+a*r;return[of(f*i-l*u,a*e-c*r),vf(l*i+f*u)]}return o.invert=function(t,n){var o=af(n),a=af(t)*o,f=hf(t)*o,c=hf(n),l=c*i-f*u;return[of(f*i+c*u,a*e+l*r),vf(l*e-a*r)]},o}Gc.invert=Gc;var Zc=function(t){function n(n){return(n=t(n[0]*ef,n[1]*ef))[0]*=nf,n[1]*=nf,n}return t=Xc(t[0]*ef,t[1]*ef,t.length>2?t[2]*ef:0),n.invert=function(n){return(n=t.invert(n[0]*ef,n[1]*ef))[0]*=nf,n[1]*=nf,n},n};function Qc(t,n,e,r,i,u){if(e){var o=af(n),a=hf(n),f=r*e;null==i?(i=n+r*tf,u=n-f/2):(i=Kc(o,i),u=Kc(o,u),(r>0?i<u:i>u)&&(i+=r*tf));for(var c,l=i;r>0?l>u:l<u;l-=f)c=Bf([o,-a*af(l),-a*hf(l)]),t.point(c[0],c[1])}}function Kc(t,n){(n=Yf(n))[0]-=t,Gf(n);var e=gf(-n[1]);return((-n[2]<0?-e:e)+tf-Za)%tf}var Jc=function(){var t,n,e=Fc([0,0]),r=Fc(90),i=Fc(6),u={point:function(e,r){t.push(e=n(e,r)),e[0]*=nf,e[1]*=nf}};function o(){var o=e.apply(this,arguments),a=r.apply(this,arguments)*ef,f=i.apply(this,arguments)*ef;return t=[],n=Xc(-o[0]*ef,-o[1]*ef,0).invert,Qc(u,a,f,1),o={type:"Polygon",coordinates:[t]},t=n=null,o}return o.center=function(t){return arguments.length?(e="function"==typeof t?t:Fc([+t[0],+t[1]]),o):e},o.radius=function(t){return arguments.length?(r="function"==typeof t?t:Fc(+t),o):r},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:Fc(+t),o):i},o},tl=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:_f,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},nl=function(t,n){return rf(t[0]-n[0])<Za&&rf(t[1]-n[1])<Za};function el(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var rl=function(t,n,e,r,i){var u,o,a=[],f=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(nl(r,o)){for(i.lineStart(),u=0;u<n;++u)i.point((r=t[u])[0],r[1]);i.lineEnd()}else a.push(e=new el(r,t,null,!0)),f.push(e.o=new el(r,null,e,!1)),a.push(e=new el(o,t,null,!1)),f.push(e.o=new el(o,null,e,!0))}}),a.length){for(f.sort(n),il(a),il(f),u=0,o=f.length;u<o;++u)f[u].e=e=!e;for(var c,l,s=a[0];;){for(var h=s,d=!0;h.v;)if((h=h.n)===s)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(u=0,o=c.length;u<o;++u)i.point((l=c[u])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,u=c.length-1;u>=0;--u)i.point((l=c[u])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function il(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var ul=Xa(),ol=function(t,n){var e=n[0],r=n[1],i=hf(r),u=[hf(e),-af(e),0],o=0,a=0;ul.reset(),1===i?r=Ka+Za:-1===i&&(r=-Ka-Za);for(var f=0,c=t.length;f<c;++f)if(s=(l=t[f]).length)for(var l,s,h=l[s-1],d=h[0],p=h[1]/2+Ja,b=hf(p),g=af(p),v=0;v<s;++v,d=_,b=x,g=w,h=y){var y=l[v],_=y[0],m=y[1]/2+Ja,x=hf(m),w=af(m),M=_-d,k=M>=0?1:-1,N=k*M,A=N>Qa,S=b*x;if(ul.add(of(S*k*hf(N),g*w+S*af(N))),o+=A?M+k*tf:M,A^d>=e^_>=e){var E=If(Yf(h),Yf(y));Gf(E);var T=If(u,E);Gf(T);var C=(A^M>=0?-1:1)*vf(T[2]);(r>C||r===C&&(E[0]||E[1]))&&(a+=A^M>=0?1:-1)}}return(o<-Za||o<Za&&ul<-Za)^1&a},al=function(t,n,e,r){return function(i){var u,o,a,f=n(i),c=tl(),l=n(c),s=!1,h={point:d,lineStart:b,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=_,o=[],u=[]},polygonEnd:function(){h.point=d,h.lineStart=b,h.lineEnd=g,o=D(o);var t=ol(u,r);o.length?(s||(i.polygonStart(),s=!0),rl(o,cl,t,e,i)):t&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),o=u=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){f.point(t,n)}function b(){h.point=p,f.lineStart()}function g(){h.point=d,f.lineEnd()}function v(t,n){a.push([t,n]),l.point(t,n)}function y(){l.lineStart(),a=[]}function _(){v(a[0][0],a[0][1]),l.lineEnd();var t,n,e,r,f=l.clean(),h=c.result(),d=h.length;if(a.pop(),u.push(a),a=null,d)if(1&f){if((n=(e=h[0]).length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&f&&h.push(h.pop().concat(h.shift())),o.push(h.filter(fl))}return h}};function fl(t){return t.length>1}function cl(t,n){return((t=t.x)[0]<0?t[1]-Ka-Za:Ka-t[1])-((n=n.x)[0]<0?n[1]-Ka-Za:Ka-n[1])}var ll=al(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(u,o){var a=u>0?Qa:-Qa,f=rf(u-e);rf(f-Qa)<Za?(t.point(e,r=(r+o)/2>0?Ka:-Ka),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(u,r),n=0):i!==a&&f>=Qa&&(rf(e-i)<Za&&(e-=i*Za),rf(u-a)<Za&&(u-=a*Za),r=function(t,n,e,r){var i,u,o=hf(t-e);return rf(o)>Za?uf((hf(n)*(u=af(r))*hf(e)-hf(r)*(i=af(n))*hf(t))/(i*u*o)):(n+r)/2}(e,r,u,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=u,r=o),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*Ka,r.point(-Qa,i),r.point(0,i),r.point(Qa,i),r.point(Qa,0),r.point(Qa,-i),r.point(0,-i),r.point(-Qa,-i),r.point(-Qa,0),r.point(-Qa,i);else if(rf(t[0]-n[0])>Za){var u=t[0]<n[0]?Qa:-Qa;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(n[0],n[1])},[-Qa,-Ka]);var sl=function(t){var n=af(t),e=6*ef,r=n>0,i=rf(n)>Za;function u(t,e){return af(t)*af(e)>n}function o(t,e,r){var i=[1,0,0],u=If(Yf(t),Yf(e)),o=jf(u,u),a=u[0],f=o-a*a;if(!f)return!r&&t;var c=n*o/f,l=-n*a/f,s=If(i,u),h=Hf(i,c);Ff(h,Hf(u,l));var d=s,p=jf(h,d),b=jf(d,d),g=p*p-b*(jf(h,h)-1);if(!(g<0)){var v=pf(g),y=Hf(d,(-p-v)/b);if(Ff(y,h),y=Bf(y),!r)return y;var _,m=t[0],x=e[0],w=t[1],M=e[1];x<m&&(_=m,m=x,x=_);var k=x-m,N=rf(k-Qa)<Za;if(!N&&M<w&&(_=w,w=M,M=_),N||k<Za?N?w+M>0^y[1]<(rf(y[0]-m)<Za?w:M):w<=y[1]&&y[1]<=M:k>Qa^(m<=y[0]&&y[0]<=x)){var A=Hf(d,(-p+v)/b);return Ff(A,h),[y,Bf(A)]}}}function a(n,e){var i=r?t:Qa-t,u=0;return n<-i?u|=1:n>i&&(u|=2),e<-i?u|=4:e>i&&(u|=8),u}return al(u,function(t){var n,e,f,c,l;return{lineStart:function(){c=f=!1,l=1},point:function(s,h){var d,p=[s,h],b=u(s,h),g=r?b?0:a(s,h):b?a(s+(s<0?Qa:-Qa),h):0;if(!n&&(c=f=b)&&t.lineStart(),b!==f&&(!(d=o(n,p))||nl(n,d)||nl(p,d))&&(p[0]+=Za,p[1]+=Za,b=u(p[0],p[1])),b!==f)l=0,b?(t.lineStart(),d=o(p,n),t.point(d[0],d[1])):(d=o(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^b){var v;g&e||!(v=o(p,n,!0))||(l=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!b||n&&nl(n,p)||t.point(p[0],p[1]),n=p,f=b,e=g},lineEnd:function(){f&&t.lineEnd(),n=null},clean:function(){return l|(c&&f)<<1}}},function(n,r,i,u){Qc(u,t,e,i,n,r)},r?[0,-t]:[-Qa,t-Qa])},hl=function(t,n,e,r,i,u){var o,a=t[0],f=t[1],c=0,l=1,s=n[0]-a,h=n[1]-f;if(o=e-a,s||!(o>0)){if(o/=s,s<0){if(o<c)return;o<l&&(l=o)}else if(s>0){if(o>l)return;o>c&&(c=o)}if(o=i-a,s||!(o<0)){if(o/=s,s<0){if(o>l)return;o>c&&(c=o)}else if(s>0){if(o<c)return;o<l&&(l=o)}if(o=r-f,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>c&&(c=o)}if(o=u-f,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<l&&(l=o)}return c>0&&(t[0]=a+c*s,t[1]=f+c*h),l<1&&(n[0]=a+l*s,n[1]=f+l*h),!0}}}}},dl=1e9,pl=-dl;function bl(t,n,e,r){function i(i,u){return t<=i&&i<=e&&n<=u&&u<=r}function u(i,u,a,c){var l=0,s=0;if(null==i||(l=o(i,a))!==(s=o(u,a))||f(i,u)<0^a>0)do{c.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+a+4)%4)!==s);else c.point(u[0],u[1])}function o(r,i){return rf(r[0]-t)<Za?i>0?0:3:rf(r[0]-e)<Za?i>0?2:1:rf(r[1]-n)<Za?i>0?1:0:i>0?3:2}function a(t,n){return f(t.x,n.x)}function f(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var f,c,l,s,h,d,p,b,g,v,y,_=o,m=tl(),x={point:w,lineStart:function(){x.point=M,c&&c.push(l=[]);v=!0,g=!1,p=b=NaN},lineEnd:function(){f&&(M(s,h),d&&g&&m.rejoin(),f.push(m.result()));x.point=w,g&&_.lineEnd()},polygonStart:function(){_=m,f=[],c=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var u,o,a=c[e],f=1,l=a.length,s=a[0],h=s[0],d=s[1];f<l;++f)u=h,o=d,s=a[f],h=s[0],d=s[1],o<=r?d>r&&(h-u)*(r-o)>(d-o)*(t-u)&&++n:d<=r&&(h-u)*(r-o)<(d-o)*(t-u)&&--n;return n}(),e=y&&n,i=(f=D(f)).length;(e||i)&&(o.polygonStart(),e&&(o.lineStart(),u(null,null,1,o),o.lineEnd()),i&&rl(f,a,n,u,o),o.polygonEnd());_=o,f=c=l=null}};function w(t,n){i(t,n)&&_.point(t,n)}function M(u,o){var a=i(u,o);if(c&&l.push([u,o]),v)s=u,h=o,d=a,v=!1,a&&(_.lineStart(),_.point(u,o));else if(a&&g)_.point(u,o);else{var f=[p=Math.max(pl,Math.min(dl,p)),b=Math.max(pl,Math.min(dl,b))],m=[u=Math.max(pl,Math.min(dl,u)),o=Math.max(pl,Math.min(dl,o))];hl(f,m,t,n,e,r)?(g||(_.lineStart(),_.point(f[0],f[1])),_.point(m[0],m[1]),a||_.lineEnd(),y=!1):a&&(_.lineStart(),_.point(u,o),y=!1)}p=u,b=o,g=a}return x}}var gl,vl,yl,_l=function(){var t,n,e,r=0,i=0,u=960,o=500;return e={stream:function(e){return t&&n===e?t:t=bl(r,i,u,o)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],u=+a[1][0],o=+a[1][1],t=n=null,e):[[r,i],[u,o]]}}},ml=Xa(),xl={sphere:_f,point:_f,lineStart:function(){xl.point=Ml,xl.lineEnd=wl},lineEnd:_f,polygonStart:_f,polygonEnd:_f};function wl(){xl.point=xl.lineEnd=_f}function Ml(t,n){gl=t*=ef,vl=hf(n*=ef),yl=af(n),xl.point=kl}function kl(t,n){t*=ef;var e=hf(n*=ef),r=af(n),i=rf(t-gl),u=af(i),o=r*hf(i),a=yl*e-vl*r*u,f=vl*e+yl*r*u;ml.add(of(pf(o*o+a*a),f)),gl=t,vl=e,yl=r}var Nl=function(t){return ml.reset(),Cf(t,xl),+ml},Al=[null,null],Sl={type:"LineString",coordinates:Al},El=function(t,n){return Al[0]=t,Al[1]=n,Nl(Sl)},Tl={Feature:function(t,n){return Pl(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Pl(e[r].geometry,n))return!0;return!1}},Cl={Sphere:function(){return!0},Point:function(t,n){return zl(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(zl(e[r],n))return!0;return!1},LineString:function(t,n){return Rl(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Rl(e[r],n))return!0;return!1},Polygon:function(t,n){return Ol(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Ol(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Pl(e[r],n))return!0;return!1}};function Pl(t,n){return!(!t||!Cl.hasOwnProperty(t.type))&&Cl[t.type](t,n)}function zl(t,n){return 0===El(t,n)}function Rl(t,n){var e=El(t[0],t[1]);return El(t[0],n)+El(n,t[1])<=e+Za}function Ol(t,n){return!!ol(t.map(Ll),ql(n))}function Ll(t){return(t=t.map(ql)).pop(),t}function ql(t){return[t[0]*ef,t[1]*ef]}var Dl=function(t,n){return(t&&Tl.hasOwnProperty(t.type)?Tl[t.type]:Pl)(t,n)};function Ul(t,n,e){var r=w(t,n-Za,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Bl(t,n,e){var r=w(t,n-Za,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function Yl(){var t,n,e,r,i,u,o,a,f,c,l,s,h=10,d=h,p=90,b=360,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return w(ff(r/p)*p,e,p).map(l).concat(w(ff(a/b)*b,o,b).map(s)).concat(w(ff(n/h)*h,t,h).filter(function(t){return rf(t%p)>Za}).map(f)).concat(w(ff(u/d)*d,i,d).filter(function(t){return rf(t%b)>Za}).map(c))}return v.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(s(o).slice(1),l(e).reverse().slice(1),s(a).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),v.precision(g)):[[r,a],[e,o]]},v.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],u=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),u>i&&(e=u,u=i,i=e),v.precision(g)):[[n,u],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],b=+t[1],v):[p,b]},v.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],v):[h,d]},v.precision=function(h){return arguments.length?(g=+h,f=Ul(u,i,90),c=Bl(n,t,g),l=Ul(a,o,90),s=Bl(r,e,g),v):g},v.extentMajor([[-180,-90+Za],[180,90-Za]]).extentMinor([[-180,-80-Za],[180,80+Za]])}function jl(){return Yl()()}var Il,Fl,Hl,Gl,Xl=function(t,n){var e=t[0]*ef,r=t[1]*ef,i=n[0]*ef,u=n[1]*ef,o=af(r),a=hf(r),f=af(u),c=hf(u),l=o*af(e),s=o*hf(e),h=f*af(i),d=f*hf(i),p=2*vf(pf(yf(u-r)+o*f*yf(i-e))),b=hf(p),g=p?function(t){var n=hf(t*=p)/b,e=hf(p-t)/b,r=e*l+n*h,i=e*s+n*d,u=e*a+n*c;return[of(i,r)*nf,of(u,pf(r*r+i*i))*nf]}:function(){return[e*nf,r*nf]};return g.distance=p,g},Vl=function(t){return t},$l=Xa(),Wl=Xa(),Zl={point:_f,lineStart:_f,lineEnd:_f,polygonStart:function(){Zl.lineStart=Ql,Zl.lineEnd=ts},polygonEnd:function(){Zl.lineStart=Zl.lineEnd=Zl.point=_f,$l.add(rf(Wl)),Wl.reset()},result:function(){var t=$l/2;return $l.reset(),t}};function Ql(){Zl.point=Kl}function Kl(t,n){Zl.point=Jl,Il=Hl=t,Fl=Gl=n}function Jl(t,n){Wl.add(Gl*t-Hl*n),Hl=t,Gl=n}function ts(){Jl(Il,Fl)}var ns=Zl,es=1/0,rs=es,is=-es,us=is;var os,as,fs,cs,ls={point:function(t,n){t<es&&(es=t);t>is&&(is=t);n<rs&&(rs=n);n>us&&(us=n)},lineStart:_f,lineEnd:_f,polygonStart:_f,polygonEnd:_f,result:function(){var t=[[es,rs],[is,us]];return is=us=-(rs=es=1/0),t}},ss=0,hs=0,ds=0,ps=0,bs=0,gs=0,vs=0,ys=0,_s=0,ms={point:xs,lineStart:ws,lineEnd:Ns,polygonStart:function(){ms.lineStart=As,ms.lineEnd=Ss},polygonEnd:function(){ms.point=xs,ms.lineStart=ws,ms.lineEnd=Ns},result:function(){var t=_s?[vs/_s,ys/_s]:gs?[ps/gs,bs/gs]:ds?[ss/ds,hs/ds]:[NaN,NaN];return ss=hs=ds=ps=bs=gs=vs=ys=_s=0,t}};function xs(t,n){ss+=t,hs+=n,++ds}function ws(){ms.point=Ms}function Ms(t,n){ms.point=ks,xs(fs=t,cs=n)}function ks(t,n){var e=t-fs,r=n-cs,i=pf(e*e+r*r);ps+=i*(fs+t)/2,bs+=i*(cs+n)/2,gs+=i,xs(fs=t,cs=n)}function Ns(){ms.point=xs}function As(){ms.point=Es}function Ss(){Ts(os,as)}function Es(t,n){ms.point=Ts,xs(os=fs=t,as=cs=n)}function Ts(t,n){var e=t-fs,r=n-cs,i=pf(e*e+r*r);ps+=i*(fs+t)/2,bs+=i*(cs+n)/2,gs+=i,vs+=(i=cs*t-fs*n)*(fs+t),ys+=i*(cs+n),_s+=3*i,xs(fs=t,cs=n)}var Cs=ms;function Ps(t){this._context=t}Ps.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,tf)}},result:_f};var zs,Rs,Os,Ls,qs,Ds=Xa(),Us={point:_f,lineStart:function(){Us.point=Bs},lineEnd:function(){zs&&Ys(Rs,Os),Us.point=_f},polygonStart:function(){zs=!0},polygonEnd:function(){zs=null},result:function(){var t=+Ds;return Ds.reset(),t}};function Bs(t,n){Us.point=Ys,Rs=Ls=t,Os=qs=n}function Ys(t,n){Ls-=t,qs-=n,Ds.add(pf(Ls*Ls+qs*qs)),Ls=t,qs=n}var js=Us;function Is(){this._string=[]}function Fs(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Is.prototype={_radius:4.5,_circle:Fs(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Fs(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Hs=function(t,n){var e,r,i=4.5;function u(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Cf(t,e(r))),r.result()}return u.area=function(t){return Cf(t,e(ns)),ns.result()},u.measure=function(t){return Cf(t,e(js)),js.result()},u.bounds=function(t){return Cf(t,e(ls)),ls.result()},u.centroid=function(t){return Cf(t,e(Cs)),Cs.result()},u.projection=function(n){return arguments.length?(e=null==n?(t=null,Vl):(t=n).stream,u):t},u.context=function(t){return arguments.length?(r=null==t?(n=null,new Is):new Ps(n=t),"function"!=typeof i&&r.pointRadius(i),u):n},u.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),u):i},u.projection(t).context(n)},Gs=function(t){return{stream:Xs(t)}};function Xs(t){return function(n){var e=new Vs;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Vs(){}function $s(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Cf(e,t.stream(ls)),n(ls.result()),null!=r&&t.clipExtent(r),t}function Ws(t,n,e){return $s(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],u=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-u*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-u*(e[1][1]+e[0][1]))/2;t.scale(150*u).translate([o,a])},e)}function Zs(t,n,e){return Ws(t,[[0,0],n],e)}function Qs(t,n,e){return $s(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),u=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([u,o])},e)}function Ks(t,n,e){return $s(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),u=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([u,o])},e)}Vs.prototype={constructor:Vs,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Js=16,th=af(30*ef),nh=function(t,n){return+n?function(t,n){function e(r,i,u,o,a,f,c,l,s,h,d,p,b,g){var v=c-r,y=l-i,_=v*v+y*y;if(_>4*n&&b--){var m=o+h,x=a+d,w=f+p,M=pf(m*m+x*x+w*w),k=vf(w/=M),N=rf(rf(w)-1)<Za||rf(u-s)<Za?(u+s)/2:of(x,m),A=t(N,k),S=A[0],E=A[1],T=S-r,C=E-i,P=y*T-v*C;(P*P/_>n||rf((v*T+y*C)/_-.5)>.3||o*h+a*d+f*p<th)&&(e(r,i,u,o,a,f,S,E,N,m/=M,x/=M,w,b,g),g.point(S,E),e(S,E,N,m,x,w,c,l,s,h,d,p,b,g))}}return function(n){var r,i,u,o,a,f,c,l,s,h,d,p,b={point:g,lineStart:v,lineEnd:_,polygonStart:function(){n.polygonStart(),b.lineStart=m},polygonEnd:function(){n.polygonEnd(),b.lineStart=v}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){l=NaN,b.point=y,n.lineStart()}function y(r,i){var u=Yf([r,i]),o=t(r,i);e(l,s,c,h,d,p,l=o[0],s=o[1],c=r,h=u[0],d=u[1],p=u[2],Js,n),n.point(l,s)}function _(){b.point=g,n.lineEnd()}function m(){v(),b.point=x,b.lineEnd=w}function x(t,n){y(r=t,n),i=l,u=s,o=h,a=d,f=p,b.point=y}function w(){e(l,s,c,h,d,p,i,u,r,o,a,f,Js,n),b.lineEnd=_,_()}return b}}(t,n):function(t){return Xs({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var eh=Xs({point:function(t,n){this.stream.point(t*ef,n*ef)}});function rh(t,n,e,r){var i=af(r),u=hf(r),o=i*t,a=u*t,f=i/t,c=u/t,l=(u*e-i*n)/t,s=(u*n+i*e)/t;function h(t,r){return[o*t-a*r+n,e-a*t-o*r]}return h.invert=function(t,n){return[f*t-c*n+l,s-c*t-f*n]},h}function ih(t){return uh(function(){return t})()}function uh(t){var n,e,r,i,u,o,a,f,c,l,s=150,h=480,d=250,p=0,b=0,g=0,v=0,y=0,_=0,m=null,x=ll,w=null,M=Vl,k=.5;function N(t){return f(t[0]*ef,t[1]*ef)}function A(t){return(t=f.invert(t[0],t[1]))&&[t[0]*nf,t[1]*nf]}function S(){var t=rh(s,0,0,_).apply(null,n(p,b)),r=(_?rh:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(s,h-t[0],d-t[1],_);return e=Xc(g,v,y),a=Hc(n,r),f=Hc(e,a),o=nh(a,k),E()}function E(){return c=l=null,N}return N.stream=function(t){return c&&l===t?c:c=eh(function(t){return Xs({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(x(o(M(l=t)))))},N.preclip=function(t){return arguments.length?(x=t,m=void 0,E()):x},N.postclip=function(t){return arguments.length?(M=t,w=r=i=u=null,E()):M},N.clipAngle=function(t){return arguments.length?(x=+t?sl(m=t*ef):(m=null,ll),E()):m*nf},N.clipExtent=function(t){return arguments.length?(M=null==t?(w=r=i=u=null,Vl):bl(w=+t[0][0],r=+t[0][1],i=+t[1][0],u=+t[1][1]),E()):null==w?null:[[w,r],[i,u]]},N.scale=function(t){return arguments.length?(s=+t,S()):s},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*ef,b=t[1]%360*ef,S()):[p*nf,b*nf]},N.rotate=function(t){return arguments.length?(g=t[0]%360*ef,v=t[1]%360*ef,y=t.length>2?t[2]%360*ef:0,S()):[g*nf,v*nf,y*nf]},N.angle=function(t){return arguments.length?(_=t%360*ef,S()):_*nf},N.precision=function(t){return arguments.length?(o=nh(a,k=t*t),E()):pf(k)},N.fitExtent=function(t,n){return Ws(N,t,n)},N.fitSize=function(t,n){return Zs(N,t,n)},N.fitWidth=function(t,n){return Qs(N,t,n)},N.fitHeight=function(t,n){return Ks(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&A,S()}}function oh(t){var n=0,e=Qa/3,r=uh(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*ef,e=t[1]*ef):[n*nf,e*nf]},i}function ah(t,n){var e=hf(t),r=(e+hf(n))/2;if(rf(r)<Za)return function(t){var n=af(t);function e(t,e){return[t*n,hf(e)/n]}return e.invert=function(t,e){return[t/n,vf(e*n)]},e}(t);var i=1+e*(2*r-e),u=pf(i)/r;function o(t,n){var e=pf(i-2*r*hf(n))/r;return[e*hf(t*=r),u-e*af(t)]}return o.invert=function(t,n){var e=u-n;return[of(t,rf(e))/r*df(e),vf((i-(t*t+e*e)*r*r)/(2*r))]},o}var fh=function(){return oh(ah).scale(155.424).center([0,33.6442])},ch=function(){return fh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var lh=function(){var t,n,e,r,i,u,o=ch(),a=fh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=fh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){u=[t,n]}};function l(t){var n=t[0],o=t[1];return u=null,e.point(n,o),u||(r.point(n,o),u)||(i.point(n,o),u)}function s(){return t=n=null,l}return l.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:o).invert(t)},l.stream=function(e){return t&&n===e?t:(r=[o.stream(n=e),a.stream(e),f.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),f.precision(t),s()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),f.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),u=+t[0],l=+t[1];return e=o.translate(t).clipExtent([[u-.455*n,l-.238*n],[u+.455*n,l+.238*n]]).stream(c),r=a.translate([u-.307*n,l+.201*n]).clipExtent([[u-.425*n+Za,l+.12*n+Za],[u-.214*n-Za,l+.234*n-Za]]).stream(c),i=f.translate([u-.205*n,l+.212*n]).clipExtent([[u-.214*n+Za,l+.166*n+Za],[u-.115*n-Za,l+.234*n-Za]]).stream(c),s()},l.fitExtent=function(t,n){return Ws(l,t,n)},l.fitSize=function(t,n){return Zs(l,t,n)},l.fitWidth=function(t,n){return Qs(l,t,n)},l.fitHeight=function(t,n){return Ks(l,t,n)},l.scale(1070)};function sh(t){return function(n,e){var r=af(n),i=af(e),u=t(r*i);return[u*i*hf(n),u*hf(e)]}}function hh(t){return function(n,e){var r=pf(n*n+e*e),i=t(r),u=hf(i),o=af(i);return[of(n*u,r*o),vf(r&&e*u/r)]}}var dh=sh(function(t){return pf(2/(1+t))});dh.invert=hh(function(t){return 2*vf(t/2)});var ph=function(){return ih(dh).scale(124.75).clipAngle(179.999)},bh=sh(function(t){return(t=gf(t))&&t/hf(t)});bh.invert=hh(function(t){return t});var gh=function(){return ih(bh).scale(79.4188).clipAngle(179.999)};function vh(t,n){return[t,lf(bf((Ka+n)/2))]}vh.invert=function(t,n){return[t,2*uf(cf(n))-Ka]};var yh=function(){return _h(vh).scale(961/tf)};function _h(t){var n,e,r,i=ih(t),u=i.center,o=i.scale,a=i.translate,f=i.clipExtent,c=null;function l(){var u=Qa*o(),a=i(Zc(i.rotate()).invert([0,0]));return f(null==c?[[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]]:t===vh?[[Math.max(a[0]-u,c),n],[Math.min(a[0]+u,e),r]]:[[c,Math.max(a[1]-u,n)],[e,Math.min(a[1]+u,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(a(t),l()):a()},i.center=function(t){return arguments.length?(u(t),l()):u()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,n],[e,r]]},l()}function mh(t){return bf((Ka+t)/2)}function xh(t,n){var e=af(t),r=t===n?hf(t):lf(e/af(n))/lf(mh(n)/mh(t)),i=e*sf(mh(t),r)/r;if(!r)return vh;function u(t,n){i>0?n<-Ka+Za&&(n=-Ka+Za):n>Ka-Za&&(n=Ka-Za);var e=i/sf(mh(n),r);return[e*hf(r*t),i-e*af(r*t)]}return u.invert=function(t,n){var e=i-n,u=df(r)*pf(t*t+e*e);return[of(t,rf(e))/r*df(e),2*uf(sf(i/u,1/r))-Ka]},u}var wh=function(){return oh(xh).scale(109.5).parallels([30,30])};function Mh(t,n){return[t,n]}Mh.invert=Mh;var kh=function(){return ih(Mh).scale(152.63)};function Nh(t,n){var e=af(t),r=t===n?hf(t):(e-af(n))/(n-t),i=e/r+t;if(rf(r)<Za)return Mh;function u(t,n){var e=i-n,u=r*t;return[e*hf(u),i-e*af(u)]}return u.invert=function(t,n){var e=i-n;return[of(t,rf(e))/r*df(e),i-df(r)*pf(t*t+e*e)]},u}var Ah=function(){return oh(Nh).scale(131.154).center([0,13.9389])};function Sh(t,n){var e=af(n),r=af(t)*e;return[e*hf(t)/r,hf(n)/r]}Sh.invert=hh(uf);var Eh=function(){return ih(Sh).scale(144.049).clipAngle(60)};function Th(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?Vl:Xs({point:function(i,u){this.stream.point(i*t+e,u*n+r)}})}var Ch=function(){var t,n,e,r,i,u,o=1,a=0,f=0,c=1,l=1,s=Vl,h=null,d=Vl;function p(){return r=i=null,u}return u={stream:function(t){return r&&i===t?r:r=s(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,Vl):bl(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(s=Th((o=+t)*c,o*l,a,f),p()):o},translate:function(t){return arguments.length?(s=Th(o*c,o*l,a=+t[0],f=+t[1]),p()):[a,f]},reflectX:function(t){return arguments.length?(s=Th(o*(c=t?-1:1),o*l,a,f),p()):c<0},reflectY:function(t){return arguments.length?(s=Th(o*c,o*(l=t?-1:1),a,f),p()):l<0},fitExtent:function(t,n){return Ws(u,t,n)},fitSize:function(t,n){return Zs(u,t,n)},fitWidth:function(t,n){return Qs(u,t,n)},fitHeight:function(t,n){return Ks(u,t,n)}}};function Ph(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Ph.invert=function(t,n){var e,r=n,i=25;do{var u=r*r,o=u*u;r-=e=(r*(1.007226+u*(.015085+o*(.028874*u-.044475-.005916*o)))-n)/(1.007226+u*(.045255+o*(.259866*u-.311325-.005916*11*o)))}while(rf(e)>Za&&--i>0);return[t/(.8707+(u=r*r)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),r]};var zh=function(){return ih(Ph).scale(175.295)};function Rh(t,n){return[af(n)*hf(t),hf(n)]}Rh.invert=hh(vf);var Oh=function(){return ih(Rh).scale(249.5).clipAngle(90+Za)};function Lh(t,n){var e=af(n),r=1+af(t)*e;return[e*hf(t)/r,hf(n)/r]}Lh.invert=hh(function(t){return 2*uf(t)});var qh=function(){return ih(Lh).scale(250).clipAngle(142)};function Dh(t,n){return[lf(bf((Ka+n)/2)),-t]}Dh.invert=function(t,n){return[-n,2*uf(cf(t))-Ka]};var Uh=function(){var t=_h(Dh),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)};function Bh(t,n){return t.parent===n.parent?1:2}function Yh(t,n){return t+n.x}function jh(t,n){return Math.max(t,n.y)}var Ih=function(){var t=Bh,n=1,e=1,r=!1;function i(i){var u,o=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(Yh,0)/t.length}(e),n.y=function(t){return 1+t.reduce(jh,0)}(e)):(n.x=u?o+=t(n,u):0,n.y=0,u=n)});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(i),f=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),c=a.x-t(a,f)/2,l=f.x+t(f,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(l-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i};function Fh(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Hh(t,n){var e,r,i,u,o,a=new $h(t),f=+t.value&&(a.value=t.value),c=[a];for(null==n&&(n=Gh);e=c.pop();)if(f&&(e.value=+e.data.value),(i=n(e.data))&&(o=i.length))for(e.children=new Array(o),u=o-1;u>=0;--u)c.push(r=e.children[u]=new $h(i[u])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Vh)}function Gh(t){return t.children}function Xh(t){t.data=t.data.data}function Vh(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function $h(t){this.data=t,this.depth=this.height=0,this.parent=null}$h.prototype=Hh.prototype={constructor:$h,count:function(){return this.eachAfter(Fh)},each:function(t){var n,e,r,i,u=this,o=[u];do{for(n=o.reverse(),o=[];u=n.pop();)if(t(u),e=u.children)for(r=0,i=e.length;r<i;++r)o.push(e[r])}while(o.length);return this},eachAfter:function(t){for(var n,e,r,i=this,u=[i],o=[];i=u.pop();)if(o.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)u.push(n[e]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return Hh(this).eachBefore(Xh)}};var Wh=Array.prototype.slice;var Zh=function(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Wh.call(t))).length,u=[];r<i;)n=t[r],e&&Jh(e,n)?++r:(e=nd(u=Qh(u,n)),r=0);return e};function Qh(t,n){var e,r;if(td(n,t))return[n];for(e=0;e<t.length;++e)if(Kh(n,t[e])&&td(ed(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Kh(ed(t[e],t[r]),n)&&Kh(ed(t[e],n),t[r])&&Kh(ed(t[r],n),t[e])&&td(rd(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Kh(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Jh(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function td(t,n){for(var e=0;e<n.length;++e)if(!Jh(t,n[e]))return!1;return!0}function nd(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return ed(t[0],t[1]);case 3:return rd(t[0],t[1],t[2])}var n}function ed(t,n){var e=t.x,r=t.y,i=t.r,u=n.x,o=n.y,a=n.r,f=u-e,c=o-r,l=a-i,s=Math.sqrt(f*f+c*c);return{x:(e+u+f/s*l)/2,y:(r+o+c/s*l)/2,r:(s+i+a)/2}}function rd(t,n,e){var r=t.x,i=t.y,u=t.r,o=n.x,a=n.y,f=n.r,c=e.x,l=e.y,s=e.r,h=r-o,d=r-c,p=i-a,b=i-l,g=f-u,v=s-u,y=r*r+i*i-u*u,_=y-o*o-a*a+f*f,m=y-c*c-l*l+s*s,x=d*p-h*b,w=(p*m-b*_)/(2*x)-r,M=(b*g-p*v)/x,k=(d*_-h*m)/(2*x)-i,N=(h*v-d*g)/x,A=M*M+N*N-1,S=2*(u+w*M+k*N),E=w*w+k*k-u*u,T=-(A?(S+Math.sqrt(S*S-4*A*E))/(2*A):E/S);return{x:r+w+M*T,y:i+k+N*T,r:T}}function id(t,n,e){var r,i,u,o,a=t.x-n.x,f=t.y-n.y,c=a*a+f*f;c?(i=n.r+e.r,i*=i,o=t.r+e.r,i>(o*=o)?(r=(c+o-i)/(2*c),u=Math.sqrt(Math.max(0,o/c-r*r)),e.x=t.x-r*a-u*f,e.y=t.y-r*f+u*a):(r=(c+i-o)/(2*c),u=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*a-u*f,e.y=n.y+r*f+u*a)):(e.x=n.x+e.r,e.y=n.y)}function ud(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function od(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,u=(n.y*e.r+e.y*n.r)/r;return i*i+u*u}function ad(t){this._=t,this.next=null,this.previous=null}function fd(t){if(!(i=t.length))return 0;var n,e,r,i,u,o,a,f,c,l,s;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;id(e,n,r=t[2]),n=new ad(n),e=new ad(e),r=new ad(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){id(n._,e._,r=t[a]),r=new ad(r),f=e.next,c=n.previous,l=e._.r,s=n._.r;do{if(l<=s){if(ud(f._,r._)){e=f,n.next=e,e.previous=n,--a;continue t}l+=f._.r,f=f.next}else{if(ud(c._,r._)){(n=c).next=e,e.previous=n,--a;continue t}s+=c._.r,c=c.previous}}while(f!==c.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,u=od(n);(r=r.next)!==e;)(o=od(r))<u&&(n=r,u=o);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=Zh(n),a=0;a<i;++a)(n=t[a]).x-=r.x,n.y-=r.y;return r.r}var cd=function(t){return fd(t),t};function ld(t){if("function"!=typeof t)throw new Error;return t}function sd(){return 0}var hd=function(t){return function(){return t}};function dd(t){return Math.sqrt(t.value)}var pd=function(){var t=null,n=1,e=1,r=sd;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(bd(t)).eachAfter(gd(r,.5)).eachBefore(vd(1)):i.eachBefore(bd(dd)).eachAfter(gd(sd,1)).eachAfter(gd(r,i.r/Math.min(n,e))).eachBefore(vd(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=null==(e=n)?null:ld(e),i):t;var e},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:hd(+t),i):r},i};function bd(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function gd(t,n){return function(e){if(r=e.children){var r,i,u,o=r.length,a=t(e)*n||0;if(a)for(i=0;i<o;++i)r[i].r+=a;if(u=fd(r),a)for(i=0;i<o;++i)r[i].r-=a;e.r=u+a}}}function vd(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var yd=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},_d=function(t,n,e,r,i){for(var u,o=t.children,a=-1,f=o.length,c=t.value&&(r-n)/t.value;++a<f;)(u=o[a]).y0=e,u.y1=i,u.x0=n,u.x1=n+=u.value*c},md=function(){var t=1,n=1,e=0,r=!1;function i(i){var u=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/u,i.eachBefore(function(t,n){return function(r){r.children&&_d(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,u=r.y0,o=r.x1-e,a=r.y1-e;o<i&&(i=o=(i+o)/2),a<u&&(u=a=(u+a)/2),r.x0=i,r.y0=u,r.x1=o,r.y1=a}}(n,u)),r&&i.eachBefore(yd),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},xd="$",wd={depth:-1},Md={};function kd(t){return t.id}function Nd(t){return t.parentId}var Ad=function(){var t=kd,n=Nd;function e(e){var r,i,u,o,a,f,c,l=e.length,s=new Array(l),h={};for(i=0;i<l;++i)r=e[i],a=s[i]=new $h(r),null!=(f=t(r,i,e))&&(f+="")&&(h[c=xd+(a.id=f)]=c in h?Md:a);for(i=0;i<l;++i)if(a=s[i],null!=(f=n(e[i],i,e))&&(f+="")){if(!(o=h[xd+f]))throw new Error("missing: "+f);if(o===Md)throw new Error("ambiguous: "+f);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(u)throw new Error("multiple roots");u=a}if(!u)throw new Error("no root");if(u.parent=wd,u.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Vh),u.parent=null,l>0)throw new Error("cycle");return u}return e.id=function(n){return arguments.length?(t=ld(n),e):t},e.parentId=function(t){return arguments.length?(n=ld(t),e):n},e};function Sd(t,n){return t.parent===n.parent?1:2}function Ed(t){var n=t.children;return n?n[0]:t.t}function Td(t){var n=t.children;return n?n[n.length-1]:t.t}function Cd(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Pd(t,n,e){return t.a.parent===n.parent?t.a:e}function zd(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}zd.prototype=Object.create($h.prototype);var Rd=function(){var t=Sd,n=1,e=1,r=null;function i(i){var f=function(t){for(var n,e,r,i,u,o=new zd(t,0),a=[o];n=a.pop();)if(r=n._.children)for(n.children=new Array(u=r.length),i=u-1;i>=0;--i)a.push(e=n.children[i]=new zd(r[i],i)),e.parent=n;return(o.parent=new zd(null,0)).children=[o],o}(i);if(f.eachAfter(u),f.parent.m=-f.z,f.eachBefore(o),r)i.eachBefore(a);else{var c=i,l=i,s=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>s.depth&&(s=t)});var h=c===l?1:t(c,l)/2,d=h-c.x,p=n/(l.x+h+d),b=e/(s.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*b})}return i}function u(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,u=i.length;--u>=0;)(n=i[u]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var u=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-u):n.z=u}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,u=n,o=n,a=e,f=u.parent.children[0],c=u.m,l=o.m,s=a.m,h=f.m;a=Td(a),u=Ed(u),a&&u;)f=Ed(f),(o=Td(o)).a=n,(i=a.z+s-u.z-c+t(a._,u._))>0&&(Cd(Pd(a,n,r),n,i),c+=i,l+=i),s+=a.m,c+=u.m,h+=f.m,l+=o.m;a&&!Td(o)&&(o.t=a,o.m+=s-l),u&&!Ed(f)&&(f.t=u,f.m+=c-h,r=n)}return r}(n,i,n.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},Od=function(t,n,e,r,i){for(var u,o=t.children,a=-1,f=o.length,c=t.value&&(i-e)/t.value;++a<f;)(u=o[a]).x0=n,u.x1=r,u.y0=e,u.y1=e+=u.value*c},Ld=(1+Math.sqrt(5))/2;function qd(t,n,e,r,i,u){for(var o,a,f,c,l,s,h,d,p,b,g,v=[],y=n.children,_=0,m=0,x=y.length,w=n.value;_<x;){f=i-e,c=u-r;do{l=y[m++].value}while(!l&&m<x);for(s=h=l,g=l*l*(b=Math.max(c/f,f/c)/(w*t)),p=Math.max(h/g,g/s);m<x;++m){if(l+=a=y[m].value,a<s&&(s=a),a>h&&(h=a),g=l*l*b,(d=Math.max(h/g,g/s))>p){l-=a;break}p=d}v.push(o={value:l,dice:f<c,children:y.slice(_,m)}),o.dice?_d(o,e,r,i,w?r+=c*l/w:u):Od(o,e,r,w?e+=f*l/w:i,u),w-=l,_=m}return v}var Dd=function t(n){function e(t,e,r,i,u){qd(n,t,e,r,i,u)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ld),Ud=function(){var t=Dd,n=!1,e=1,r=1,i=[0],u=sd,o=sd,a=sd,f=sd,c=sd;function l(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(s),i=[0],n&&t.eachBefore(yd),t}function s(n){var e=i[n.depth],r=n.x0+e,l=n.y0+e,s=n.x1-e,h=n.y1-e;s<r&&(r=s=(r+s)/2),h<l&&(l=h=(l+h)/2),n.x0=r,n.y0=l,n.x1=s,n.y1=h,n.children&&(e=i[n.depth+1]=u(n)/2,r+=c(n)-e,l+=o(n)-e,s-=a(n)-e,h-=f(n)-e,s<r&&(r=s=(r+s)/2),h<l&&(l=h=(l+h)/2),t(n,r,l,s,h))}return l.round=function(t){return arguments.length?(n=!!t,l):n},l.size=function(t){return arguments.length?(e=+t[0],r=+t[1],l):[e,r]},l.tile=function(n){return arguments.length?(t=ld(n),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:hd(+t),l):u},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:hd(+t),l):o},l.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:hd(+t),l):a},l.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:hd(+t),l):f},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:hd(+t),l):c},l},Bd=function(t,n,e,r,i){var u,o,a=t.children,f=a.length,c=new Array(f+1);for(c[0]=o=u=0;u<f;++u)c[u+1]=o+=a[u].value;!function t(n,e,r,i,u,o,f){if(n>=e-1){var l=a[n];return l.x0=i,l.y0=u,l.x1=o,void(l.y1=f)}var s=c[n],h=r/2+s,d=n+1,p=e-1;for(;d<p;){var b=d+p>>>1;c[b]<h?d=b+1:p=b}h-c[d-1]<c[d]-h&&n+1<d&&--d;var g=c[d]-s,v=r-g;if(o-i>f-u){var y=(i*v+o*g)/r;t(n,d,g,i,u,y,f),t(d,e,v,y,u,o,f)}else{var _=(u*v+f*g)/r;t(n,d,g,i,u,o,_),t(d,e,v,i,_,o,f)}}(0,f,t.value,n,e,r,i)},Yd=function(t,n,e,r,i){(1&t.depth?Od:_d)(t,n,e,r,i)},jd=function t(n){function e(t,e,r,i,u){if((o=t._squarify)&&o.ratio===n)for(var o,a,f,c,l,s=-1,h=o.length,d=t.value;++s<h;){for(f=(a=o[s]).children,c=a.value=0,l=f.length;c<l;++c)a.value+=f[c].value;a.dice?_d(a,e,r,i,r+=(u-r)*a.value/d):Od(a,e,r,e+=(i-e)*a.value/d,u),d-=a.value}else t._squarify=o=qd(n,t,e,r,i,u),o.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ld),Id=function(t){for(var n,e=-1,r=t.length,i=t[r-1],u=0;++e<r;)n=i,i=t[e],u+=n[1]*i[0]-n[0]*i[1];return u/2},Fd=function(t){for(var n,e,r=-1,i=t.length,u=0,o=0,a=t[i-1],f=0;++r<i;)n=a,a=t[r],f+=e=n[0]*a[1]-a[0]*n[1],u+=(n[0]+a[0])*e,o+=(n[1]+a[1])*e;return[u/(f*=3),o/f]},Hd=function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])};function Gd(t,n){return t[0]-n[0]||t[1]-n[1]}function Xd(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Hd(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}var Vd=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Gd),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var u=Xd(r),o=Xd(i),a=o[0]===u[0],f=o[o.length-1]===u[u.length-1],c=[];for(n=u.length-1;n>=0;--n)c.push(t[r[u[n]][2]]);for(n=+a;n<o.length-f;++n)c.push(t[r[o[n]][2]]);return c},$d=function(t,n){for(var e,r,i=t.length,u=t[i-1],o=n[0],a=n[1],f=u[0],c=u[1],l=!1,s=0;s<i;++s)e=(u=t[s])[0],(r=u[1])>a!=c>a&&o<(f-e)*(a-r)/(c-r)+e&&(l=!l),f=e,c=r;return l},Wd=function(t){for(var n,e,r=-1,i=t.length,u=t[i-1],o=u[0],a=u[1],f=0;++r<i;)n=o,e=a,n-=o=(u=t[r])[0],e-=a=u[1],f+=Math.sqrt(n*n+e*e);return f},Zd=function(){return Math.random()},Qd=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Zd),Kd=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var u;if(null!=r)u=r,r=null;else do{r=2*n()-1,u=2*n()-1,i=r*r+u*u}while(!i||i>1);return t+e*u*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Zd),Jd=function t(n){function e(){var t=Kd.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Zd),tp=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(Zd),np=function t(n){function e(t){var e=tp.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Zd),ep=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Zd),rp=Array.prototype,ip=rp.map,up=rp.slice,op={name:"implicit"};function ap(t){var n=Vu(),e=[],r=op;function i(i){var u=i+"",o=n.get(u);if(!o){if(r!==op)return r;n.set(u,o=e.push(i))}return t[(o-1)%t.length]}return t=null==t?[]:up.call(t),i.domain=function(t){if(!arguments.length)return e.slice();e=[],n=Vu();for(var r,u,o=-1,a=t.length;++o<a;)n.has(u=(r=t[o])+"")||n.set(u,e.push(r));return i},i.range=function(n){return arguments.length?(t=up.call(n),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return ap().domain(e).range(t).unknown(r)},i}function fp(){var t,n,e=ap().unknown(void 0),r=e.domain,i=e.range,u=[0,1],o=!1,a=0,f=0,c=.5;function l(){var e=r().length,l=u[1]<u[0],s=u[l-0],h=u[1-l];t=(h-s)/Math.max(1,e-a+2*f),o&&(t=Math.floor(t)),s+=(h-s-t*(e-a))*c,n=t*(1-a),o&&(s=Math.round(s),n=Math.round(n));var d=w(e).map(function(n){return s+t*n});return i(l?d.reverse():d)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?(u=[+t[0],+t[1]],l()):u.slice()},e.rangeRound=function(t){return u=[+t[0],+t[1]],o=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,l()):o},e.padding=function(t){return arguments.length?(a=f=Math.max(0,Math.min(1,t)),l()):a},e.paddingInner=function(t){return arguments.length?(a=Math.max(0,Math.min(1,t)),l()):a},e.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),l()):f},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},e.copy=function(){return fp().domain(r()).range(u).round(o).paddingInner(a).paddingOuter(f).align(c)},l()}function cp(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(fp().paddingInner(1))}var lp=function(t){return function(){return t}},sp=function(t){return+t},hp=[0,1];function dp(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:lp(n)}function pp(t,n,e,r){var i=t[0],u=t[1],o=n[0],a=n[1];return u<i?(i=e(u,i),o=r(a,o)):(i=e(i,u),o=r(o,a)),function(t){return o(i(t))}}function bp(t,n,e,r){var i=Math.min(t.length,n.length)-1,u=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)u[a]=e(t[a],t[a+1]),o[a]=r(n[a],n[a+1]);return function(n){var e=f(t,n,1,i)-1;return o[e](u[e](n))}}function gp(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function vp(t,n){var e,r,i,u=hp,o=hp,a=Ze,f=!1;function c(){return e=Math.min(u.length,o.length)>2?bp:pp,r=i=null,l}function l(n){return(r||(r=e(u,o,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,a)))(+n)}return l.invert=function(t){return(i||(i=e(o,u,dp,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},l.domain=function(t){return arguments.length?(u=ip.call(t,sp),c()):u.slice()},l.range=function(t){return arguments.length?(o=up.call(t),c()):o.slice()},l.rangeRound=function(t){return o=up.call(t),a=Qe,c()},l.clamp=function(t){return arguments.length?(f=!!t,c()):f},l.interpolate=function(t){return arguments.length?(a=t,c()):a},c()}var yp=function(t,n,e){var r,i=t[0],u=t[t.length-1],o=E(i,u,null==n?10:n);switch((e=Oa(null==e?",f":e)).type){case"s":var a=Math.max(Math.abs(i),Math.abs(u));return null!=e.precision||isNaN(r=Ha(o,a))||(e.precision=r),Ua(e,a);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(r=Ga(o,Math.max(Math.abs(i),Math.abs(u))))||(e.precision=r-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(r=Fa(o))||(e.precision=r-2*("%"===e.type))}return Da(e)};function _p(t){var n=t.domain;return t.ticks=function(t){var e=n();return A(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return yp(n(),t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),u=0,o=i.length-1,a=i[u],f=i[o];return f<a&&(r=a,a=f,f=r,r=u,u=o,o=r),(r=S(a,f,e))>0?r=S(a=Math.floor(a/r)*r,f=Math.ceil(f/r)*r,e):r<0&&(r=S(a=Math.ceil(a*r)/r,f=Math.floor(f*r)/r,e)),r>0?(i[u]=Math.floor(a/r)*r,i[o]=Math.ceil(f/r)*r,n(i)):r<0&&(i[u]=Math.ceil(a*r)/r,i[o]=Math.floor(f*r)/r,n(i)),t},t}function mp(){var t=vp(dp,je);return t.copy=function(){return gp(t,mp())},_p(t)}function xp(){var t=[0,1];function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=ip.call(e,sp),n):t.slice()},n.copy=function(){return xp().domain(t)},_p(n)}var wp=function(t,n){var e,r=0,i=(t=t.slice()).length-1,u=t[r],o=t[i];return o<u&&(e=r,r=i,i=e,e=u,u=o,o=e),t[r]=n.floor(u),t[i]=n.ceil(o),t};function Mp(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:lp(n)}function kp(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function Np(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ap(t){return 10===t?Np:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Sp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Ep(t){return function(n){return-t(-n)}}function Tp(){var t=vp(Mp,kp).domain([1,10]),n=t.domain,e=10,r=Sp(10),i=Ap(10);function u(){return r=Sp(e),i=Ap(e),n()[0]<0&&(r=Ep(r),i=Ep(i)),t}return t.base=function(t){return arguments.length?(e=+t,u()):e},t.domain=function(t){return arguments.length?(n(t),u()):n()},t.ticks=function(t){var u,o=n(),a=o[0],f=o[o.length-1];(u=f<a)&&(h=a,a=f,f=h);var c,l,s,h=r(a),d=r(f),p=null==t?10:+t,b=[];if(!(e%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,a>0){for(;h<d;++h)for(l=1,c=i(h);l<e;++l)if(!((s=c*l)<a)){if(s>f)break;b.push(s)}}else for(;h<d;++h)for(l=e-1,c=i(h);l>=1;--l)if(!((s=c*l)<a)){if(s>f)break;b.push(s)}}else b=A(h,d,Math.min(d-h,p)).map(i);return u?b.reverse():b},t.tickFormat=function(n,u){if(null==u&&(u=10===e?".0e":","),"function"!=typeof u&&(u=Da(u)),n===1/0)return u;null==n&&(n=10);var o=Math.max(1,e*n/t.ticks().length);return function(t){var n=t/i(Math.round(r(t)));return n*e<e-.5&&(n*=e),n<=o?u(t):""}},t.nice=function(){return n(wp(n(),{floor:function(t){return i(Math.floor(r(t)))},ceil:function(t){return i(Math.ceil(r(t)))}}))},t.copy=function(){return gp(t,Tp().base(e))},t}function Cp(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function Pp(){var t=1,n=vp(function(n,e){return(e=Cp(e,t)-(n=Cp(n,t)))?function(r){return(Cp(r,t)-n)/e}:lp(e)},function(n,e){return e=Cp(e,t)-(n=Cp(n,t)),function(r){return Cp(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return gp(n,Pp().exponent(t))},_p(n)}function zp(){return Pp().exponent(.5)}function Rp(){var t=[],n=[],e=[];function i(){var r=0,i=Math.max(1,n.length);for(e=new Array(i-1);++r<i;)e[r-1]=P(t,r/i);return u}function u(t){if(!isNaN(t=+t))return n[f(e,t)]}return u.invertExtent=function(r){var i=n.indexOf(r);return i<0?[NaN,NaN]:[i>0?e[i-1]:t[0],i<e.length?e[i]:t[t.length-1]]},u.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var e,u=0,o=n.length;u<o;++u)null==(e=n[u])||isNaN(e=+e)||t.push(e);return t.sort(r),i()},u.range=function(t){return arguments.length?(n=up.call(t),i()):n.slice()},u.quantiles=function(){return e.slice()},u.copy=function(){return Rp().domain(t).range(n)},u}function Op(){var t=0,n=1,e=1,r=[.5],i=[0,1];function u(t){if(t<=t)return i[f(r,t,0,e)]}function o(){var i=-1;for(r=new Array(e);++i<e;)r[i]=((i+1)*n-(i-e)*t)/(e+1);return u}return u.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],o()):[t,n]},u.range=function(t){return arguments.length?(e=(i=up.call(t)).length-1,o()):i.slice()},u.invertExtent=function(u){var o=i.indexOf(u);return o<0?[NaN,NaN]:o<1?[t,r[0]]:o>=e?[r[e-1],n]:[r[o-1],r[o]]},u.copy=function(){return Op().domain([t,n]).range(i)},_p(u)}function Lp(){var t=[.5],n=[0,1],e=1;function r(r){if(r<=r)return n[f(t,r,0,e)]}return r.domain=function(i){return arguments.length?(t=up.call(i),e=Math.min(t.length,n.length-1),r):t.slice()},r.range=function(i){return arguments.length?(n=up.call(i),e=Math.min(t.length,n.length-1),r):n.slice()},r.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},r.copy=function(){return Lp().domain(t).range(n)},r}var qp=new Date,Dp=new Date;function Up(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,u){var o,a=[];if(e=i.ceil(e),u=null==u?1:Math.floor(u),!(e<r&&u>0))return a;do{a.push(o=new Date(+e)),n(e,u),t(e)}while(o<e&&e<r);return a},i.filter=function(e){return Up(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return qp.setTime(+n),Dp.setTime(+r),t(qp),t(Dp),Math.floor(e(qp,Dp))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Bp=Up(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Bp.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Up(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Bp:null};var Yp=Bp,jp=Bp.range,Ip=6e4,Fp=6048e5,Hp=Up(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Gp=Hp,Xp=Hp.range,Vp=Up(function(t){t.setTime(Math.floor(t/Ip)*Ip)},function(t,n){t.setTime(+t+n*Ip)},function(t,n){return(n-t)/Ip},function(t){return t.getMinutes()}),$p=Vp,Wp=Vp.range,Zp=Up(function(t){var n=t.getTimezoneOffset()*Ip%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Qp=Zp,Kp=Zp.range,Jp=Up(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ip)/864e5},function(t){return t.getDate()-1}),tb=Jp,nb=Jp.range;function eb(t){return Up(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ip)/Fp})}var rb=eb(0),ib=eb(1),ub=eb(2),ob=eb(3),ab=eb(4),fb=eb(5),cb=eb(6),lb=rb.range,sb=ib.range,hb=ub.range,db=ob.range,pb=ab.range,bb=fb.range,gb=cb.range,vb=Up(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),yb=vb,_b=vb.range,mb=Up(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});mb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Up(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var xb=mb,wb=mb.range,Mb=Up(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Ip)},function(t,n){return(n-t)/Ip},function(t){return t.getUTCMinutes()}),kb=Mb,Nb=Mb.range,Ab=Up(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),Sb=Ab,Eb=Ab.range,Tb=Up(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),Cb=Tb,Pb=Tb.range;function zb(t){return Up(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Fp})}var Rb=zb(0),Ob=zb(1),Lb=zb(2),qb=zb(3),Db=zb(4),Ub=zb(5),Bb=zb(6),Yb=Rb.range,jb=Ob.range,Ib=Lb.range,Fb=qb.range,Hb=Db.range,Gb=Ub.range,Xb=Bb.range,Vb=Up(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),$b=Vb,Wb=Vb.range,Zb=Up(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Zb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Up(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Qb=Zb,Kb=Zb.range;function Jb(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tg(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ng(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function eg(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,u=t.days,o=t.shortDays,a=t.months,f=t.shortMonths,c=pg(i),l=bg(i),s=pg(u),h=bg(u),d=pg(o),p=bg(o),b=pg(a),g=bg(a),v=pg(f),y=bg(f),_={a:function(t){return o[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Lg,e:Lg,f:Yg,H:qg,I:Dg,j:Ug,L:Bg,m:jg,M:Ig,p:function(t){return i[+(t.getHours()>=12)]},Q:gv,s:vv,S:Fg,u:Hg,U:Gg,V:Xg,w:Vg,W:$g,x:null,X:null,y:Wg,Y:Zg,Z:Qg,"%":bv},m={a:function(t){return o[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Kg,e:Kg,f:rv,H:Jg,I:tv,j:nv,L:ev,m:iv,M:uv,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:gv,s:vv,S:ov,u:av,U:fv,V:cv,w:lv,W:sv,x:null,X:null,y:hv,Y:dv,Z:pv,"%":bv},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=b.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return k(t,n,e,r)},d:Ng,e:Ng,f:Pg,H:Sg,I:Sg,j:Ag,L:Cg,m:kg,M:Eg,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:Rg,s:Og,S:Tg,u:vg,U:yg,V:_g,w:gg,W:mg,x:function(t,n,r){return k(t,e,n,r)},X:function(t,n,e){return k(t,r,n,e)},y:wg,Y:xg,Z:Mg,"%":zg};function w(t,n){return function(e){var r,i,u,o=[],a=-1,f=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(f,a)),null!=(i=fg[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(u=n[r])&&(r=u(e,i)),o.push(r),f=a+1);return o.push(t.slice(f,a)),o.join("")}}function M(t,n){return function(e){var r,i,u=ng(1900);if(k(u,t,e+="",0)!=e.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(r=(i=(r=tg(ng(u.y))).getUTCDay())>4||0===i?Ob.ceil(r):Ob(r),r=Cb.offset(r,7*(u.V-1)),u.y=r.getUTCFullYear(),u.m=r.getUTCMonth(),u.d=r.getUTCDate()+(u.w+6)%7):(r=(i=(r=n(ng(u.y))).getDay())>4||0===i?ib.ceil(r):ib(r),r=tb.offset(r,7*(u.V-1)),u.y=r.getFullYear(),u.m=r.getMonth(),u.d=r.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),i="Z"in u?tg(ng(u.y)).getUTCDay():n(ng(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(i+5)%7:u.w+7*u.U-(i+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,tg(u)):n(u)}}function k(t,n,e,r){for(var i,u,o=0,a=n.length,f=e.length;o<a;){if(r>=f)return-1;if(37===(i=n.charCodeAt(o++))){if(i=n.charAt(o++),!(u=x[i in fg?n.charAt(o++):i])||(r=u(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return _.x=w(e,_),_.X=w(r,_),_.c=w(n,_),m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),{format:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Jb);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,tg);return n.toString=function(){return t},n}}}var rg,ig,ug,og,ag,fg={"-":"",_:" ",0:"0"},cg=/^\s*\d+/,lg=/^%/,sg=/[\\^$*+?|[\]().{}]/g;function hg(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(n)+i:i)}function dg(t){return t.replace(sg,"\\$&")}function pg(t){return new RegExp("^(?:"+t.map(dg).join("|")+")","i")}function bg(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function gg(t,n,e){var r=cg.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function vg(t,n,e){var r=cg.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function yg(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function _g(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function mg(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function xg(t,n,e){var r=cg.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function wg(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Mg(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function kg(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ng(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ag(t,n,e){var r=cg.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Sg(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Eg(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Tg(t,n,e){var r=cg.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Cg(t,n,e){var r=cg.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Pg(t,n,e){var r=cg.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function zg(t,n,e){var r=lg.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Rg(t,n,e){var r=cg.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Og(t,n,e){var r=cg.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Lg(t,n){return hg(t.getDate(),n,2)}function qg(t,n){return hg(t.getHours(),n,2)}function Dg(t,n){return hg(t.getHours()%12||12,n,2)}function Ug(t,n){return hg(1+tb.count(xb(t),t),n,3)}function Bg(t,n){return hg(t.getMilliseconds(),n,3)}function Yg(t,n){return Bg(t,n)+"000"}function jg(t,n){return hg(t.getMonth()+1,n,2)}function Ig(t,n){return hg(t.getMinutes(),n,2)}function Fg(t,n){return hg(t.getSeconds(),n,2)}function Hg(t){var n=t.getDay();return 0===n?7:n}function Gg(t,n){return hg(rb.count(xb(t),t),n,2)}function Xg(t,n){var e=t.getDay();return t=e>=4||0===e?ab(t):ab.ceil(t),hg(ab.count(xb(t),t)+(4===xb(t).getDay()),n,2)}function Vg(t){return t.getDay()}function $g(t,n){return hg(ib.count(xb(t),t),n,2)}function Wg(t,n){return hg(t.getFullYear()%100,n,2)}function Zg(t,n){return hg(t.getFullYear()%1e4,n,4)}function Qg(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+hg(n/60|0,"0",2)+hg(n%60,"0",2)}function Kg(t,n){return hg(t.getUTCDate(),n,2)}function Jg(t,n){return hg(t.getUTCHours(),n,2)}function tv(t,n){return hg(t.getUTCHours()%12||12,n,2)}function nv(t,n){return hg(1+Cb.count(Qb(t),t),n,3)}function ev(t,n){return hg(t.getUTCMilliseconds(),n,3)}function rv(t,n){return ev(t,n)+"000"}function iv(t,n){return hg(t.getUTCMonth()+1,n,2)}function uv(t,n){return hg(t.getUTCMinutes(),n,2)}function ov(t,n){return hg(t.getUTCSeconds(),n,2)}function av(t){var n=t.getUTCDay();return 0===n?7:n}function fv(t,n){return hg(Rb.count(Qb(t),t),n,2)}function cv(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Db(t):Db.ceil(t),hg(Db.count(Qb(t),t)+(4===Qb(t).getUTCDay()),n,2)}function lv(t){return t.getUTCDay()}function sv(t,n){return hg(Ob.count(Qb(t),t),n,2)}function hv(t,n){return hg(t.getUTCFullYear()%100,n,2)}function dv(t,n){return hg(t.getUTCFullYear()%1e4,n,4)}function pv(){return"+0000"}function bv(){return"%"}function gv(t){return+t}function vv(t){return Math.floor(+t/1e3)}function yv(t){return rg=eg(t),ig=rg.format,ug=rg.parse,og=rg.utcFormat,ag=rg.utcParse,rg}yv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _v=Date.prototype.toISOString?function(t){return t.toISOString()}:og("%Y-%m-%dT%H:%M:%S.%LZ");var mv=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:ag("%Y-%m-%dT%H:%M:%S.%LZ"),xv=1e3,wv=60*xv,Mv=60*wv,kv=24*Mv,Nv=7*kv,Av=30*kv,Sv=365*kv;function Ev(t){return new Date(t)}function Tv(t){return t instanceof Date?+t:+new Date(+t)}function Cv(t,n,e,r,u,o,a,f,c){var l=vp(dp,je),s=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),b=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),_=c("%B"),m=c("%Y"),x=[[a,1,xv],[a,5,5*xv],[a,15,15*xv],[a,30,30*xv],[o,1,wv],[o,5,5*wv],[o,15,15*wv],[o,30,30*wv],[u,1,Mv],[u,3,3*Mv],[u,6,6*Mv],[u,12,12*Mv],[r,1,kv],[r,2,2*kv],[e,1,Nv],[n,1,Av],[n,3,3*Av],[t,1,Sv]];function w(i){return(a(i)<i?d:o(i)<i?p:u(i)<i?b:r(i)<i?g:n(i)<i?e(i)<i?v:y:t(i)<i?_:m)(i)}function M(n,e,r,u){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(r-e)/n,a=i(function(t){return t[2]}).right(x,o);a===x.length?(u=E(e/Sv,r/Sv,n),n=t):a?(u=(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a])[1],n=a[0]):(u=Math.max(E(e,r,n),1),n=f)}return null==u?n:n.every(u)}return l.invert=function(t){return new Date(s(t))},l.domain=function(t){return arguments.length?h(ip.call(t,Tv)):h().map(Ev)},l.ticks=function(t,n){var e,r=h(),i=r[0],u=r[r.length-1],o=u<i;return o&&(e=i,i=u,u=e),e=(e=M(t,i,u,n))?e.range(i,u+1):[],o?e.reverse():e},l.tickFormat=function(t,n){return null==n?w:c(n)},l.nice=function(t,n){var e=h();return(t=M(t,e[0],e[e.length-1],n))?h(wp(e,t)):l},l.copy=function(){return gp(l,Cv(t,n,e,r,u,o,a,f,c))},l}var Pv=function(){return Cv(xb,yb,rb,tb,Qp,$p,Gp,Yp,ig).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},zv=function(){return Cv(Qb,$b,Rb,Cb,Sb,kb,Gp,Yp,og).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};function Rv(t){var n=0,e=1,r=!1;function i(i){var u=(i-n)/(e-n);return t(r?Math.max(0,Math.min(1,u)):u)}return i.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return Rv(t).domain([n,e]).clamp(r)},_p(i)}var Ov=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},Lv=Ov("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),qv=Ov("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dv=Ov("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Uv=Ov("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Bv=Ov("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Yv=Ov("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),jv=Ov("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Iv=Ov("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Fv=Ov("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Hv=function(t){return De(t[t.length-1])},Gv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ov),Xv=Hv(Gv),Vv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ov),$v=Hv(Vv),Wv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ov),Zv=Hv(Wv),Qv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ov),Kv=Hv(Qv),Jv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ov),ty=Hv(Jv),ny=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ov),ey=Hv(ny),ry=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ov),iy=Hv(ry),uy=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ov),oy=Hv(uy),ay=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ov),fy=Hv(ay),cy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ov),ly=Hv(cy),sy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ov),hy=Hv(sy),dy=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ov),py=Hv(dy),by=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ov),gy=Hv(by),vy=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ov),yy=Hv(vy),_y=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ov),my=Hv(_y),xy=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ov),wy=Hv(xy),My=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ov),ky=Hv(My),Ny=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ov),Ay=Hv(Ny),Sy=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ov),Ey=Hv(Sy),Ty=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ov),Cy=Hv(Ty),Py=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ov),zy=Hv(Py),Ry=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ov),Oy=Hv(Ry),Ly=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ov),qy=Hv(Ly),Dy=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ov),Uy=Hv(Dy),By=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ov),Yy=Hv(By),jy=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ov),Iy=Hv(jy),Fy=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ov),Hy=Hv(Fy),Gy=yr(Ne(300,.5,0),Ne(-240,.5,1)),Xy=yr(Ne(-100,.75,.35),Ne(80,1.5,.8)),Vy=yr(Ne(260,.75,.35),Ne(80,1.5,.8)),$y=Ne(),Wy=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return $y.h=360*t-100,$y.s=1.5-1.5*n,$y.l=.8-.9*n,$y+""};function Zy(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var Qy=Zy(Ov("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ky=Zy(Ov("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jy=Zy(Ov("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),t_=Zy(Ov("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),n_=function(t){return function(){return t}},e_=Math.abs,r_=Math.atan2,i_=Math.cos,u_=Math.max,o_=Math.min,a_=Math.sin,f_=Math.sqrt,c_=1e-12,l_=Math.PI,s_=l_/2,h_=2*l_;function d_(t){return t>=1?s_:t<=-1?-s_:Math.asin(t)}function p_(t){return t.innerRadius}function b_(t){return t.outerRadius}function g_(t){return t.startAngle}function v_(t){return t.endAngle}function y_(t){return t&&t.padAngle}function __(t,n,e,r,i,u,o){var a=t-e,f=n-r,c=(o?u:-u)/f_(a*a+f*f),l=c*f,s=-c*a,h=t+l,d=n+s,p=e+l,b=r+s,g=(h+p)/2,v=(d+b)/2,y=p-h,_=b-d,m=y*y+_*_,x=i-u,w=h*b-p*d,M=(_<0?-1:1)*f_(u_(0,x*x*m-w*w)),k=(w*_-y*M)/m,N=(-w*y-_*M)/m,A=(w*_+y*M)/m,S=(-w*y+_*M)/m,E=k-g,T=N-v,C=A-g,P=S-v;return E*E+T*T>C*C+P*P&&(k=A,N=S),{cx:k,cy:N,x01:-l,y01:-s,x11:k*(i/x-1),y11:N*(i/x-1)}}var m_=function(){var t=p_,n=b_,e=n_(0),r=null,i=g_,u=v_,o=y_,a=null;function f(){var f,c,l,s=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-s_,p=u.apply(this,arguments)-s_,b=e_(p-d),g=p>d;if(a||(a=f=Uu()),h<s&&(c=h,h=s,s=c),h>c_)if(b>h_-c_)a.moveTo(h*i_(d),h*a_(d)),a.arc(0,0,h,d,p,!g),s>c_&&(a.moveTo(s*i_(p),s*a_(p)),a.arc(0,0,s,p,d,g));else{var v,y,_=d,m=p,x=d,w=p,M=b,k=b,N=o.apply(this,arguments)/2,A=N>c_&&(r?+r.apply(this,arguments):f_(s*s+h*h)),S=o_(e_(h-s)/2,+e.apply(this,arguments)),E=S,T=S;if(A>c_){var C=d_(A/s*a_(N)),P=d_(A/h*a_(N));(M-=2*C)>c_?(x+=C*=g?1:-1,w-=C):(M=0,x=w=(d+p)/2),(k-=2*P)>c_?(_+=P*=g?1:-1,m-=P):(k=0,_=m=(d+p)/2)}var z=h*i_(_),R=h*a_(_),O=s*i_(w),L=s*a_(w);if(S>c_){var q=h*i_(m),D=h*a_(m),U=s*i_(x),B=s*a_(x);if(b<l_){var Y=M>c_?function(t,n,e,r,i,u,o,a){var f=e-t,c=r-n,l=o-i,s=a-u,h=(l*(n-u)-s*(t-i))/(s*f-l*c);return[t+h*f,n+h*c]}(z,R,U,B,q,D,O,L):[O,L],j=z-Y[0],I=R-Y[1],F=q-Y[0],H=D-Y[1],G=1/a_(((l=(j*F+I*H)/(f_(j*j+I*I)*f_(F*F+H*H)))>1?0:l<-1?l_:Math.acos(l))/2),X=f_(Y[0]*Y[0]+Y[1]*Y[1]);E=o_(S,(s-X)/(G-1)),T=o_(S,(h-X)/(G+1))}}k>c_?T>c_?(v=__(U,B,z,R,h,T,g),y=__(q,D,O,L,h,T,g),a.moveTo(v.cx+v.x01,v.cy+v.y01),T<S?a.arc(v.cx,v.cy,T,r_(v.y01,v.x01),r_(y.y01,y.x01),!g):(a.arc(v.cx,v.cy,T,r_(v.y01,v.x01),r_(v.y11,v.x11),!g),a.arc(0,0,h,r_(v.cy+v.y11,v.cx+v.x11),r_(y.cy+y.y11,y.cx+y.x11),!g),a.arc(y.cx,y.cy,T,r_(y.y11,y.x11),r_(y.y01,y.x01),!g))):(a.moveTo(z,R),a.arc(0,0,h,_,m,!g)):a.moveTo(z,R),s>c_&&M>c_?E>c_?(v=__(O,L,q,D,s,-E,g),y=__(z,R,U,B,s,-E,g),a.lineTo(v.cx+v.x01,v.cy+v.y01),E<S?a.arc(v.cx,v.cy,E,r_(v.y01,v.x01),r_(y.y01,y.x01),!g):(a.arc(v.cx,v.cy,E,r_(v.y01,v.x01),r_(v.y11,v.x11),!g),a.arc(0,0,s,r_(v.cy+v.y11,v.cx+v.x11),r_(y.cy+y.y11,y.cx+y.x11),g),a.arc(y.cx,y.cy,E,r_(y.y11,y.x11),r_(y.y01,y.x01),!g))):a.arc(0,0,s,w,x,g):a.lineTo(O,L)}else a.moveTo(0,0);if(a.closePath(),f)return a=null,f+""||null}return f.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-l_/2;return[i_(r)*e,a_(r)*e]},f.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:n_(+n),f):t},f.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:n_(+t),f):n},f.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:n_(+t),f):e},f.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:n_(+t),f):r},f.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:n_(+t),f):i},f.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:n_(+t),f):u},f.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:n_(+t),f):o},f.context=function(t){return arguments.length?(a=null==t?null:t,f):a},f};function x_(t){this._context=t}x_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var w_=function(t){return new x_(t)};function M_(t){return t[0]}function k_(t){return t[1]}var N_=function(){var t=M_,n=k_,e=n_(!0),r=null,i=w_,u=null;function o(o){var a,f,c,l=o.length,s=!1;for(null==r&&(u=i(c=Uu())),a=0;a<=l;++a)!(a<l&&e(f=o[a],a,o))===s&&((s=!s)?u.lineStart():u.lineEnd()),s&&u.point(+t(f,a,o),+n(f,a,o));if(c)return u=null,c+""||null}return o.x=function(n){return arguments.length?(t="function"==typeof n?n:n_(+n),o):t},o.y=function(t){return arguments.length?(n="function"==typeof t?t:n_(+t),o):n},o.defined=function(t){return arguments.length?(e="function"==typeof t?t:n_(!!t),o):e},o.curve=function(t){return arguments.length?(i=t,null!=r&&(u=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=u=null:u=i(r=t),o):r},o},A_=function(){var t=M_,n=null,e=n_(0),r=k_,i=n_(!0),u=null,o=w_,a=null;function f(f){var c,l,s,h,d,p=f.length,b=!1,g=new Array(p),v=new Array(p);for(null==u&&(a=o(d=Uu())),c=0;c<=p;++c){if(!(c<p&&i(h=f[c],c,f))===b)if(b=!b)l=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),s=c-1;s>=l;--s)a.point(g[s],v[s]);a.lineEnd(),a.areaEnd()}b&&(g[c]=+t(h,c,f),v[c]=+e(h,c,f),a.point(n?+n(h,c,f):g[c],r?+r(h,c,f):v[c]))}if(d)return a=null,d+""||null}function c(){return N_().defined(i).curve(o).context(u)}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:n_(+e),n=null,f):t},f.x0=function(n){return arguments.length?(t="function"==typeof n?n:n_(+n),f):t},f.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:n_(+t),f):n},f.y=function(t){return arguments.length?(e="function"==typeof t?t:n_(+t),r=null,f):e},f.y0=function(t){return arguments.length?(e="function"==typeof t?t:n_(+t),f):e},f.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:n_(+t),f):r},f.lineX0=f.lineY0=function(){return c().x(t).y(e)},f.lineY1=function(){return c().x(t).y(r)},f.lineX1=function(){return c().x(n).y(e)},f.defined=function(t){return arguments.length?(i="function"==typeof t?t:n_(!!t),f):i},f.curve=function(t){return arguments.length?(o=t,null!=u&&(a=o(u)),f):o},f.context=function(t){return arguments.length?(null==t?u=a=null:a=o(u=t),f):u},f},S_=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},E_=function(t){return t},T_=function(){var t=E_,n=S_,e=null,r=n_(0),i=n_(h_),u=n_(0);function o(o){var a,f,c,l,s,h=o.length,d=0,p=new Array(h),b=new Array(h),g=+r.apply(this,arguments),v=Math.min(h_,Math.max(-h_,i.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/h,u.apply(this,arguments)),_=y*(v<0?-1:1);for(a=0;a<h;++a)(s=b[p[a]=a]=+t(o[a],a,o))>0&&(d+=s);for(null!=n?p.sort(function(t,e){return n(b[t],b[e])}):null!=e&&p.sort(function(t,n){return e(o[t],o[n])}),a=0,c=d?(v-h*_)/d:0;a<h;++a,g=l)f=p[a],l=g+((s=b[f])>0?s*c:0)+_,b[f]={data:o[f],index:a,value:s,startAngle:g,endAngle:l,padAngle:y};return b}return o.value=function(n){return arguments.length?(t="function"==typeof n?n:n_(+n),o):t},o.sortValues=function(t){return arguments.length?(n=t,e=null,o):n},o.sort=function(t){return arguments.length?(e=t,n=null,o):e},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:n_(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:n_(+t),o):i},o.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:n_(+t),o):u},o},C_=z_(w_);function P_(t){this._curve=t}function z_(t){function n(n){return new P_(t(n))}return n._curve=t,n}function R_(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(z_(t)):n()._curve},t}P_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var O_=function(){return R_(N_().curve(C_))},L_=function(){var t=A_().curve(C_),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,u=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return R_(e())},delete t.lineX0,t.lineEndAngle=function(){return R_(r())},delete t.lineX1,t.lineInnerRadius=function(){return R_(i())},delete t.lineY0,t.lineOuterRadius=function(){return R_(u())},delete t.lineY1,t.curve=function(t){return arguments.length?n(z_(t)):n()._curve},t},q_=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},D_=Array.prototype.slice;function U_(t){return t.source}function B_(t){return t.target}function Y_(t){var n=U_,e=B_,r=M_,i=k_,u=null;function o(){var o,a=D_.call(arguments),f=n.apply(this,a),c=e.apply(this,a);if(u||(u=o=Uu()),t(u,+r.apply(this,(a[0]=f,a)),+i.apply(this,a),+r.apply(this,(a[0]=c,a)),+i.apply(this,a)),o)return u=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(e=t,o):e},o.x=function(t){return arguments.length?(r="function"==typeof t?t:n_(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:n_(+t),o):i},o.context=function(t){return arguments.length?(u=null==t?null:t,o):u},o}function j_(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function I_(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function F_(t,n,e,r,i){var u=q_(n,e),o=q_(n,e=(e+i)/2),a=q_(r,e),f=q_(r,i);t.moveTo(u[0],u[1]),t.bezierCurveTo(o[0],o[1],a[0],a[1],f[0],f[1])}function H_(){return Y_(j_)}function G_(){return Y_(I_)}function X_(){var t=Y_(F_);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var V_={draw:function(t,n){var e=Math.sqrt(n/l_);t.moveTo(e,0),t.arc(0,0,e,0,h_)}},$_={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},W_=Math.sqrt(1/3),Z_=2*W_,Q_={draw:function(t,n){var e=Math.sqrt(n/Z_),r=e*W_;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},K_=Math.sin(l_/10)/Math.sin(7*l_/10),J_=Math.sin(h_/10)*K_,tm=-Math.cos(h_/10)*K_,nm={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=J_*e,i=tm*e;t.moveTo(0,-e),t.lineTo(r,i);for(var u=1;u<5;++u){var o=h_*u/5,a=Math.cos(o),f=Math.sin(o);t.lineTo(f*e,-a*e),t.lineTo(a*r-f*i,f*r+a*i)}t.closePath()}},em={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},rm=Math.sqrt(3),im={draw:function(t,n){var e=-Math.sqrt(n/(3*rm));t.moveTo(0,2*e),t.lineTo(-rm*e,-e),t.lineTo(rm*e,-e),t.closePath()}},um=Math.sqrt(3)/2,om=1/Math.sqrt(12),am=3*(om/2+1),fm={draw:function(t,n){var e=Math.sqrt(n/am),r=e/2,i=e*om,u=r,o=e*om+e,a=-u,f=o;t.moveTo(r,i),t.lineTo(u,o),t.lineTo(a,f),t.lineTo(-.5*r-um*i,um*r+-.5*i),t.lineTo(-.5*u-um*o,um*u+-.5*o),t.lineTo(-.5*a-um*f,um*a+-.5*f),t.lineTo(-.5*r+um*i,-.5*i-um*r),t.lineTo(-.5*u+um*o,-.5*o-um*u),t.lineTo(-.5*a+um*f,-.5*f-um*a),t.closePath()}},cm=[V_,$_,Q_,em,nm,im,fm],lm=function(){var t=n_(V_),n=n_(64),e=null;function r(){var r;if(e||(e=r=Uu()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:n_(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:n_(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},sm=function(){};function hm(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function dm(t){this._context=t}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hm(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var pm=function(t){return new dm(t)};function bm(t){this._context=t}bm.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:hm(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var gm=function(t){return new bm(t)};function vm(t){this._context=t}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:hm(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var ym=function(t){return new vm(t)};function _m(t,n){this._basis=new dm(t),this._beta=n}_m.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],u=n[0],o=t[e]-i,a=n[e]-u,f=-1;++f<=e;)r=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(i+r*o),this._beta*n[f]+(1-this._beta)*(u+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var mm=function t(n){function e(t){return 1===n?new dm(t):new _m(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function xm(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function wm(t,n){this._context=t,this._k=(1-n)/6}wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xm(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:xm(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Mm=function t(n){function e(t){return new wm(t,n)}return e.tension=function(n){return t(+n)},e}(0);function km(t,n){this._context=t,this._k=(1-n)/6}km.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:xm(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Nm=function t(n){function e(t){return new km(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Am(t,n){this._context=t,this._k=(1-n)/6}Am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xm(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Sm=function t(n){function e(t){return new Am(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Em(t,n,e){var r=t._x1,i=t._y1,u=t._x2,o=t._y2;if(t._l01_a>c_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>c_){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*c+t._x1*t._l23_2a-n*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,u,o,t._x2,t._y2)}function Tm(t,n){this._context=t,this._alpha=n}Tm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Em(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Cm=function t(n){function e(t){return n?new Tm(t,n):new wm(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Pm(t,n){this._context=t,this._alpha=n}Pm.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Em(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var zm=function t(n){function e(t){return n?new Pm(t,n):new km(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Rm(t,n){this._context=t,this._alpha=n}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Em(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Om=function t(n){function e(t){return n?new Rm(t,n):new Am(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Lm(t){this._context=t}Lm.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var qm=function(t){return new Lm(t)};function Dm(t){return t<0?-1:1}function Um(t,n,e){var r=t._x1-t._x0,i=n-t._x1,u=(t._y1-t._y0)/(r||i<0&&-0),o=(e-t._y1)/(i||r<0&&-0),a=(u*i+o*r)/(r+i);return(Dm(u)+Dm(o))*Math.min(Math.abs(u),Math.abs(o),.5*Math.abs(a))||0}function Bm(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Ym(t,n,e){var r=t._x0,i=t._y0,u=t._x1,o=t._y1,a=(u-r)/3;t._context.bezierCurveTo(r+a,i+a*n,u-a,o-a*e,u,o)}function jm(t){this._context=t}function Im(t){this._context=new Fm(t)}function Fm(t){this._context=t}function Hm(t){return new jm(t)}function Gm(t){return new Im(t)}function Xm(t){this._context=t}function Vm(t){var n,e,r=t.length-1,i=new Array(r),u=new Array(r),o=new Array(r);for(i[0]=0,u[0]=2,o[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,u[n]=4,o[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,u[r-1]=7,o[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/u[n-1],u[n]-=e,o[n]-=e*o[n-1];for(i[r-1]=o[r-1]/u[r-1],n=r-2;n>=0;--n)i[n]=(o[n]-i[n+1])/u[n];for(u[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)u[n]=2*t[n+1]-i[n+1];return[i,u]}jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ym(this,this._t0,Bm(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Ym(this,Bm(this,e=Um(this,t,n)),e);break;default:Ym(this,this._t0,e=Um(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Im.prototype=Object.create(jm.prototype)).point=function(t,n){jm.prototype.point.call(this,n,t)},Fm.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,u){this._context.bezierCurveTo(n,t,r,e,u,i)}},Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Vm(t),i=Vm(n),u=0,o=1;o<e;++u,++o)this._context.bezierCurveTo(r[0][u],i[0][u],r[1][u],i[1][u],t[o],n[o]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var $m=function(t){return new Xm(t)};function Wm(t,n){this._context=t,this._t=n}Wm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Zm=function(t){return new Wm(t,.5)};function Qm(t){return new Wm(t,0)}function Km(t){return new Wm(t,1)}var Jm=function(t,n){if((i=t.length)>1)for(var e,r,i,u=1,o=t[n[0]],a=o.length;u<i;++u)for(r=o,o=t[n[u]],e=0;e<a;++e)o[e][1]+=o[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},tx=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e};function nx(t,n){return t[n]}var ex=function(){var t=n_([]),n=tx,e=Jm,r=nx;function i(i){var u,o,a=t.apply(this,arguments),f=i.length,c=a.length,l=new Array(c);for(u=0;u<c;++u){for(var s,h=a[u],d=l[u]=new Array(f),p=0;p<f;++p)d[p]=s=[0,+r(i[p],h,p,i)],s.data=i[p];d.key=h}for(u=0,o=n(l);u<c;++u)l[o[u]].index=u;return e(l,o),l}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:n_(D_.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:n_(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?tx:"function"==typeof t?t:n_(D_.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?Jm:t,i):e},i},rx=function(t,n){if((r=t.length)>0){for(var e,r,i,u=0,o=t[0].length;u<o;++u){for(i=e=0;e<r;++e)i+=t[e][u][1]||0;if(i)for(e=0;e<r;++e)t[e][u][1]/=i}Jm(t,n)}},ix=function(t,n){if((a=t.length)>1)for(var e,r,i,u,o,a,f=0,c=t[n[0]].length;f<c;++f)for(u=o=0,e=0;e<a;++e)(i=(r=t[n[e]][f])[1]-r[0])>=0?(r[0]=u,r[1]=u+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=u},ux=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],u=i.length;r<u;++r){for(var o=0,a=0;o<e;++o)a+=t[o][r][1]||0;i[r][1]+=i[r][0]=-a/2}Jm(t,n)}},ox=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,u=0,o=1;o<r;++o){for(var a=0,f=0,c=0;a<i;++a){for(var l=t[n[a]],s=l[o][1]||0,h=(s-(l[o-1][1]||0))/2,d=0;d<a;++d){var p=t[n[d]];h+=(p[o][1]||0)-(p[o-1][1]||0)}f+=s,c+=h*s}e[o-1][1]+=e[o-1][0]=u,f&&(u-=c/f)}e[o-1][1]+=e[o-1][0]=u,Jm(t,n)}},ax=function(t){var n=t.map(fx);return tx(t).sort(function(t,e){return n[t]-n[e]})};function fx(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}var cx=function(t){return ax(t).reverse()},lx=function(t){var n,e,r=t.length,i=t.map(fx),u=tx(t).sort(function(t,n){return i[n]-i[t]}),o=0,a=0,f=[],c=[];for(n=0;n<r;++n)e=u[n],o<a?(o+=i[e],f.push(e)):(a+=i[e],c.push(e));return c.reverse().concat(f)},sx=function(t){return tx(t).reverse()},hx=function(t){return function(){return t}};function dx(t){return t[0]}function px(t){return t[1]}function bx(){this._=null}function gx(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function vx(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function yx(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function _x(t){for(;t.L;)t=t.L;return t}bx.prototype={constructor:bx,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=_x(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(vx(this,e),e=(t=e).U),e.C=!1,r.C=!0,yx(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(yx(this,e),e=(t=e).U),e.C=!1,r.C=!0,vx(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,u=t.L,o=t.R;if(e=u?o?_x(o):u:o,i?i.L===t?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=t.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=o,o.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,vx(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,yx(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,vx(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,yx(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,vx(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,yx(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var mx=bx;function xx(t,n,e,r){var i=[null,null],u=Fx.push(i)-1;return i.left=t,i.right=n,e&&Mx(i,t,n,e),r&&Mx(i,n,t,r),jx[t.index].halfedges.push(u),jx[n.index].halfedges.push(u),i}function wx(t,n,e){var r=[n,e];return r.left=t,r}function Mx(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function kx(t,n,e,r,i){var u,o=t[0],a=t[1],f=o[0],c=o[1],l=0,s=1,h=a[0]-f,d=a[1]-c;if(u=n-f,h||!(u>0)){if(u/=h,h<0){if(u<l)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>l&&(l=u)}if(u=r-f,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>l&&(l=u)}else if(h>0){if(u<l)return;u<s&&(s=u)}if(u=e-c,d||!(u>0)){if(u/=d,d<0){if(u<l)return;u<s&&(s=u)}else if(d>0){if(u>s)return;u>l&&(l=u)}if(u=i-c,d||!(u<0)){if(u/=d,d<0){if(u>s)return;u>l&&(l=u)}else if(d>0){if(u<l)return;u<s&&(s=u)}return!(l>0||s<1)||(l>0&&(t[0]=[f+l*h,c+l*d]),s<1&&(t[1]=[f+s*h,c+s*d]),!0)}}}}}function Nx(t,n,e,r,i){var u=t[1];if(u)return!0;var o,a,f=t[0],c=t.left,l=t.right,s=c[0],h=c[1],d=l[0],p=l[1],b=(s+d)/2,g=(h+p)/2;if(p===h){if(b<n||b>=r)return;if(s>d){if(f){if(f[1]>=i)return}else f=[b,e];u=[b,i]}else{if(f){if(f[1]<e)return}else f=[b,i];u=[b,e]}}else if(a=g-(o=(s-d)/(p-h))*b,o<-1||o>1)if(s>d){if(f){if(f[1]>=i)return}else f=[(e-a)/o,e];u=[(i-a)/o,i]}else{if(f){if(f[1]<e)return}else f=[(i-a)/o,i];u=[(e-a)/o,e]}else if(h<p){if(f){if(f[0]>=r)return}else f=[n,o*n+a];u=[r,o*r+a]}else{if(f){if(f[0]<n)return}else f=[r,o*r+a];u=[n,o*n+a]}return t[0]=f,t[1]=u,!0}function Ax(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Sx(t,n){return n[+(n.left!==t.site)]}function Ex(t,n){return n[+(n.left===t.site)]}var Tx,Cx=[];function Px(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,u=e.site;if(r!==u){var o=i[0],a=i[1],f=r[0]-o,c=r[1]-a,l=u[0]-o,s=u[1]-a,h=2*(f*s-c*l);if(!(h>=-Gx)){var d=f*f+c*c,p=l*l+s*s,b=(s*d-c*p)/h,g=(f*p-l*d)/h,v=Cx.pop()||new function(){gx(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=b+o,v.y=(v.cy=g+a)+Math.sqrt(b*b+g*g),t.circle=v;for(var y=null,_=Ix._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Ix.insert(y,v),y||(Tx=v)}}}}function zx(t){var n=t.circle;n&&(n.P||(Tx=n.N),Ix.remove(n),Cx.push(n),gx(n),t.circle=null)}var Rx=[];function Ox(t){var n=Rx.pop()||new function(){gx(this),this.edge=this.site=this.circle=null};return n.site=t,n}function Lx(t){zx(t),Yx.remove(t),Rx.push(t),gx(t)}function qx(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],u=t.P,o=t.N,a=[t];Lx(t);for(var f=u;f.circle&&Math.abs(e-f.circle.x)<Hx&&Math.abs(r-f.circle.cy)<Hx;)u=f.P,a.unshift(f),Lx(f),f=u;a.unshift(f),zx(f);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<Hx&&Math.abs(r-c.circle.cy)<Hx;)o=c.N,a.push(c),Lx(c),c=o;a.push(c),zx(c);var l,s=a.length;for(l=1;l<s;++l)c=a[l],f=a[l-1],Mx(c.edge,f.site,c.site,i);f=a[0],(c=a[s-1]).edge=xx(f.site,c.site,null,i),Px(f),Px(c)}function Dx(t){for(var n,e,r,i,u=t[0],o=t[1],a=Yx._;a;)if((r=Ux(a,o)-u)>Hx)a=a.L;else{if(!((i=u-Bx(a,o))>Hx)){r>-Hx?(n=a.P,e=a):i>-Hx?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}!function(t){jx[t.index]={site:t,halfedges:[]}}(t);var f=Ox(t);if(Yx.insert(n,f),n||e){if(n===e)return zx(n),e=Ox(n.site),Yx.insert(f,e),f.edge=e.edge=xx(n.site,f.site),Px(n),void Px(e);if(e){zx(n),zx(e);var c=n.site,l=c[0],s=c[1],h=t[0]-l,d=t[1]-s,p=e.site,b=p[0]-l,g=p[1]-s,v=2*(h*g-d*b),y=h*h+d*d,_=b*b+g*g,m=[(g*y-d*_)/v+l,(h*_-b*y)/v+s];Mx(e.edge,c,p,m),f.edge=xx(c,t,null,m),e.edge=xx(t,p,null,m),Px(n),Px(e)}else f.edge=xx(n.site,f.site)}}function Ux(t,n){var e=t.site,r=e[0],i=e[1],u=i-n;if(!u)return r;var o=t.P;if(!o)return-1/0;var a=(e=o.site)[0],f=e[1],c=f-n;if(!c)return a;var l=a-r,s=1/u-1/c,h=l/c;return s?(-h+Math.sqrt(h*h-2*s*(l*l/(-2*c)-f+c/2+i-u/2)))/s+r:(r+a)/2}function Bx(t,n){var e=t.N;if(e)return Ux(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Yx,jx,Ix,Fx,Hx=1e-6,Gx=1e-12;function Xx(t,n){return n[1]-t[1]||n[0]-t[0]}function Vx(t,n){var e,r,i,u=t.sort(Xx).pop();for(Fx=[],jx=new Array(t.length),Yx=new mx,Ix=new mx;;)if(i=Tx,u&&(!i||u[1]<i.y||u[1]===i.y&&u[0]<i.x))u[0]===e&&u[1]===r||(Dx(u),e=u[0],r=u[1]),u=t.pop();else{if(!i)break;qx(i.arc)}if(function(){for(var t,n,e,r,i=0,u=jx.length;i<u;++i)if((t=jx[i])&&(r=(n=t.halfedges).length)){var o=new Array(r),a=new Array(r);for(e=0;e<r;++e)o[e]=e,a[e]=Ax(t,Fx[n[e]]);for(o.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[o[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var o=+n[0][0],a=+n[0][1],f=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,u=Fx.length;u--;)Nx(i=Fx[u],t,n,e,r)&&kx(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Hx||Math.abs(i[0][1]-i[1][1])>Hx)||delete Fx[u]}(o,a,f,c),function(t,n,e,r){var i,u,o,a,f,c,l,s,h,d,p,b,g=jx.length,v=!0;for(i=0;i<g;++i)if(u=jx[i]){for(o=u.site,a=(f=u.halfedges).length;a--;)Fx[f[a]]||f.splice(a,1);for(a=0,c=f.length;a<c;)p=(d=Ex(u,Fx[f[a]]))[0],b=d[1],s=(l=Sx(u,Fx[f[++a%c]]))[0],h=l[1],(Math.abs(p-s)>Hx||Math.abs(b-h)>Hx)&&(f.splice(a,0,Fx.push(wx(o,d,Math.abs(p-t)<Hx&&r-b>Hx?[t,Math.abs(s-t)<Hx?h:r]:Math.abs(b-r)<Hx&&e-p>Hx?[Math.abs(h-r)<Hx?s:e,r]:Math.abs(p-e)<Hx&&b-n>Hx?[e,Math.abs(s-e)<Hx?h:n]:Math.abs(b-n)<Hx&&p-t>Hx?[Math.abs(h-n)<Hx?s:t,n]:null))-1),++c);c&&(v=!1)}if(v){var y,_,m,x=1/0;for(i=0,v=null;i<g;++i)(u=jx[i])&&(m=(y=(o=u.site)[0]-t)*y+(_=o[1]-n)*_)<x&&(x=m,v=u);if(v){var w=[t,n],M=[t,r],k=[e,r],N=[e,n];v.halfedges.push(Fx.push(wx(o=v.site,w,M))-1,Fx.push(wx(o,M,k))-1,Fx.push(wx(o,k,N))-1,Fx.push(wx(o,N,w))-1)}}for(i=0;i<g;++i)(u=jx[i])&&(u.halfedges.length||delete jx[i])}(o,a,f,c)}this.edges=Fx,this.cells=jx,Yx=Ix=Fx=jx=null}Vx.prototype={constructor:Vx,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return Sx(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(u=(i=e.halfedges).length)for(var i,u,o,a,f,c,l=e.site,s=-1,h=n[i[u-1]],d=h.left===l?h.right:h.left;++s<u;)o=d,d=(h=n[i[s]]).left===l?h.right:h.left,o&&d&&r<o.index&&r<d.index&&(f=o,c=d,((a=l)[0]-c[0])*(f[1]-a[1])-(a[0]-f[0])*(c[1]-a[1])<0)&&t.push([l.data,o.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,u=this,o=u._found||0,a=u.cells.length;!(i=u.cells[o]);)if(++o>=a)return null;var f=t-i.site[0],c=n-i.site[1],l=f*f+c*c;do{i=u.cells[r=o],o=null,i.halfedges.forEach(function(e){var r=u.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var f=t-a[0],c=n-a[1],s=f*f+c*c;s<l&&(l=s,o=a.index)}})}while(null!==o);return u._found=r,null==e||l<=e*e?i.site:null}};var $x=function(){var t=dx,n=px,e=null;function r(r){return new Vx(r.map(function(e,i){var u=[Math.round(t(e,i,r)/Hx)*Hx,Math.round(n(e,i,r)/Hx)*Hx];return u.index=i,u.data=e,u}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:hx(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:hx(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r},Wx=function(t){return function(){return t}};function Zx(t,n,e){this.k=t,this.x=n,this.y=e}Zx.prototype={constructor:Zx,scale:function(t){return 1===t?this:new Zx(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Zx(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qx=new Zx(1,0,0);function Kx(t){return t.__zoom||Qx}function Jx(){Vt.stopImmediatePropagation()}Kx.prototype=Zx.prototype;var tw=function(){Vt.preventDefault(),Vt.stopImmediatePropagation()};function nw(){return!Vt.button}function ew(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function rw(){return this.__zoom||Qx}function iw(){return-Vt.deltaY*(Vt.deltaMode?120:1)/500}function uw(){return"ontouchstart"in this}function ow(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],u=t.invertY(n[0][1])-e[0][1],o=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>u?(u+o)/2:Math.min(0,u)||Math.max(0,o))}var aw=function(){var t,n,e=nw,r=ew,i=ow,u=iw,o=uw,a=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],c=250,l=or,s=[],h=ht("start","zoom","end"),d=500,p=150,b=0;function g(t){t.property("__zoom",rw).on("wheel.zoom",M).on("mousedown.zoom",k).on("dblclick.zoom",N).filter(o).on("touchstart.zoom",A).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new Zx(n,t.x,t.y)}function y(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Zx(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,n,e){t.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=x(this,t),u=r.apply(this,t),o=e||_(u),a=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=this.__zoom,c="function"==typeof n?n.apply(this,t):n,s=l(f.invert(o).concat(a/f.k),c.invert(o).concat(a/c.k));return function(t){if(1===t)t=c;else{var n=s(t),e=a/n[2];t=new Zx(e,o[0]-n[0]*e,o[1]-n[1]*e)}i.zoom(null,t)}})}function x(t,n){for(var e,r=0,i=s.length;r<i;++r)if((e=s[r]).that===t)return e;return new w(t,n)}function w(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=r.apply(t,n)}function M(){if(e.apply(this,arguments)){var t=x(this,arguments),n=this.__zoom,r=Math.max(a[0],Math.min(a[1],n.k*Math.pow(2,u.apply(this,arguments)))),o=hn(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[o,n.invert(o)],Kr(this),t.start()}tw(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},p),t.zoom("mouse",i(y(v(n,r),t.mouse[0],t.mouse[1]),t.extent,f))}}function k(){if(!n&&e.apply(this,arguments)){var t=x(this,arguments),r=un(Vt.view).on("mousemove.zoom",function(){if(tw(),!t.moved){var n=Vt.clientX-o,e=Vt.clientY-a;t.moved=n*n+e*e>b}t.zoom("mouse",i(y(t.that.__zoom,t.mouse[0]=hn(t.that),t.mouse[1]),t.extent,f))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),_n(Vt.view,t.moved),tw(),t.end()},!0),u=hn(this),o=Vt.clientX,a=Vt.clientY;yn(Vt.view),Jx(),t.mouse=[u,this.__zoom.invert(u)],Kr(this),t.start()}}function N(){if(e.apply(this,arguments)){var t=this.__zoom,n=hn(this),u=t.invert(n),o=t.k*(Vt.shiftKey?.5:2),a=i(y(v(t,o),n,u),r.apply(this,arguments),f);tw(),c>0?un(this).transition().duration(c).call(m,a,n):un(this).call(g.transform,a)}}function A(){if(e.apply(this,arguments)){var n,r,i,u,o=x(this,arguments),a=Vt.changedTouches,f=a.length;for(Jx(),r=0;r<f;++r)i=a[r],u=[u=pn(this,a,i.identifier),this.__zoom.invert(u),i.identifier],o.touch0?o.touch1||(o.touch1=u):(o.touch0=u,n=!0);if(t&&(t=clearTimeout(t),!o.touch1))return o.end(),void((u=un(this).on("dblclick.zoom"))&&u.apply(this,arguments));n&&(t=setTimeout(function(){t=null},d),Kr(this),o.start())}}function S(){var n,e,r,u,o=x(this,arguments),a=Vt.changedTouches,c=a.length;for(tw(),t&&(t=clearTimeout(t)),n=0;n<c;++n)e=a[n],r=pn(this,a,e.identifier),o.touch0&&o.touch0[2]===e.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===e.identifier&&(o.touch1[0]=r);if(e=o.that.__zoom,o.touch1){var l=o.touch0[0],s=o.touch0[1],h=o.touch1[0],d=o.touch1[1],p=(p=h[0]-l[0])*p+(p=h[1]-l[1])*p,b=(b=d[0]-s[0])*b+(b=d[1]-s[1])*b;e=v(e,Math.sqrt(p/b)),r=[(l[0]+h[0])/2,(l[1]+h[1])/2],u=[(s[0]+d[0])/2,(s[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],u=o.touch0[1]}o.zoom("touch",i(y(e,r,u),o.extent,f))}function E(){var t,e,r=x(this,arguments),i=Vt.changedTouches,u=i.length;for(Jx(),n&&clearTimeout(n),n=setTimeout(function(){n=null},d),t=0;t<u;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return g.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",rw),t!==e?m(t,n):e.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},g.scaleBy=function(t,n){g.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},g.scaleTo=function(t,n){g.transform(t,function(){var t=r.apply(this,arguments),e=this.__zoom,u=_(t),o=e.invert(u),a="function"==typeof n?n.apply(this,arguments):n;return i(y(v(e,a),u,o),t,f)})},g.translateBy=function(t,n,e){g.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),f)})},g.translateTo=function(t,n,e){g.transform(t,function(){var t=r.apply(this,arguments),u=this.__zoom,o=_(t);return i(Qx.translate(o[0],o[1]).scale(u.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,f)})},w.prototype={start:function(){return 1==++this.active&&(this.index=s.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(s.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Kt(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(g,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(u="function"==typeof t?t:Wx(+t),g):u},g.filter=function(t){return arguments.length?(e="function"==typeof t?t:Wx(!!t),g):e},g.touchable=function(t){return arguments.length?(o="function"==typeof t?t:Wx(!!t),g):o},g.extent=function(t){return arguments.length?(r="function"==typeof t?t:Wx([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],g):[a[0],a[1]]},g.translateExtent=function(t){return arguments.length?(f[0][0]=+t[0][0],f[1][0]=+t[1][0],f[0][1]=+t[0][1],f[1][1]=+t[1][1],g):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(c=+t,g):c},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(b=(t=+t)*t,g):Math.sqrt(b)},g};e.d(n,"version",function(){return"5.1.0"}),e.d(n,"bisect",function(){return f}),e.d(n,"bisectRight",function(){return o}),e.d(n,"bisectLeft",function(){return a}),e.d(n,"ascending",function(){return r}),e.d(n,"bisector",function(){return i}),e.d(n,"cross",function(){return s}),e.d(n,"descending",function(){return h}),e.d(n,"deviation",function(){return b}),e.d(n,"extent",function(){return g}),e.d(n,"histogram",function(){return C}),e.d(n,"thresholdFreedmanDiaconis",function(){return z}),e.d(n,"thresholdScott",function(){return R}),e.d(n,"thresholdSturges",function(){return T}),e.d(n,"max",function(){return O}),e.d(n,"mean",function(){return L}),e.d(n,"median",function(){return q}),e.d(n,"merge",function(){return D}),e.d(n,"min",function(){return U}),e.d(n,"pairs",function(){return c}),e.d(n,"permute",function(){return B}),e.d(n,"quantile",function(){return P}),e.d(n,"range",function(){return w}),e.d(n,"scan",function(){return Y}),e.d(n,"shuffle",function(){return j}),e.d(n,"sum",function(){return I}),e.d(n,"ticks",function(){return A}),e.d(n,"tickIncrement",function(){return S}),e.d(n,"tickStep",function(){return E}),e.d(n,"transpose",function(){return F}),e.d(n,"variance",function(){return p}),e.d(n,"zip",function(){return G}),e.d(n,"axisTop",function(){return rt}),e.d(n,"axisRight",function(){return it}),e.d(n,"axisBottom",function(){return ut}),e.d(n,"axisLeft",function(){return ot}),e.d(n,"brush",function(){return wu}),e.d(n,"brushX",function(){return mu}),e.d(n,"brushY",function(){return xu}),e.d(n,"brushSelection",function(){return _u}),e.d(n,"chord",function(){return Cu}),e.d(n,"ribbon",function(){return Hu}),e.d(n,"nest",function(){return $u}),e.d(n,"set",function(){return eo}),e.d(n,"map",function(){return Vu}),e.d(n,"keys",function(){return ro}),e.d(n,"values",function(){return io}),e.d(n,"entries",function(){return uo}),e.d(n,"color",function(){return In}),e.d(n,"rgb",function(){return Xn}),e.d(n,"hsl",function(){return Wn}),e.d(n,"lab",function(){return ce}),e.d(n,"hcl",function(){return ve}),e.d(n,"lch",function(){return ge}),e.d(n,"gray",function(){return fe}),e.d(n,"cubehelix",function(){return Ne}),e.d(n,"contours",function(){return go}),e.d(n,"contourDensity",function(){return xo}),e.d(n,"dispatch",function(){return ht}),e.d(n,"drag",function(){return An}),e.d(n,"dragDisable",function(){return yn}),e.d(n,"dragEnable",function(){return _n}),e.d(n,"dsvFormat",function(){return Eo}),e.d(n,"csvParse",function(){return Co}),e.d(n,"csvParseRows",function(){return Po}),e.d(n,"csvFormat",function(){return zo}),e.d(n,"csvFormatRows",function(){return Ro}),e.d(n,"tsvParse",function(){return Lo}),e.d(n,"tsvParseRows",function(){return qo}),e.d(n,"tsvFormat",function(){return Do}),e.d(n,"tsvFormatRows",function(){return Uo}),e.d(n,"easeLinear",function(){return ai}),e.d(n,"easeQuad",function(){return li}),e.d(n,"easeQuadIn",function(){return fi}),e.d(n,"easeQuadOut",function(){return ci}),e.d(n,"easeQuadInOut",function(){return li}),e.d(n,"easeCubic",function(){return di}),e.d(n,"easeCubicIn",function(){return si}),e.d(n,"easeCubicOut",function(){return hi}),e.d(n,"easeCubicInOut",function(){return di}),e.d(n,"easePoly",function(){return gi}),e.d(n,"easePolyIn",function(){return pi}),e.d(n,"easePolyOut",function(){return bi}),e.d(n,"easePolyInOut",function(){return gi}),e.d(n,"easeSin",function(){return xi}),e.d(n,"easeSinIn",function(){return _i}),e.d(n,"easeSinOut",function(){return mi}),e.d(n,"easeSinInOut",function(){return xi}),e.d(n,"easeExp",function(){return ki}),e.d(n,"easeExpIn",function(){return wi}),e.d(n,"easeExpOut",function(){return Mi}),e.d(n,"easeExpInOut",function(){return ki}),e.d(n,"easeCircle",function(){return Si}),e.d(n,"easeCircleIn",function(){return Ni}),e.d(n,"easeCircleOut",function(){return Ai}),e.d(n,"easeCircleInOut",function(){return Si}),e.d(n,"easeBounce",function(){return Bi}),e.d(n,"easeBounceIn",function(){return Ui}),e.d(n,"easeBounceOut",function(){return Bi}),e.d(n,"easeBounceInOut",function(){return Yi}),e.d(n,"easeBack",function(){return Fi}),e.d(n,"easeBackIn",function(){return ji}),e.d(n,"easeBackOut",function(){return Ii}),e.d(n,"easeBackInOut",function(){return Fi}),e.d(n,"easeElastic",function(){return Xi}),e.d(n,"easeElasticIn",function(){return Gi}),e.d(n,"easeElasticOut",function(){return Xi}),e.d(n,"easeElasticInOut",function(){return Vi}),e.d(n,"blob",function(){return Yo}),e.d(n,"buffer",function(){return Io}),e.d(n,"dsv",function(){return Xo}),e.d(n,"csv",function(){return Vo}),e.d(n,"tsv",function(){return $o}),e.d(n,"image",function(){return Wo}),e.d(n,"json",function(){return Qo}),e.d(n,"text",function(){return Ho}),e.d(n,"xml",function(){return Jo}),e.d(n,"html",function(){return ta}),e.d(n,"svg",function(){return na}),e.d(n,"forceCenter",function(){return ea}),e.d(n,"forceCollide",function(){return ba}),e.d(n,"forceLink",function(){return ya}),e.d(n,"forceManyBody",function(){return Na}),e.d(n,"forceRadial",function(){return Aa}),e.d(n,"forceSimulation",function(){return ka}),e.d(n,"forceX",function(){return Sa}),e.d(n,"forceY",function(){return Ea}),e.d(n,"formatDefaultLocale",function(){return Ia}),e.d(n,"format",function(){return Da}),e.d(n,"formatPrefix",function(){return Ua}),e.d(n,"formatLocale",function(){return ja}),e.d(n,"formatSpecifier",function(){return Oa}),e.d(n,"precisionFixed",function(){return Fa}),e.d(n,"precisionPrefix",function(){return Ha}),e.d(n,"precisionRound",function(){return Ga}),e.d(n,"geoArea",function(){return Uf}),e.d(n,"geoBounds",function(){return Cc}),e.d(n,"geoCentroid",function(){return Ic}),e.d(n,"geoCircle",function(){return Jc}),e.d(n,"geoClipAntimeridian",function(){return ll}),e.d(n,"geoClipCircle",function(){return sl}),e.d(n,"geoClipExtent",function(){return _l}),e.d(n,"geoClipRectangle",function(){return bl}),e.d(n,"geoContains",function(){return Dl}),e.d(n,"geoDistance",function(){return El}),e.d(n,"geoGraticule",function(){return Yl}),e.d(n,"geoGraticule10",function(){return jl}),e.d(n,"geoInterpolate",function(){return Xl}),e.d(n,"geoLength",function(){return Nl}),e.d(n,"geoPath",function(){return Hs}),e.d(n,"geoAlbers",function(){return ch}),e.d(n,"geoAlbersUsa",function(){return lh}),e.d(n,"geoAzimuthalEqualArea",function(){return ph}),e.d(n,"geoAzimuthalEqualAreaRaw",function(){return dh}),e.d(n,"geoAzimuthalEquidistant",function(){return gh}),e.d(n,"geoAzimuthalEquidistantRaw",function(){return bh}),e.d(n,"geoConicConformal",function(){return wh}),e.d(n,"geoConicConformalRaw",function(){return xh}),e.d(n,"geoConicEqualArea",function(){return fh}),e.d(n,"geoConicEqualAreaRaw",function(){return ah}),e.d(n,"geoConicEquidistant",function(){return Ah}),e.d(n,"geoConicEquidistantRaw",function(){return Nh}),e.d(n,"geoEquirectangular",function(){return kh}),e.d(n,"geoEquirectangularRaw",function(){return Mh}),e.d(n,"geoGnomonic",function(){return Eh}),e.d(n,"geoGnomonicRaw",function(){return Sh}),e.d(n,"geoIdentity",function(){return Ch}),e.d(n,"geoProjection",function(){return ih}),e.d(n,"geoProjectionMutator",function(){return uh}),e.d(n,"geoMercator",function(){return yh}),e.d(n,"geoMercatorRaw",function(){return vh}),e.d(n,"geoNaturalEarth1",function(){return zh}),e.d(n,"geoNaturalEarth1Raw",function(){return Ph}),e.d(n,"geoOrthographic",function(){return Oh}),e.d(n,"geoOrthographicRaw",function(){return Rh}),e.d(n,"geoStereographic",function(){return qh}),e.d(n,"geoStereographicRaw",function(){return Lh}),e.d(n,"geoTransverseMercator",function(){return Uh}),e.d(n,"geoTransverseMercatorRaw",function(){return Dh}),e.d(n,"geoRotation",function(){return Zc}),e.d(n,"geoStream",function(){return Cf}),e.d(n,"geoTransform",function(){return Gs}),e.d(n,"cluster",function(){return Ih}),e.d(n,"hierarchy",function(){return Hh}),e.d(n,"pack",function(){return pd}),e.d(n,"packSiblings",function(){return cd}),e.d(n,"packEnclose",function(){return Zh}),e.d(n,"partition",function(){return md}),e.d(n,"stratify",function(){return Ad}),e.d(n,"tree",function(){return Rd}),e.d(n,"treemap",function(){return Ud}),e.d(n,"treemapBinary",function(){return Bd}),e.d(n,"treemapDice",function(){return _d}),e.d(n,"treemapSlice",function(){return Od}),e.d(n,"treemapSliceDice",function(){return Yd}),e.d(n,"treemapSquarify",function(){return Dd}),e.d(n,"treemapResquarify",function(){return jd}),e.d(n,"interpolate",function(){return Ze}),e.d(n,"interpolateArray",function(){return Be}),e.d(n,"interpolateBasis",function(){return Ee}),e.d(n,"interpolateBasisClosed",function(){return Te}),e.d(n,"interpolateDate",function(){return Ye}),e.d(n,"interpolateNumber",function(){return je}),e.d(n,"interpolateObject",function(){return Ie}),e.d(n,"interpolateRound",function(){return Qe}),e.d(n,"interpolateString",function(){return We}),e.d(n,"interpolateTransformCss",function(){return er}),e.d(n,"interpolateTransformSvg",function(){return rr}),e.d(n,"interpolateZoom",function(){return or}),e.d(n,"interpolateRgb",function(){return Le}),e.d(n,"interpolateRgbBasis",function(){return De}),e.d(n,"interpolateRgbBasisClosed",function(){return Ue}),e.d(n,"interpolateHsl",function(){return fr}),e.d(n,"interpolateHslLong",function(){return cr}),e.d(n,"interpolateLab",function(){return lr}),e.d(n,"interpolateHcl",function(){return hr}),e.d(n,"interpolateHclLong",function(){return dr}),e.d(n,"interpolateCubehelix",function(){return vr}),e.d(n,"interpolateCubehelixLong",function(){return yr}),e.d(n,"quantize",function(){return _r}),e.d(n,"path",function(){return Uu}),e.d(n,"polygonArea",function(){return Id}),e.d(n,"polygonCentroid",function(){return Fd}),e.d(n,"polygonHull",function(){return Vd}),e.d(n,"polygonContains",function(){return $d}),e.d(n,"polygonLength",function(){return Wd}),e.d(n,"quadtree",function(){return ca}),e.d(n,"randomUniform",function(){return Qd}),e.d(n,"randomNormal",function(){return Kd}),e.d(n,"randomLogNormal",function(){return Jd}),e.d(n,"randomBates",function(){return np}),e.d(n,"randomIrwinHall",function(){return tp}),e.d(n,"randomExponential",function(){return ep}),e.d(n,"scaleBand",function(){return fp}),e.d(n,"scalePoint",function(){return cp}),e.d(n,"scaleIdentity",function(){return xp}),e.d(n,"scaleLinear",function(){return mp}),e.d(n,"scaleLog",function(){return Tp}),e.d(n,"scaleOrdinal",function(){return ap}),e.d(n,"scaleImplicit",function(){return op}),e.d(n,"scalePow",function(){return Pp}),e.d(n,"scaleSqrt",function(){return zp}),e.d(n,"scaleQuantile",function(){return Rp}),e.d(n,"scaleQuantize",function(){return Op}),e.d(n,"scaleThreshold",function(){return Lp}),e.d(n,"scaleTime",function(){return Pv}),e.d(n,"scaleUtc",function(){return zv}),e.d(n,"scaleSequential",function(){return Rv}),e.d(n,"schemeCategory10",function(){return Lv}),e.d(n,"schemeAccent",function(){return qv}),e.d(n,"schemeDark2",function(){return Dv}),e.d(n,"schemePaired",function(){return Uv}),e.d(n,"schemePastel1",function(){return Bv}),e.d(n,"schemePastel2",function(){return Yv}),e.d(n,"schemeSet1",function(){return jv}),e.d(n,"schemeSet2",function(){return Iv}),e.d(n,"schemeSet3",function(){return Fv}),e.d(n,"interpolateBrBG",function(){return Xv}),e.d(n,"schemeBrBG",function(){return Gv}),e.d(n,"interpolatePRGn",function(){return $v}),e.d(n,"schemePRGn",function(){return Vv}),e.d(n,"interpolatePiYG",function(){return Zv}),e.d(n,"schemePiYG",function(){return Wv}),e.d(n,"interpolatePuOr",function(){return Kv}),e.d(n,"schemePuOr",function(){return Qv}),e.d(n,"interpolateRdBu",function(){return ty}),e.d(n,"schemeRdBu",function(){return Jv}),e.d(n,"interpolateRdGy",function(){return ey}),e.d(n,"schemeRdGy",function(){return ny}),e.d(n,"interpolateRdYlBu",function(){return iy}),e.d(n,"schemeRdYlBu",function(){return ry}),e.d(n,"interpolateRdYlGn",function(){return oy}),e.d(n,"schemeRdYlGn",function(){return uy}),e.d(n,"interpolateSpectral",function(){return fy}),e.d(n,"schemeSpectral",function(){return ay}),e.d(n,"interpolateBuGn",function(){return ly}),e.d(n,"schemeBuGn",function(){return cy}),e.d(n,"interpolateBuPu",function(){return hy}),e.d(n,"schemeBuPu",function(){return sy}),e.d(n,"interpolateGnBu",function(){return py}),e.d(n,"schemeGnBu",function(){return dy}),e.d(n,"interpolateOrRd",function(){return gy}),e.d(n,"schemeOrRd",function(){return by}),e.d(n,"interpolatePuBuGn",function(){return yy}),e.d(n,"schemePuBuGn",function(){return vy}),e.d(n,"interpolatePuBu",function(){return my}),e.d(n,"schemePuBu",function(){return _y}),e.d(n,"interpolatePuRd",function(){return wy}),e.d(n,"schemePuRd",function(){return xy}),e.d(n,"interpolateRdPu",function(){return ky}),e.d(n,"schemeRdPu",function(){return My}),e.d(n,"interpolateYlGnBu",function(){return Ay}),e.d(n,"schemeYlGnBu",function(){return Ny}),e.d(n,"interpolateYlGn",function(){return Ey}),e.d(n,"schemeYlGn",function(){return Sy}),e.d(n,"interpolateYlOrBr",function(){return Cy}),e.d(n,"schemeYlOrBr",function(){return Ty}),e.d(n,"interpolateYlOrRd",function(){return zy}),e.d(n,"schemeYlOrRd",function(){return Py}),e.d(n,"interpolateBlues",function(){return Oy}),e.d(n,"schemeBlues",function(){return Ry}),e.d(n,"interpolateGreens",function(){return qy}),e.d(n,"schemeGreens",function(){return Ly}),e.d(n,"interpolateGreys",function(){return Uy}),e.d(n,"schemeGreys",function(){return Dy}),e.d(n,"interpolatePurples",function(){return Yy}),e.d(n,"schemePurples",function(){return By}),e.d(n,"interpolateReds",function(){return Iy}),e.d(n,"schemeReds",function(){return jy}),e.d(n,"interpolateOranges",function(){return Hy}),e.d(n,"schemeOranges",function(){return Fy}),e.d(n,"interpolateCubehelixDefault",function(){return Gy}),e.d(n,"interpolateRainbow",function(){return Wy}),e.d(n,"interpolateWarm",function(){return Xy}),e.d(n,"interpolateCool",function(){return Vy}),e.d(n,"interpolateViridis",function(){return Qy}),e.d(n,"interpolateMagma",function(){return Ky}),e.d(n,"interpolateInferno",function(){return Jy}),e.d(n,"interpolatePlasma",function(){return t_}),e.d(n,"create",function(){return on}),e.d(n,"creator",function(){return gt}),e.d(n,"local",function(){return fn}),e.d(n,"matcher",function(){return kt}),e.d(n,"mouse",function(){return hn}),e.d(n,"namespace",function(){return bt}),e.d(n,"namespaces",function(){return pt}),e.d(n,"clientPoint",function(){return sn}),e.d(n,"select",function(){return un}),e.d(n,"selectAll",function(){return dn}),e.d(n,"selection",function(){return rn}),e.d(n,"selector",function(){return yt}),e.d(n,"selectorAll",function(){return mt}),e.d(n,"style",function(){return zt}),e.d(n,"touch",function(){return pn}),e.d(n,"touches",function(){return bn}),e.d(n,"window",function(){return Pt}),e.d(n,"event",function(){return Vt}),e.d(n,"customEvent",function(){return Kt}),e.d(n,"arc",function(){return m_}),e.d(n,"area",function(){return A_}),e.d(n,"line",function(){return N_}),e.d(n,"pie",function(){return T_}),e.d(n,"areaRadial",function(){return L_}),e.d(n,"radialArea",function(){return L_}),e.d(n,"lineRadial",function(){return O_}),e.d(n,"radialLine",function(){return O_}),e.d(n,"pointRadial",function(){return q_}),e.d(n,"linkHorizontal",function(){return H_}),e.d(n,"linkVertical",function(){return G_}),e.d(n,"linkRadial",function(){return X_}),e.d(n,"symbol",function(){return lm}),e.d(n,"symbols",function(){return cm}),e.d(n,"symbolCircle",function(){return V_}),e.d(n,"symbolCross",function(){return $_}),e.d(n,"symbolDiamond",function(){return Q_}),e.d(n,"symbolSquare",function(){return em}),e.d(n,"symbolStar",function(){return nm}),e.d(n,"symbolTriangle",function(){return im}),e.d(n,"symbolWye",function(){return fm}),e.d(n,"curveBasisClosed",function(){return gm}),e.d(n,"curveBasisOpen",function(){return ym}),e.d(n,"curveBasis",function(){return pm}),e.d(n,"curveBundle",function(){return mm}),e.d(n,"curveCardinalClosed",function(){return Nm}),e.d(n,"curveCardinalOpen",function(){return Sm}),e.d(n,"curveCardinal",function(){return Mm}),e.d(n,"curveCatmullRomClosed",function(){return zm}),e.d(n,"curveCatmullRomOpen",function(){return Om}),e.d(n,"curveCatmullRom",function(){return Cm}),e.d(n,"curveLinearClosed",function(){return qm}),e.d(n,"curveLinear",function(){return w_}),e.d(n,"curveMonotoneX",function(){return Hm}),e.d(n,"curveMonotoneY",function(){return Gm}),e.d(n,"curveNatural",function(){return $m}),e.d(n,"curveStep",function(){return Zm}),e.d(n,"curveStepAfter",function(){return Km}),e.d(n,"curveStepBefore",function(){return Qm}),e.d(n,"stack",function(){return ex}),e.d(n,"stackOffsetExpand",function(){return rx}),e.d(n,"stackOffsetDiverging",function(){return ix}),e.d(n,"stackOffsetNone",function(){return Jm}),e.d(n,"stackOffsetSilhouette",function(){return ux}),e.d(n,"stackOffsetWiggle",function(){return ox}),e.d(n,"stackOrderAscending",function(){return ax}),e.d(n,"stackOrderDescending",function(){return cx}),e.d(n,"stackOrderInsideOut",function(){return lx}),e.d(n,"stackOrderNone",function(){return tx}),e.d(n,"stackOrderReverse",function(){return sx}),e.d(n,"timeInterval",function(){return Up}),e.d(n,"timeMillisecond",function(){return Yp}),e.d(n,"timeMilliseconds",function(){return jp}),e.d(n,"utcMillisecond",function(){return Yp}),e.d(n,"utcMilliseconds",function(){return jp}),e.d(n,"timeSecond",function(){return Gp}),e.d(n,"timeSeconds",function(){return Xp}),e.d(n,"utcSecond",function(){return Gp}),e.d(n,"utcSeconds",function(){return Xp}),e.d(n,"timeMinute",function(){return $p}),e.d(n,"timeMinutes",function(){return Wp}),e.d(n,"timeHour",function(){return Qp}),e.d(n,"timeHours",function(){return Kp}),e.d(n,"timeDay",function(){return tb}),e.d(n,"timeDays",function(){return nb}),e.d(n,"timeWeek",function(){return rb}),e.d(n,"timeWeeks",function(){return lb}),e.d(n,"timeSunday",function(){return rb}),e.d(n,"timeSundays",function(){return lb}),e.d(n,"timeMonday",function(){return ib}),e.d(n,"timeMondays",function(){return sb}),e.d(n,"timeTuesday",function(){return ub}),e.d(n,"timeTuesdays",function(){return hb}),e.d(n,"timeWednesday",function(){return ob}),e.d(n,"timeWednesdays",function(){return db}),e.d(n,"timeThursday",function(){return ab}),e.d(n,"timeThursdays",function(){return pb}),e.d(n,"timeFriday",function(){return fb}),e.d(n,"timeFridays",function(){return bb}),e.d(n,"timeSaturday",function(){return cb}),e.d(n,"timeSaturdays",function(){return gb}),e.d(n,"timeMonth",function(){return yb}),e.d(n,"timeMonths",function(){return _b}),e.d(n,"timeYear",function(){return xb}),e.d(n,"timeYears",function(){return wb}),e.d(n,"utcMinute",function(){return kb}),e.d(n,"utcMinutes",function(){return Nb}),e.d(n,"utcHour",function(){return Sb}),e.d(n,"utcHours",function(){return Eb}),e.d(n,"utcDay",function(){return Cb}),e.d(n,"utcDays",function(){return Pb}),e.d(n,"utcWeek",function(){return Rb}),e.d(n,"utcWeeks",function(){return Yb}),e.d(n,"utcSunday",function(){return Rb}),e.d(n,"utcSundays",function(){return Yb}),e.d(n,"utcMonday",function(){return Ob}),e.d(n,"utcMondays",function(){return jb}),e.d(n,"utcTuesday",function(){return Lb}),e.d(n,"utcTuesdays",function(){return Ib}),e.d(n,"utcWednesday",function(){return qb}),e.d(n,"utcWednesdays",function(){return Fb}),e.d(n,"utcThursday",function(){return Db}),e.d(n,"utcThursdays",function(){return Hb}),e.d(n,"utcFriday",function(){return Ub}),e.d(n,"utcFridays",function(){return Gb}),e.d(n,"utcSaturday",function(){return Bb}),e.d(n,"utcSaturdays",function(){return Xb}),e.d(n,"utcMonth",function(){return $b}),e.d(n,"utcMonths",function(){return Wb}),e.d(n,"utcYear",function(){return Qb}),e.d(n,"utcYears",function(){return Kb}),e.d(n,"timeFormatDefaultLocale",function(){return yv}),e.d(n,"timeFormat",function(){return ig}),e.d(n,"timeParse",function(){return ug}),e.d(n,"utcFormat",function(){return og}),e.d(n,"utcParse",function(){return ag}),e.d(n,"timeFormatLocale",function(){return eg}),e.d(n,"isoFormat",function(){return _v}),e.d(n,"isoParse",function(){return mv}),e.d(n,"now",function(){return Tr}),e.d(n,"timer",function(){return zr}),e.d(n,"timerFlush",function(){return Rr}),e.d(n,"timeout",function(){return Dr}),e.d(n,"interval",function(){return Ur}),e.d(n,"transition",function(){return ii}),e.d(n,"active",function(){return Qi}),e.d(n,"interrupt",function(){return Kr}),e.d(n,"voronoi",function(){return $x}),e.d(n,"zoom",function(){return aw}),e.d(n,"zoomTransform",function(){return Kx}),e.d(n,"zoomIdentity",function(){return Qx})},function(t,n,e){"use strict";var r,i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(2),o=(r=u)&&r.__esModule?r:{default:r};!function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);n.default=t}(e(0));!function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)})(n,u.Component),i(n,[{key:"render",value:function(){return o.default.createElement("div",{ref:this.myRef},"Hey there, this will be a plot.")}}])}()},function(t,n){t.exports=require("react")},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(2),u=f(i),o=f(e(5)),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(0));function f(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.set_grayscale=e.set_grayscale.bind(e),e.set_scale1=e.set_scale1.bind(e),e.set_d3_scale1=e.set_d3_scale1.bind(e),e.myRef=u.default.createRef(),e.scale1=o.default.scale(["black","blue","red","white"]).correctLightness(),e.scale1=o.default.scale(["yellow","green","blue"]),console.log("d3 = "+a),console.log(a),e.d3_scale1=a.scaleLinear().domain([0,1]).range(["hsl(222,30%,20%)","hsl(62,100%,90%)"]).interpolate(a.interpolateHcl),e.d3_scale1=a.interpolateInferno,e.d3_scale1=a.interpolateCubehelixDefault,e.d3_scale1=a.interpolateWarm,e.d3_scale1=a.interpolateCool,e.d3_scale1=a.interpolateBuGn,e.d3_scale1=a.interpolateYlOrRd,e.d3_scale1=a.interpolateSpectral,e.d3_scale1=a.interpolateCubehelixDefault,console.log("this.scale1 = "+e.scale1),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i.Component),r(n,[{key:"componentDidMount",value:function(){var t=this;this.width=512,this.height=200,this.center_x=this.width/2,this.center_y=this.height/2;var n=document.createElement("canvas");n.style.margin="auto",n.style.display="block",n.width=this.width,n.height=this.height,this.myRef.current.append(n),this.context=n.getContext("2d"),this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,"undefined"!=typeof window&&window.setTimeout(function(){return t.go()},100)}},{key:"componentWillUnmount",value:function(){}},{key:"set_grayscale",value:function(t){return{red:255*t,green:255*t,blue:255*t}}},{key:"set_scale1",value:function(t){var n=this.scale1(t);return{red:n.get("rgb.r"),green:n.get("rgb.g"),blue:n.get("rgb.b")}}},{key:"set_d3_scale1",value:function(t){var n=a.rgb(this.d3_scale1(t));return{red:n.r,green:n.g,blue:n.b}}},{key:"initialize_colormap",value:function(){console.log("start init colormap"),this.cmap_size=200,this.color_red=new Uint8Array(this.cmap_size),this.color_green=new Uint8Array(this.cmap_size),this.color_blue=new Uint8Array(this.cmap_size);var t,n=this.set_grayscale;for(n=this.set_scale1,n=this.set_d3_scale1,t=0;t<this.cmap_size;++t){var e=n(t/this.cmap_size);this.color_red[t]=e.red,this.color_green[t]=e.green,this.color_blue[t]=e.blue}console.log("done init colormap")}},{key:"set_pix",value:function(t,n,e,r,i){var u=Math.round((e-r)/(i-r)*this.cmap_size);u>=this.cmap_size&&(u=this.cmap_size-1),t[n]=this.color_red[u],t[n+1]=this.color_green[u],t[n+2]=this.color_blue[u],t[n+3]=255}},{key:"go_rake",value:function(){this.initialize_colormap();var t,n,e,r,i,u=this.width,o=this.height,a=this.data;for(n=0;n<o;++n)for(i=.05*(1-n/o),t=0;t<u;++t)e=4*(n*u+t),r=t/u+Math.sin(2*Math.PI*t/8)*i+.05,t==u-1&&console.log("pv = "+r),this.set_pix(a,e,r,0,1);this.context.putImageData(this.imageData,0,0)}},{key:"go_sinc",value:function(){this.initialize_colormap();var t,n,e,r,i,u,o,a,f,c=this.height,l=this.width,s=this.center_x,h=this.center_y,d=this.data;for(n=0;n<c;++n)for(f=(a=n-h)*a,t=0;t<l;++t)e=4*(n*l+t),o=(u=t-s)*u,(i=Math.sqrt(o+f))>0?(r=Math.sin(2*Math.PI*i/20)/i,r*=r):r=1,this.set_pix(d,e,r,0,.001);this.context.putImageData(this.imageData,0,0)}},{key:"go",value:function(){return"sinc"===this.props.type?this.go_sinc():"rake"===this.props.type?this.go_rake():void 0}},{key:"render",value:function(){return u.default.createElement("div",{ref:this.myRef,style:{height:"200px",margin:"auto",display:"block"}})}}]),n}();n.default=c},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){(function(t){var e;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */
(function(){var r,i,u,o,a,f,c,l,s,h,d,p,b,g,v,y,_,m,x,w,M,k,N,A,S,E,T,C,P,z,R,O,L,q,D,U,B,Y,j,I,F,H,G,X,V,$,W,Z,Q,K,J,tt,nt,et,rt,it,ut,ot,at,ft,ct,lt,st,ht,dt,pt,bt,gt,vt,yt,_t,mt,xt,wt,Mt,kt,Nt,At,St,Et,Tt=[].slice;kt=function(){var t,n,e,r,i;for(t={},r=0,n=(i="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<n;r++)e=i[r],t["[object "+e+"]"]=e.toLowerCase();return function(n){var e;return e=Object.prototype.toString.call(n),t[e]||"object"}}(),W=function(t,n,e){return null==n&&(n=0),null==e&&(e=1),t<n&&(t=n),t>e&&(t=e),t},Nt=function(t){return t.length>=3?Array.prototype.slice.call(t):t[0]},M=function(t){var n,e;for(t._clipped=!1,t._unclipped=t.slice(0),n=e=0;e<3;n=++e)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)):3===n&&(t[n]<0&&(t[n]=0),t[n]>1&&(t[n]=1));return t._clipped||delete t._unclipped,t},o=Math.PI,_t=Math.round,N=Math.cos,C=Math.floor,rt=Math.pow,Z=Math.log,xt=Math.sin,wt=Math.sqrt,g=Math.atan2,J=Math.max,b=Math.abs,c=2*o,a=o/3,i=o/180,f=180/o,(w=function(){return arguments[0]instanceof r?arguments[0]:function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,arguments,function(){})}).default=w,p=[],void 0!==t&&null!==t&&null!=t.exports&&(t.exports=w),void 0===(e=function(){return w}.apply(n,[]))||(t.exports=e),w.version="1.3.7",d={},s=[],h=!1,r=function(){function t(){var t,n,e,r,i,u,o,a,f;for(u=this,n=[],a=0,r=arguments.length;a<r;a++)null!=(t=arguments[a])&&n.push(t);if(n.length>1&&(o=n[n.length-1]),null!=d[o])u._rgb=M(d[o](Nt(n.slice(0,-1))));else{for(h||(s=s.sort(function(t,n){return n.p-t.p}),h=!0),f=0,i=s.length;f<i&&!(o=(e=s[f]).test.apply(e,n));f++);o&&(u._rgb=M(d[o].apply(d,n)))}null==u._rgb&&console.warn("unknown format: "+n),null==u._rgb&&(u._rgb=[0,0,0]),3===u._rgb.length&&u._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t.prototype.clone=function(){return w(me._rgb)},t}(),w._input=d,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
w.brewer=m={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,n;for(t in n=[],m)n.push(m[t.toLowerCase()]=m[t])}(),w.colors=At={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=function(){var t,n,e,r,i,o,a;return r=(n=Nt(arguments))[0],t=n[1],e=n[2],o=(r+16)/116,i=isNaN(t)?o:o+t/500,a=isNaN(e)?o:o-e/200,o=u.Yn*G(o),i=u.Xn*G(i),a=u.Zn*G(a),[Et(3.2404542*i-1.5371385*o-.4985314*a),Et(-.969266*i+1.8760108*o+.041556*a),e=Et(.0556434*i-.2040259*o+1.0572252*a),n.length>3?n[3]:1]},Et=function(t){return 255*(t<=.00304?12.92*t:1.055*rt(t,1/2.4)-.055)},G=function(t){return t>u.t1?t*t*t:u.t2*(t-u.t0)},u={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},st=function(){var t,n,e,r,i,u,o;return e=(r=Nt(arguments))[0],n=r[1],t=r[2],u=(i=gt(e,n,t))[0],[116*(o=i[1])-16,500*(u-o),200*(o-i[2])]},vt=function(t){return(t/=255)<=.04045?t/12.92:rt((t+.055)/1.055,2.4)},St=function(t){return t>u.t3?rt(t,1/3):t/u.t2+u.t0},gt=function(){var t,n,e,r;return e=(r=Nt(arguments))[0],n=r[1],t=r[2],e=vt(e),n=vt(n),t=vt(t),[St((.4124564*e+.3575761*n+.1804375*t)/u.Xn),St((.2126729*e+.7151522*n+.072175*t)/u.Yn),St((.0193339*e+.119192*n+.9503041*t)/u.Zn)]},w.lab=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["lab"]),function(){})},d.lab=H,r.prototype.lab=function(){return st(this._rgb)},v=function(t){var n,e,r,i,u,o,a,f,c,l,s;return 2===(t=function(){var n,e,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(w(i));return r}()).length?(c=function(){var n,e,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(i.lab());return r}(),u=c[0],o=c[1],n=function(t){var n,e;return e=function(){var e,r;for(r=[],n=e=0;e<=2;n=++e)r.push(u[n]+t*(o[n]-u[n]));return r}(),w.lab.apply(w,e)}):3===t.length?(l=function(){var n,e,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(i.lab());return r}(),u=l[0],o=l[1],a=l[2],n=function(t){var n,e;return e=function(){var e,r;for(r=[],n=e=0;e<=2;n=++e)r.push((1-t)*(1-t)*u[n]+2*(1-t)*t*o[n]+t*t*a[n]);return r}(),w.lab.apply(w,e)}):4===t.length?(s=function(){var n,e,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(i.lab());return r}(),u=s[0],o=s[1],a=s[2],f=s[3],n=function(t){var n,e;return e=function(){var e,r;for(r=[],n=e=0;e<=2;n=++e)r.push((1-t)*(1-t)*(1-t)*u[n]+3*(1-t)*(1-t)*t*o[n]+3*(1-t)*t*t*a[n]+t*t*t*f[n]);return r}(),w.lab.apply(w,e)}):5===t.length&&(e=v(t.slice(0,3)),r=v(t.slice(2,5)),n=function(t){return t<.5?e(2*t):r(2*(t-.5))}),n},w.bezier=function(t){var n;return(n=v(t)).scale=function(){return w.scale(n)},n},w.cubehelix=function(t,n,e,r,i){var u,o,a;return null==t&&(t=300),null==n&&(n=-1.5),null==e&&(e=1),null==r&&(r=1),null==i&&(i=[0,1]),u=0,"array"===kt(i)?o=i[1]-i[0]:(o=0,i=[i,i]),(a=function(a){var f,l,s,h,d;return f=c*((t+120)/360+n*a),h=rt(i[0]+o*a,r),l=(0!==u?e[0]+a*u:e)*h*(1-h)/2,s=N(f),d=xt(f),w(M([255*(h+l*(-.14861*s+1.78277*d)),255*(h+l*(-.29227*s-.90649*d)),255*(h+l*(1.97294*s))]))}).start=function(n){return null==n?t:(t=n,a)},a.rotations=function(t){return null==t?n:(n=t,a)},a.gamma=function(t){return null==t?r:(r=t,a)},a.hue=function(t){return null==t?e:("array"===kt(e=t)?0===(u=e[1]-e[0])&&(e=e[1]):u=0,a)},a.lightness=function(t){return null==t?i:("array"===kt(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),a)},a.scale=function(){return w.scale(a)},a.hue(e),a},w.random=function(){var t,n;for("0123456789abcdef",t="#",n=0;n<6;++n)t+="0123456789abcdef".charAt(C(16*Math.random()));return new r(t)},p=[],w.interpolate=D=function(t,n,e,r){var i,u,o,a;for(null==e&&(e=.5),null==r&&(r="rgb"),"object"!==kt(t)&&(t=w(t)),"object"!==kt(n)&&(n=w(n)),o=0,u=p.length;o<u;o++)if(r===(i=p[o])[0]){a=i[1](t,n,e,r);break}if(null==a)throw"color mode "+r+" is not supported";return a.alpha(t.alpha()+e*(n.alpha()-t.alpha()))},r.prototype.interpolate=function(t,n,e){return D(this,t,n,e)},w.mix=D,r.prototype.mix=r.prototype.interpolate,d.rgb=function(){var t,n,e,r;for(t in e=[],n=Nt(arguments))r=n[t],e.push(r);return e},w.rgb=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["rgb"]),function(){})},r.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},s.push({p:3,test:function(t){var n;return n=Nt(arguments),"array"===kt(n)&&3===n.length?"rgb":4===n.length&&"number"===kt(n[3])&&n[3]>=0&&n[3]<=1?"rgb":void 0}}),d.lrgb=d.rgb,Y=function(t,n,e,i){var u,o;return u=t._rgb,o=n._rgb,new r(wt(rt(u[0],2)*(1-e)+rt(o[0],2)*e),wt(rt(u[1],2)*(1-e)+rt(o[1],2)*e),wt(rt(u[2],2)*(1-e)+rt(o[2],2)*e),i)},l=function(t){var n,e,i,u,o;for(n=1/t.length,o=[0,0,0,0],i=0,e=t.length;i<e;i++)u=t[i]._rgb,o[0]+=rt(u[0],2)*n,o[1]+=rt(u[1],2)*n,o[2]+=rt(u[2],2)*n,o[3]+=u[3]*n;return o[0]=wt(o[0]),o[1]=wt(o[1]),o[2]=wt(o[2]),new r(o)},p.push(["lrgb",Y]),w.average=function(t,n){var e,r,i,u,a,f,c,s,h,d,p,b,v;if(null==n&&(n="rgb"),h=t.length,c=(t=t.map(function(t){return w(t)})).splice(0,1)[0],"lrgb"===n)return l(t);for(s in u=[],a=0,f=0,b=c.get(n))b[s]=b[s]||0,u.push(isNaN(b[s])?0:1),"h"!==n.charAt(s)||isNaN(b[s])||(e=b[s]/180*o,a+=N(e),f+=xt(e));for(r=c.alpha(),p=0,d=t.length;p<d;p++)for(s in v=(i=t[p]).get(n),r+=i.alpha(),b)isNaN(v[s])||(u[s]+=1,"h"===n.charAt(s)?(e=v[s]/180*o,a+=N(e),f+=xt(e)):b[s]+=v[s]);for(s in b)if("h"===n.charAt(s)){for(e=g(f/u[s],a/u[s])/o*180;e<0;)e+=360;for(;e>=360;)e-=360;b[s]=e}else b[s]=b[s]/u[s];return w(b,n).alpha(r/h)},z=function(t){var n,e;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[(e=parseInt(t,16))>>16,e>>8&255,255&e,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),[(e=parseInt(t,16))>>24&255,e>>16&255,e>>8&255,_t((255&e)/255*100)/100];if(null!=d.css&&(n=d.css(t)))return n;throw"unknown color: "+t},at=function(t,n){var e,r,i,u,o,a;return null==n&&(n="rgb"),o=t[0],i=t[1],r=t[2],e=t[3],o=Math.round(o),i=Math.round(i),r=Math.round(r),a=(a="000000"+(o<<16|i<<8|r).toString(16)).substr(a.length-6),u=(u="0"+_t(255*e).toString(16)).substr(u.length-2),"#"+function(){switch(n.toLowerCase()){case"rgba":return a+u;case"argb":return u+a;default:return a}}()},d.hex=function(t){return z(t)},w.hex=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["hex"]),function(){})},r.prototype.hex=function(t){return null==t&&(t="rgb"),at(this._rgb,t)},s.push({p:4,test:function(t){if(1===arguments.length&&"string"===kt(t))return"hex"}}),L=function(){var t,n,e,r,i,u,o,a,f,c,l,s,h,d;if(i=(t=Nt(arguments))[0],l=t[1],o=t[2],0===l)f=r=n=255*o;else{for(d=[0,0,0],e=[0,0,0],s=2*o-(h=o<.5?o*(1+l):o+l-o*l),i/=360,d[0]=i+1/3,d[1]=i,d[2]=i-1/3,u=a=0;a<=2;u=++a)d[u]<0&&(d[u]+=1),d[u]>1&&(d[u]-=1),6*d[u]<1?e[u]=s+6*(h-s)*d[u]:2*d[u]<1?e[u]=h:3*d[u]<2?e[u]=s+(h-s)*(2/3-d[u])*6:e[u]=s;f=(c=[_t(255*e[0]),_t(255*e[1]),_t(255*e[2])])[0],r=c[1],n=c[2]}return t.length>3?[f,r,n,t[3]]:[f,r,n]},ct=function(t,n,e){var r,i,u,o,a;return void 0!==t&&t.length>=3&&(t=(o=t)[0],n=o[1],e=o[2]),t/=255,n/=255,e/=255,u=Math.min(t,n,e),i=((J=Math.max(t,n,e))+u)/2,J===u?(a=0,r=Number.NaN):a=i<.5?(J-u)/(J+u):(J-u)/(2-J-u),t===J?r=(n-e)/(J-u):n===J?r=2+(e-t)/(J-u):e===J&&(r=4+(t-n)/(J-u)),(r*=60)<0&&(r+=360),[r,a,i]},w.hsl=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["hsl"]),function(){})},d.hsl=L,r.prototype.hsl=function(){return ct(this._rgb)},q=function(){var t,n,e,r,i,u,o,a,f,c,l,s,h,d,p,b,g,v;if(i=(t=Nt(arguments))[0],b=t[1],v=t[2],v*=255,0===b)f=r=n=v;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),o=v*(1-b),a=v*(1-b*(e=(i/=60)-(u=C(i)))),g=v*(1-b*(1-e)),u){case 0:f=(c=[v,g,o])[0],r=c[1],n=c[2];break;case 1:f=(l=[a,v,o])[0],r=l[1],n=l[2];break;case 2:f=(s=[o,v,g])[0],r=s[1],n=s[2];break;case 3:f=(h=[o,a,v])[0],r=h[1],n=h[2];break;case 4:f=(d=[g,o,v])[0],r=d[1],n=d[2];break;case 5:f=(p=[v,o,a])[0],r=p[1],n=p[2]}return[f,r,n,t.length>3?t[3]:1]},lt=function(){var t,n,e,r,i,u,o,a,f;return u=(o=Nt(arguments))[0],e=o[1],t=o[2],i=Math.min(u,e,t),n=(J=Math.max(u,e,t))-i,f=J/255,0===J?(r=Number.NaN,a=0):(a=n/J,u===J&&(r=(e-t)/n),e===J&&(r=2+(t-u)/n),t===J&&(r=4+(u-e)/n),(r*=60)<0&&(r+=360)),[r,a,f]},w.hsv=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["hsv"]),function(){})},d.hsv=q,r.prototype.hsv=function(){return lt(this._rgb)},nt=function(t){return"number"===kt(t)&&t>=0&&t<=16777215?[t>>16,t>>8&255,255&t,1]:(console.warn("unknown num color: "+t),[0,0,0,1])},pt=function(){var t;return((t=Nt(arguments))[0]<<16)+(t[1]<<8)+t[2]},w.num=function(t){return new r(t,"num")},r.prototype.num=function(t){return null==t&&(t="rgb"),pt(this._rgb,t)},d.num=nt,s.push({p:1,test:function(t){if(1===arguments.length&&"number"===kt(t)&&t>=0&&t<=16777215)return"num"}}),P=function(){var t,n,e,r,i,u,o,a,f,c,l,s,h,d,p,b,g,v,y,_;if(a=(e=Nt(arguments))[0],i=e[1],n=e[2],o=o/100*255,t=255*(i/=100),0===i)s=o=r=n;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),l=(c=n*(1-i))+t*(1-(u=(a/=60)-(f=C(a)))),y=c+t*u,_=c+t,f){case 0:s=(h=[_,y,c])[0],o=h[1],r=h[2];break;case 1:s=(d=[l,_,c])[0],o=d[1],r=d[2];break;case 2:s=(p=[c,_,y])[0],o=p[1],r=p[2];break;case 3:s=(b=[c,l,_])[0],o=b[1],r=b[2];break;case 4:s=(g=[y,c,_])[0],o=g[1],r=g[2];break;case 5:s=(v=[_,c,l])[0],o=v[1],r=v[2]}return[s,o,r,e.length>3?e[3]:1]},ot=function(){var t,n,e,r,i,u,o,a,f;return a=(f=Nt(arguments))[0],i=f[1],n=f[2],o=Math.min(a,i,n),e=100*(r=(J=Math.max(a,i,n))-o)/255,t=o/(255-r)*100,0===r?u=Number.NaN:(a===J&&(u=(i-n)/r),i===J&&(u=2+(n-a)/r),n===J&&(u=4+(a-i)/r),(u*=60)<0&&(u+=360)),[u,e,t]},w.hcg=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["hcg"]),function(){})},d.hcg=P,r.prototype.hcg=function(){return ot(this._rgb)},A=function(t){var n,e,r,i,u,o,a,f;if(t=t.toLowerCase(),null!=w.colors&&w.colors[t])return z(w.colors[t]);if(u=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(a=u.slice(1,4),i=o=0;o<=2;i=++o)a[i]=+a[i];a[3]=1}else if(u=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(a=u.slice(1,5),i=f=0;f<=3;i=++f)a[i]=+a[i];else if(u=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(a=u.slice(1,4),i=n=0;n<=2;i=++n)a[i]=_t(2.55*a[i]);a[3]=1}else if(u=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(a=u.slice(1,5),i=e=0;e<=2;i=++e)a[i]=_t(2.55*a[i]);a[3]=+a[3]}else(u=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=u.slice(1,4))[1]*=.01,r[2]*=.01,(a=L(r))[3]=1):(u=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=u.slice(1,4))[1]*=.01,r[2]*=.01,(a=L(r))[3]=+u[4]);return a},ut=function(t){var n;return"rgb"===(n=t[3]<1?"rgba":"rgb")?n+"("+t.slice(0,3).map(_t).join(",")+")":"rgba"===n?n+"("+t.slice(0,3).map(_t).join(",")+","+t[3]+")":void 0},yt=function(t){return _t(100*t)/100},O=function(t,n){var e;return e=n<1?"hsla":"hsl",t[0]=yt(t[0]||0),t[1]=yt(100*t[1])+"%",t[2]=yt(100*t[2])+"%","hsla"===e&&(t[3]=n),e+"("+t.join(",")+")"},d.css=function(t){return A(t)},w.css=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["css"]),function(){})},r.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?ut(this._rgb):"hsl"===t.slice(0,3)?O(this.hsl(),this.alpha()):void 0},d.named=function(t){return z(At[t])},s.push({p:5,test:function(t){if(1===arguments.length&&null!=At[t])return"named"}}),r.prototype.name=function(t){var n,e;for(e in arguments.length&&(At[t]&&(this._rgb=z(At[t])),this._rgb[3]=1),n=this.hex(),At)if(n===At[e])return e;return n},X=function(){var t,n,e,r;return e=(r=Nt(arguments))[0],t=r[1],n=r[2],[e,N(n*=i)*t,xt(n)*t]},V=function(){var t,n,e,r,i,u,o,a,f;return o=(e=Nt(arguments))[0],i=e[1],u=e[2],t=(a=X(o,i,u))[0],n=a[1],r=a[2],[(f=H(t,n,r))[0],f[1],r=f[2],e.length>3?e[3]:1]},F=function(){var t,n,e,r,i,u;return i=(u=Nt(arguments))[0],t=u[1],n=u[2],e=wt(t*t+n*n),r=(g(n,t)*f+360)%360,0===_t(1e4*e)&&(r=Number.NaN),[i,e,r]},ht=function(){var t,n,e,r,i,u,o;return i=(u=Nt(arguments))[0],e=u[1],n=u[2],r=(o=st(i,e,n))[0],t=o[1],n=o[2],F(r,t,n)},w.lch=function(){var t;return t=Nt(arguments),new r(t,"lch")},w.hcl=function(){var t;return t=Nt(arguments),new r(t,"hcl")},d.lch=V,d.hcl=function(){var t,n,e,r;return n=(r=Nt(arguments))[0],t=r[1],e=r[2],V([e,t,n])},r.prototype.lch=function(){return ht(this._rgb)},r.prototype.hcl=function(){return ht(this._rgb).reverse()},it=function(t){var n,e,r,i,u,o;return null==t&&(t="rgb"),u=(o=Nt(arguments))[0],r=o[1],n=o[2],r/=255,n/=255,[(1-(u/=255)-(i=1-Math.max(u,Math.max(r,n))))*(e=i<1?1/(1-i):0),(1-r-i)*e,(1-n-i)*e,i]},k=function(){var t,n,e,r,i,u;return e=(n=Nt(arguments))[0],i=n[1],u=n[2],r=n[3],t=n.length>4?n[4]:1,1===r?[0,0,0,t]:[e>=1?0:255*(1-e)*(1-r),i>=1?0:255*(1-i)*(1-r),u>=1?0:255*(1-u)*(1-r),t]},d.cmyk=function(){return k(Nt(arguments))},w.cmyk=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["cmyk"]),function(){})},r.prototype.cmyk=function(){return it(this._rgb)},d.gl=function(){var t,n,e,r,i;for(r=function(){var t,e;for(n in e=[],t=Nt(arguments))i=t[n],e.push(i);return e}.apply(this,arguments),t=e=0;e<=2;t=++e)r[t]*=255;return r},w.gl=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["gl"]),function(){})},r.prototype.gl=function(){var t;return[(t=this._rgb)[0]/255,t[1]/255,t[2]/255,t[3]]},dt=function(t,n,e){var r;return t=(r=Nt(arguments))[0],n=r[1],e=r[2],.2126*(t=Q(t))+.7152*(n=Q(n))+.0722*(e=Q(e))},Q=function(t){return(t/=255)<=.03928?t/12.92:rt((t+.055)/1.055,2.4)},I=function(t,n,e,i){var u,o;return u=t._rgb,o=n._rgb,new r(u[0]+e*(o[0]-u[0]),u[1]+e*(o[1]-u[1]),u[2]+e*(o[2]-u[2]),i)},p.push(["rgb",I]),r.prototype.luminance=function(t,n){var e,r,i,u,o;return null==n&&(n="rgb"),arguments.length?(u=this._rgb,0===t?u=[0,0,0,this._rgb[3]]:1===t?u=[255,255,255,this[3]]:(e=dt(this._rgb),r=1e-7,i=20,o=function(e,u){var a,f;return a=(f=e.interpolate(u,.5,n)).luminance(),Math.abs(t-a)<r||!i--?f:a>t?o(e,f):o(f,u)},u=e>t?o(w("black"),this).rgba():o(this,w("white")).rgba()),w(u).alpha(this.alpha())):dt(this._rgb)},Mt=function(t){var n,e,r,i;return(i=t/100)<66?(r=255,e=-155.25485562709179-.44596950469579133*(e=i-2)+104.49216199393888*Z(e),n=i<20?0:.8274096064007395*(n=i-10)-254.76935184120902+115.67994401066147*Z(n)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*Z(r),e=325.4494125711974+.07943456536662342*(e=i-50)-28.0852963507957*Z(e),n=255),[r,e,n]},bt=function(){var t,n,e,r,i,u,o;for(r=(i=Nt(arguments))[0],i[1],t=i[2],e=1e3,n=4e4,.4;n-e>.4;)(u=Mt(o=.5*(n+e)))[2]/u[0]>=t/r?n=o:e=o;return _t(o)},w.temperature=w.kelvin=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=Mt,r.prototype.temperature=function(){return bt(this._rgb)},r.prototype.kelvin=r.prototype.temperature,w.contrast=function(t,n){var e,i,u,o;return"string"!==(u=kt(t))&&"number"!==u||(t=new r(t)),"string"!==(o=kt(n))&&"number"!==o||(n=new r(n)),(e=t.luminance())>(i=n.luminance())?(e+.05)/(i+.05):(i+.05)/(e+.05)},w.distance=function(t,n,e){var i,u,o,a,f,c,l;for(u in null==e&&(e="lab"),"string"!==(f=kt(t))&&"number"!==f||(t=new r(t)),"string"!==(c=kt(n))&&"number"!==c||(n=new r(n)),o=t.get(e),a=n.get(e),l=0,o)l+=(i=(o[u]||0)-(a[u]||0))*i;return Math.sqrt(l)},w.deltaE=function(t,n,e,i){var u,a,f,c,l,s,h,d,p,v,y,_,m,x,w,M,k,A,S,E,T,C,P,z;for(null==e&&(e=1),null==i&&(i=1),"string"!==(w=kt(t))&&"number"!==w||(t=new r(t)),"string"!==(M=kt(n))&&"number"!==M||(n=new r(n)),u=(k=t.lab())[0],f=k[1],l=k[2],a=(A=n.lab())[0],c=A[1],s=A[2],h=wt(f*f+l*l),d=wt(c*c+s*s),E=u<16?.511:.040975*u/(1+.01765*u),S=.0638*h/(1+.0131*h)+.638,x=h<1e-6?0:180*g(l,f)/o;x<0;)x+=360;for(;x>=360;)x-=360;return T=x>=164&&x<=345?.56+b(.2*N(o*(x+168)/180)):.36+b(.4*N(o*(x+35)/180)),m=wt((p=h*h*h*h)/(p+1900)),wt((C=(u-a)/(e*E))*C+(P=(_=h-d)/(i*S))*P+((v=f-c)*v+(y=l-s)*y-_*_)/((z=S*(m*T+1-m))*z))},r.prototype.get=function(t){var n,e,r,i,u;return this,r=(i=t.split("."))[0],n=i[1],u=this[r](),n?(e=r.indexOf(n))>-1?u[e]:console.warn("unknown channel "+n+" in mode "+r):u},r.prototype.set=function(t,n){var e,r,i,u,o;if(this,i=(u=t.split("."))[0],e=u[1])if(o=this[i](),(r=i.indexOf(e))>-1)if("string"===kt(n))switch(n.charAt(0)){case"+":case"-":o[r]+=+n;break;case"*":o[r]*=+n.substr(1);break;case"/":o[r]/=+n.substr(1);break;default:o[r]=+n}else o[r]=n;else console.warn("unknown channel "+e+" in mode "+i);else o=n;return w(o,i).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(t){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},r.prototype.darken=function(t){var n;return null==t&&(t=1),this,(n=this.lab())[0]-=u.Kn*t,w.lab(n).alpha(this.alpha())},r.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(t){var n;return null==t&&(t=1),this,(n=this.lch())[1]+=t*u.Kn,n[1]<0&&(n[1]=0),w.lch(n).alpha(this.alpha())},r.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},r.prototype.premultiply=function(){var t,n;return n=this.rgb(),t=this.alpha(),w(n[0]*t,n[1]*t,n[2]*t,t)},tt=function(t,n){return t*n/255},S=function(t,n){return t>n?n:t},$=function(t,n){return t>n?t:n},mt=function(t,n){return 255*(1-(1-t/255)*(1-n/255))},et=function(t,n){return n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255))},x=function(t,n){return 255*(1-(1-n/255)/(t/255))},E=function(t,n){return 255===t?255:(t=n/255*255/(1-t/255))>255?255:t},(y=function(t,n,e){if(!y[e])throw"unknown blend mode "+e;return y[e](t,n)}).normal=(_=function(t){return function(n,e){var r,i;return r=w(e).rgb(),i=w(n).rgb(),w(t(r,i),"rgb")}})((T=function(t){return function(n,e){var r,i,u;for(u=[],r=i=0;i<=3;r=++i)u[r]=t(n[r],e[r]);return u}})(function(t,n){return t})),y.multiply=_(T(tt)),y.screen=_(T(mt)),y.overlay=_(T(et)),y.darken=_(T(S)),y.lighten=_(T($)),y.dodge=_(T(E)),y.burn=_(T(x)),w.blend=y,w.analyze=function(t){var n,e,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},e=0,n=t.length;e<n;e++)null==(i=t[e])||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(t,n){return w.limits(r,t,n)},r},w.scale=function(t,n){var e,r,i,u,o,a,f,c,l,s,h,d,p,b,g,v,y,_,m,x,M;return l="rgb",s=w("#ccc"),b=0,!1,o=[0,1],p=[],d=[0,0],e=!1,i=[],h=!1,c=0,f=1,u=!1,r={},g=!0,a=1,x=function(t){var n,e,r,u,o,a;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===kt(t)&&null!=w.brewer&&(t=w.brewer[t]||w.brewer[t.toLowerCase()]||t),"array"===kt(t)){for(n=r=0,u=(t=t.slice(0)).length-1;0<=u?r<=u:r>=u;n=0<=u?++r:--r)e=t[n],"string"===kt(e)&&(t[n]=w(e));for(p.length=0,n=a=0,o=t.length-1;0<=o?a<=o:a>=o;n=0<=o?++a:--a)p.push(n/(t.length-1))}return m(),i=t},y=function(t){var n,r;if(null!=e){for(r=e.length-1,n=0;n<r&&t>=e[n];)n++;return n-1}return 0},M=function(t){return t},function(t){var n,r,i,u,o;return o=t,e.length>2&&(u=e.length-1,n=y(t),i=e[0]+(e[1]-e[0])*(0+.5*b),r=e[u-1]+(e[u]-e[u-1])*(1-.5*b),o=c+(e[n]+.5*(e[n+1]-e[n])-i)/(r-i)*(f-c)),o},_=function(t,n){var u,o,h,b,v,_,m;if(null==n&&(n=!1),isNaN(t))return s;if(m=n?t:e&&e.length>2?y(t)/(e.length-2):f!==c?(t-c)/(f-c):1,n||(m=M(m)),1!==a&&(m=rt(m,a)),m=d[0]+m*(1-d[0]-d[1]),m=Math.min(1,Math.max(0,m)),h=Math.floor(1e4*m),g&&r[h])u=r[h];else{if("array"===kt(i))for(o=b=0,_=p.length-1;0<=_?b<=_:b>=_;o=0<=_?++b:--b){if(m<=(v=p[o])){u=i[o];break}if(m>=v&&o===p.length-1){u=i[o];break}if(m>v&&m<p[o+1]){m=(m-v)/(p[o+1]-v),u=w.interpolate(i[o],i[o+1],m,l);break}}else"function"===kt(i)&&(u=i(m));g&&(r[h]=u)}return u},m=function(){return r={}},x(t),(v=function(t){var n;return n=w(_(t)),h&&n[h]?n[h]():n}).classes=function(t){var n;return null!=t?("array"===kt(t)?(e=t,o=[t[0],t[t.length-1]]):(n=w.analyze(o),e=0===t?[n.min,n.max]:w.limits(n,"e",t)),v):e},v.domain=function(t){var n,e,r,u,a,l,s;if(!arguments.length)return o;if(c=t[0],f=t[t.length-1],p=[],r=i.length,t.length===r&&c!==f)for(a=0,u=t.length;a<u;a++)e=t[a],p.push((e-c)/(f-c));else for(n=s=0,l=r-1;0<=l?s<=l:s>=l;n=0<=l?++s:--s)p.push(n/(r-1));return o=[c,f],v},v.mode=function(t){return arguments.length?(l=t,m(),v):l},v.range=function(t,n){return x(t),v},v.out=function(t){return h=t,v},v.spread=function(t){return arguments.length?(b=t,v):b},v.correctLightness=function(t){return null==t&&(t=!0),u=t,m(),M=u?function(t){var n,e,r,i,u,o,a,f,c;for(n=_(0,!0).lab()[0],e=_(1,!0).lab()[0],a=n>e,r=_(t,!0).lab()[0],i=r-(u=n+(e-n)*t),f=0,c=1,o=20;Math.abs(i)>.01&&o-- >0;)a&&(i*=-1),i<0?(f=t,t+=.5*(c-t)):(c=t,t+=.5*(f-t)),r=_(t,!0).lab()[0],i=r-u;return t}:function(t){return t},v},v.padding=function(t){return null!=t?("number"===kt(t)&&(t=[t,t]),d=t,v):d},v.colors=function(n,r){var u,a,f,c,l,s,h,d;if(arguments.length<2&&(r="hex"),l=[],0===arguments.length)l=i.slice(0);else if(1===n)l=[v(.5)];else if(n>1)a=o[0],u=o[1]-a,l=function(){s=[];for(var t=0;0<=n?t<n:t>n;0<=n?t++:t--)s.push(t);return s}.apply(this).map(function(t){return v(a+t/(n-1)*u)});else{if(t=[],h=[],e&&e.length>2)for(f=d=1,c=e.length;1<=c?d<c:d>c;f=1<=c?++d:--d)h.push(.5*(e[f-1]+e[f]));else h=o;l=h.map(function(t){return v(t)})}return w[r]&&(l=l.map(function(t){return t[r]()})),l},v.cache=function(t){return null!=t?(g=t,v):g},v.gamma=function(t){return null!=t?(a=t,v):a},v},null==w.scales&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(t,n,e){var r,i,u,o,a,f;if(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==e&&(e=function(){return!0}),r=function(t){null==t||isNaN(t)||(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)},f=function(t,i){if(e(t,i))return null!=n&&"function"===kt(n)?r(n(t)):null!=n&&"string"===kt(n)||"number"===kt(n)?r(t[n]):r(t)},"array"===kt(t))for(o=0,u=t.length;o<u;o++)f(t[o]);else for(i in t)f(t[i],i);return a.domain=[a.min,a.max],a.limits=function(t,n){return w.limits(a,t,n)},a},w.limits=function(t,n,e){var r,i,u,o,a,f,c,l,s,h,d,p,g,v,y,_,m,x,M,k,N,A,S,E,T,P,z,R,O,L,q,D,U,B,Y,j,I,F,H,G,X,V,$,W,Q,K,tt,nt,et,it,ut,ot,at,ft,ct;if(null==n&&(n="equal"),null==e&&(e=7),"array"===kt(t)&&(t=w.analyze(t)),T=t.min,J=t.max,t.sum,ft=t.values.sort(function(t,n){return t-n}),1===e)return[T,J];if(S=[],"c"===n.substr(0,1)&&(S.push(T),S.push(J)),"e"===n.substr(0,1)){for(S.push(T),k=q=1,Y=e-1;1<=Y?q<=Y:q>=Y;k=1<=Y?++q:--q)S.push(T+k/e*(J-T));S.push(J)}else if("l"===n.substr(0,1)){if(T<=0)throw"Logarithmic scales are only possible for values > 0";for(P=Math.LOG10E*Z(T),E=Math.LOG10E*Z(J),S.push(T),k=ct=1,j=e-1;1<=j?ct<=j:ct>=j;k=1<=j?++ct:--ct)S.push(rt(10,P+k/e*(E-P)));S.push(J)}else if("q"===n.substr(0,1)){for(S.push(T),k=r=1,V=e-1;1<=V?r<=V:r>=V;k=1<=V?++r:--r)D=(ft.length-1)*k/e,(U=C(D))===D?S.push(ft[U]):(B=D-U,S.push(ft[U]*(1-B)+ft[U+1]*B));S.push(J)}else if("k"===n.substr(0,1)){for(R=ft.length,v=new Array(R),x=new Array(e),it=!0,O=0,_=null,(_=[]).push(T),k=i=1,$=e-1;1<=$?i<=$:i>=$;k=1<=$?++i:--i)_.push(T+k/e*(J-T));for(_.push(J);it;){for(N=u=0,W=e-1;0<=W?u<=W:u>=W;N=0<=W?++u:--u)x[N]=0;for(k=o=0,Q=R-1;0<=Q?o<=Q:o>=Q;k=0<=Q?++o:--o){for(at=ft[k],z=Number.MAX_VALUE,N=a=0,K=e-1;0<=K?a<=K:a>=K;N=0<=K?++a:--a)(M=b(_[N]-at))<z&&(z=M,y=N);x[y]++,v[k]=y}for(L=new Array(e),N=f=0,tt=e-1;0<=tt?f<=tt:f>=tt;N=0<=tt?++f:--f)L[N]=null;for(k=c=0,nt=R-1;0<=nt?c<=nt:c>=nt;k=0<=nt?++c:--c)null===L[m=v[k]]?L[m]=ft[k]:L[m]+=ft[k];for(N=l=0,et=e-1;0<=et?l<=et:l>=et;N=0<=et?++l:--l)L[N]*=1/x[N];for(it=!1,N=s=0,I=e-1;0<=I?s<=I:s>=I;N=0<=I?++s:--s)if(L[N]!==_[k]){it=!0;break}_=L,++O>200&&(it=!1)}for(A={},N=h=0,F=e-1;0<=F?h<=F:h>=F;N=0<=F?++h:--h)A[N]=[];for(k=d=0,H=R-1;0<=H?d<=H:d>=H;k=0<=H?++d:--d)A[m=v[k]].push(ft[k]);for(ut=[],N=p=0,G=e-1;0<=G?p<=G:p>=G;N=0<=G?++p:--p)ut.push(A[N][0]),ut.push(A[N][A[N].length-1]);for(ut=ut.sort(function(t,n){return t-n}),S.push(ut[0]),k=g=1,X=ut.length-1;g<=X;k=g+=2)ot=ut[k],isNaN(ot)||-1!==S.indexOf(ot)||S.push(ot)}return S},R=function(t,n,e){var r,i,u,o;return t=(r=Nt(arguments))[0],n=r[1],e=r[2],isNaN(t)&&(t=0),(t/=360)<1/3?u=1-((i=(1-n)/3)+(o=(1+n*N(c*t)/N(a-c*t))/3)):t<2/3?i=1-((o=(1-n)/3)+(u=(1+n*N(c*(t-=1/3))/N(a-c*t))/3)):o=1-((u=(1-n)/3)+(i=(1+n*N(c*(t-=2/3))/N(a-c*t))/3)),[255*(o=W(e*o*3)),255*(u=W(e*u*3)),255*(i=W(e*i*3)),r.length>3?r[3]:1]},ft=function(){var t,n,e,r,i,u,o;return i=(u=Nt(arguments))[0],n=u[1],t=u[2],c=2*Math.PI,i/=255,n/=255,t/=255,0===(o=1-Math.min(i,n,t)/(r=(i+n+t)/3))?e=0:(e=(i-n+(i-t))/2,e/=Math.sqrt((i-n)*(i-n)+(i-t)*(n-t)),e=Math.acos(e),t>n&&(e=c-e),e/=c),[360*e,o,r]},w.hsi=function(){return function(t,n,e){e.prototype=t.prototype;var r=new e,i=t.apply(r,n);return Object(i)===i?i:r}(r,Tt.call(arguments).concat(["hsi"]),function(){})},d.hsi=R,r.prototype.hsi=function(){return ft(this._rgb)},U=function(t,n,e,r){var i,u,o,a,f,c,l,s,h,d;return"hsl"===r?(h=t.hsl(),d=n.hsl()):"hsv"===r?(h=t.hsv(),d=n.hsv()):"hcg"===r?(h=t.hcg(),d=n.hcg()):"hsi"===r?(h=t.hsi(),d=n.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",h=t.hcl(),d=n.hcl()),"h"===r.substr(0,1)&&(u=h[0],l=h[1],a=h[2],o=d[0],s=d[1],f=d[2]),isNaN(u)||isNaN(o)?isNaN(u)?isNaN(o)?i=Number.NaN:(i=o,1!==a&&0!==a||"hsv"===r||(c=s)):(i=u,1!==f&&0!==f||"hsv"===r||(c=l)):i=u+e*(o>u&&o-u>180?o-(u+360):o<u&&u-o>180?o+360-u:o-u),null==c&&(c=l+e*(s-l)),w[r](i,c,a+e*(f-a))},j=function(t,n,e,r){var i,u;return i=t.num(),u=n.num(),w.num(i+(u-i)*e,"num")},(p=p.concat(function(){var t,n,e,r;for(r=[],n=0,t=(e=["hsv","hsl","hsi","hcl","lch","hcg"]).length;n<t;n++)K=e[n],r.push([K,U]);return r}())).push(["num",j]),B=function(t,n,e,i){var u,o;return u=t.lab(),o=n.lab(),new r(u[0]+e*(o[0]-u[0]),u[1]+e*(o[1]-u[1]),u[2]+e*(o[2]-u[2]),i)},p.push(["lab",B])}).call(this)}).call(this,e(4)(t))},function(t,n,e){"use strict";e.r(n);var r=e(3),i=e.n(r);e.d(n,"ColormapTestImage",function(){return i.a});var u=e(1),o=e.n(u);e.d(n,"ColormapRGBPlot",function(){return o.a})}]);